{"version":3,"sources":["component/Admin/Dashboard.js","component/Admin/Index.js","component/Admin/Setting/SiteInformation.js","component/Admin/Dialogs/Alert.js","component/Admin/Setting/Access.js","component/Admin/Setting/Mail.js","component/Admin/Common/SizeInput.js","component/Admin/Setting/UploadDownload.js","component/Admin/Dialogs/CreateTheme.js","component/Admin/Setting/Theme.js","component/Admin/Setting/Aria2.js","component/Admin/Setting/Image.js","component/Admin/Dialogs/AddPolicy.js","component/Admin/Policy/Policy.js","component/Admin/Common/DomainInput.js","component/Admin/Dialogs/MagicVar.js","component/Admin/Policy/Guid/COSGuide.js","component/Admin/Policy/Guid/LocalGuide.js","component/Admin/Policy/Guid/OneDriveGuide.js","component/Admin/Policy/Guid/OSSGuide.js","component/Admin/Policy/Guid/QiniuGuide.js","component/Admin/Policy/Guid/RemoteGuide.js","component/Admin/Policy/Guid/UpyunGuide.js","component/Admin/Policy/Guid/S3Guide.js","component/Admin/Policy/AddPolicy.js","component/Admin/Policy/Guid/EditPro.js","component/Admin/Policy/EditPolicy.js","component/Admin/Group/Group.js","component/Admin/Group/GroupForm.js","component/Admin/Group/EditGroup.js","component/Admin/Dialogs/UserFilter.js","component/Admin/User/User.js","component/Admin/User/UserForm.js","component/Admin/User/EditUser.js","component/Admin/Dialogs/FileFilter.js","component/Admin/File/File.js","component/Admin/Dialogs/ShareFilter.js","component/Admin/Share/Share.js","component/Admin/Task/Download.js","component/Admin/Task/Task.js","component/Admin/File/Import.js","Admin.js"],"names":["ExpansionPanel","withStyles","root","maxWidth","boxShadow","borderBottom","display","margin","expanded","MuiExpansionPanel","ExpansionPanelSummary","minHeight","padding","content","MuiExpansionPanelSummary","ExpansionPanelDetails","theme","spacing","MuiExpansionPanelDetails","useStyles","makeStyles","width","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","title","flexGrow","toolbar","alignItems","justifyContent","mixins","sub","paddingLeft","color","palette","text","secondary","subMenu","backgroundColor","background","default","paddingTop","paddingBottom","active","lighten","primary","main","activeText","fontWeight","activeIcon","items","icon","Home","path","Settings","Language","Contacts","Mail","SettingsEthernet","Palette","CloudDownload","Image","Storage","Group","Person","InsertDriveFile","Share","Assignment","ListAlt","Dashboard","classes","useTheme","useState","pathHelper","isMobile","open","setOpen","menuOpen","setMenuOpen","history","useHistory","location","useLocation","dispatch","useDispatch","SetSubTitle","useCallback","changeSubTitle","useEffect","useRouteMatch","className","AppBar","position","clsx","Toolbar","IconButton","aria-label","onClick","edge","Typography","variant","noWrap","UserAvatar","Drawer","paper","direction","Divider","List","noPadding","map","item","undefined","ListItem","push","button","pathname","startsWith","key","ListItemIcon","ListItemText","square","onChange","event","isExpanded","aria-controls","id","height","logo","logoContainer","cloudreve","fontSize","version","hint","links","iconRight","minWidth","userIcon","blue","fileIcon","yellow","publicIcon","green","secretIcon","red","Index","lineData","setLineData","news","setNews","newsUsers","setNewsUsers","React","siteURL","setSiteURL","fileTotal","userTotal","publicShareTotal","secretShareTotal","statistics","setStatistics","backend","setVersion","ToggleSnackbar","vertical","horizontal","msg","toggleSnackbar","API","get","then","response","data","date","forEach","v","k","name","file","files","user","users","share","shares","window","origin","catch","error","message","axios","res","included","type","attributes","Grid","container","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","patch","options","value","alignContent","xs","md","lg","Paper","gutterBottom","aspect","strokeDasharray","dataKey","stroke","ListItemAvatar","Avatar","People","FileCopy","Public","Lock","alt","src","is_pro","Chip","size","label","component","Launch","GitHub","Description","Forum","Telegram","style","Favorite","relationships","startUser","avatarUrl","Fragment","inline","username","datetime","startTime","locale","form","marginTop","marginBottom","formContainer","SiteInformation","loading","setLoading","siteName","siteTitle","siteDes","siteICPId","siteScript","pwa_small_icon","pwa_medium_icon","pwa_large_icon","pwa_display","pwa_theme_color","pwa_background_color","setOptions","handleChange","target","post","keys","Object","onSubmit","e","preventDefault","option","FormControl","fullWidth","InputLabel","htmlFor","Input","required","FormHelperText","multiline","Select","MenuItem","disabled","AlertDialog","Access","register_enabled","default_group","email_active","login_captcha","reg_captcha","forget_captcha","authn_enabled","captcha_IsUseReCaptcha","captcha_ReCaptchaKey","captcha_ReCaptchaSecret","groups","setGroups","httpAlert","setHttpAlert","checked","handleInputChange","FormControlLabel","control","Switch","Link","href","ID","toString","Name","buttonMargin","test","setTest","tesInput","setTestInput","fromName","fromAdress","smtpHost","smtpPort","replyTo","smtpUser","smtpPass","smtpEncryption","mail_keepalive","mail_activation_template","mail_reset_pwd_template","TextField","autoFocus","to","inputProps","min","step","rowsMax","unitTransform","Math","round","SizeInput","max","suffix","unit","setUnit","first","transform","endAdornment","InputAdornment","labelId","UploadDownload","max_worker_num","max_parallel_transfer","temp_path","maxEditSize","onedrive_chunk_retries","archive_timeout","download_timeout","preview_timeout","doc_preview_timeout","upload_credential_timeout","upload_session_timeout","slave_api_timeout","onedrive_monitor_timeout","share_download_session_timeout","onedrive_callback_check","reset_after_upload_failed","onedrive_source_timeout","picker","statusBar","fab","textAlign","CreateTheme","contrastText","setTheme","subTheme","createMuiTheme","colors","onChangeComplete","c","hex","ThemeProvider","dark","Fab","Add","colorContainer","colorDot","borderRadius","Theme","themes","defaultTheme","home_view_method","share_view_method","themeConfig","setThemeConfig","themeConfigError","setThemeConfigError","setCreate","JSON","parse","themeString","stringify","Table","TableHead","TableRow","TableCell","TableBody","scope","helperText","onBlur","length","themeCopy","resStr","deleteTheme","Delete","Alert","severity","newTheme","Aria2","aria2_rpcurl","aria2_token","aria2_temp_path","aria2_options","aria2_interval","aria2_call_timeout","server","token","ImageSetting","gravatar_server","avatar_path","avatar_size","avatar_size_l","avatar_size_m","avatar_size_s","thumb_width","thumb_height","captcha_height","captcha_width","captcha_mode","captcha_CaptchaLen","cardContainer","cover","card","flex","bg","dialogFooter","policies","img","AddPolicy","dividers","sm","Card","CardActionArea","CardMedia","image","CardContent","tableContainer","header","headerRight","columns","align","Policy","setPolicies","statics","setStatics","page","setPage","pageSize","setPageSize","total","setTotal","addDialog","setAddDialog","filter","setFilter","anchorEl","setAnchorEl","editID","setEditID","query","URLSearchParams","search","handleClose","loadList","page_size","order_by","conditions","Boolean","TableContainer","column","row","hover","policyTypeMap","Type","toLocaleString","sizeToString","Tooltip","delete","currentTarget","Edit","TablePagination","rowsPerPageOptions","count","rowsPerPage","onChangePage","p","onChangeRowsPerPage","keepMounted","DomainInput","domain","setDomain","protocol","setProtocol","setError","replace","startAdornment","MagicVar","isFile","isSlave","stepContent","subStepContainer","stepNumber","light","stepNumberContainer","stepFooter","viewButtonLabel","textTransform","code","fontFamily","steps","optional","COSGuide","props","activeStep","setActiveStep","Set","skipped","setSkipped","magicVar","setMagicVar","useCDN","setUseCDN","policy","SecretKey","AccessKey","BaseURL","Server","IsPrivate","DirNameRule","AutoRename","FileNameRule","IsOriginLinkEnable","MaxSize","OptionsSerialized","file_type","setPolicy","policyID","setPolicyID","region","setRegion","Stepper","index","stepProps","labelProps","has","completed","Step","StepLabel","subStepContent","pattern","BucketName","RadioGroup","Radio","Collapse","in","getNumber","stepContental","policyCopy","parseInt","split","prevActiveStep","prevSkipped","newSkipped","values","add","LocalGuide","OneDriveGuide","od_proxy","od_redirect","httpsAlert","setHttpsAlert","handleOptionChange","URL","OSSGuide","server_side_endpoint","useLanEndpoint","setUseLanEndpoint","submitPolicy","RemoteGuide","mimetype","pre","overflow","randomStr","minlength","secret","UpyunGuide","regions","S3Guide","alertOpen","setAlertOpen","Autocomplete","freeSolo","onInputChange","_","renderOption","renderInput","params","AddPolicyParent","useParams","EditPro","EditPolicyPreload","setType","mode","join","PolicyList","pid","MaxStorage","GroupForm","group","ShareEnabled","WebDAVEnabled","SpeedLimit","share_download","compress_size","decompress_size","setGroup","handleCheckChange","handleOptionCheckChange","groupCopy","input","one_time_download","aria2","archive_download","archive_task","EditGroupPreload","UserFilter","setSearch","group_id","status","setInput","keywords","setKeywords","nick","email","highlight","visuallyHidden","border","clip","top","setUsers","orderBy","setOrderBy","filterDialog","setFilterDialog","selected","setSelected","searches","block","Status","isSelected","indexOf","alignSelf","Badge","invisible","FilterList","Checkbox","indeterminate","newSelecteds","n","TableSortLabel","role","selectedIndex","newSelected","concat","slice","handleClick","Nick","Email","success","Block","UserForm","Password","GroupID","setUser","userCopy","password","EditUserPreload","FileFilter","policy_id","user_id","File","setFiles","deleteBatch","force","DeleteForever","Size","UserID","Date","CreatedAt","toLocaleDateString","toLocaleTimeString","ShareFilter","is_dir","source_name","setShares","ids","setIds","wordBreak","SourceName","Views","Downloads","RemainDownloads","Download","downloads","setDownloads","Source","TotalSize","Task","tasks","setTasks","getTaskType","getTaskStatus","getTaskProgress","Progress","getError","Error","userSelect","Import","userInput","dst","recursive","selectRemote","setSelectRemote","selectLocal","setSelectLocal","debouncedSearchTerm","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","setMoveTarget","setter","folder","openPathSelector","isSrcSelect","PathSelector","presentPath","api","onSelect","uid","onDelete","Popper","placement","TransitionProps","Fade","timeout","u","selectUser","zhCN","Admin","show","setShow","Auth","GetUser","CssBaseline","exact"],"mappings":"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","file":"static/js/9.ee54132c.chunk.js","sourcesContent":["import { withStyles } from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { lighten, makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n    Assignment,\n    CloudDownload,\n    Contacts,\n    Group,\n    Home,\n    Image,\n    InsertDriveFile,\n    Language,\n    ListAlt,\n    Mail,\n    Palette,\n    Person,\n    Settings,\n    SettingsEthernet,\n    Share,\n    Storage\n} from \"@material-ui/icons\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport clsx from \"clsx\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\nimport UserAvatar from \"../Navbar/UserAvatar\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0\n        },\n        \"&:before\": {\n            display: \"none\"\n        },\n        \"&$expanded\": { margin: 0 }\n    },\n    expanded: {}\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 0\n        }\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"block\",\n        \"&$expanded\": {\n            margin: \"0\"\n        }\n    },\n    expanded: {}\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles(theme => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0)\n    }\n}))(MuiExpansionPanelDetails);\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        width: \"100%\"\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n        transition: theme.transitions.create([\"width\", \"margin\"], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen\n        })\n    },\n    appBarShift: {\n        marginLeft: drawerWidth,\n        width: `calc(100% - ${drawerWidth}px)`,\n        transition: theme.transitions.create([\"width\", \"margin\"], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen\n        })\n    },\n    menuButton: {\n        marginRight: 36\n    },\n    hide: {\n        display: \"none\"\n    },\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n        whiteSpace: \"nowrap\"\n    },\n    drawerOpen: {\n        width: drawerWidth,\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen\n        })\n    },\n    drawerClose: {\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen\n        }),\n        overflowX: \"hidden\",\n        width: theme.spacing(7) + 1,\n        [theme.breakpoints.up(\"sm\")]: {\n            width: theme.spacing(9) + 1\n        }\n    },\n    title: {\n        flexGrow: 1\n    },\n    toolbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        padding: theme.spacing(0, 1),\n        ...theme.mixins.toolbar\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3)\n    },\n    sub: {\n        paddingLeft: 36,\n        color: theme.palette.text.secondary\n    },\n    subMenu: {\n        backgroundColor: theme.palette.background.default,\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    active: {\n        backgroundColor: lighten(theme.palette.primary.main, 0.8),\n        color: theme.palette.primary.main,\n        \"&:hover\": {\n            backgroundColor: lighten(theme.palette.primary.main, 0.7)\n        }\n    },\n    activeText: {\n        fontWeight: 500\n    },\n    activeIcon: {\n        color: theme.palette.primary.main\n    }\n}));\n\nconst items = [\n    {\n        title: \"面板首页\",\n        icon: <Home />,\n        path: \"home\"\n    },\n    {\n        title: \"参数设置\",\n        icon: <Settings />,\n        sub: [\n            {\n                title: \"站点信息\",\n                path: \"basic\",\n                icon: <Language />\n            },\n            {\n                title: \"注册与登录\",\n                path: \"access\",\n                icon: <Contacts />\n            },\n            {\n                title: \"邮件\",\n                path: \"mail\",\n                icon: <Mail />\n            },\n            {\n                title: \"上传与下载\",\n                path: \"upload\",\n                icon: <SettingsEthernet />\n            },\n            {\n                title: \"外观\",\n                path: \"theme\",\n                icon: <Palette />\n            },\n            {\n                title: \"离线下载\",\n                path: \"aria2\",\n                icon: <CloudDownload />\n            },\n            {\n                title: \"图像处理\",\n                path: \"image\",\n                icon: <Image />\n            }\n        ]\n    },\n    {\n        title: \"存储策略\",\n        icon: <Storage />,\n        path: \"policy\"\n    },\n    {\n        title: \"用户组\",\n        icon: <Group />,\n        path: \"group\"\n    },\n    {\n        title: \"用户\",\n        icon: <Person />,\n        path: \"user\"\n    },\n    {\n        title: \"文件\",\n        icon: <InsertDriveFile />,\n        path: \"file\"\n    },\n    {\n        title: \"分享\",\n        icon: <Share />,\n        path: \"share\"\n    },\n    {\n        title: \"持久任务\",\n        icon: <Assignment />,\n        sub: [\n            {\n                title: \"离线下载\",\n                path: \"download\",\n                icon: <CloudDownload />\n            },\n            {\n                title: \"常规任务\",\n                path: \"task\",\n                icon: <ListAlt />\n            }\n        ]\n    }\n];\n\nexport default function Dashboard({ content }) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const [open, setOpen] = useState(!pathHelper.isMobile());\n    const [menuOpen, setMenuOpen] = useState(null);\n    const history = useHistory();\n    const location = useLocation();\n\n    const handleDrawerOpen = () => {\n        setOpen(true);\n    };\n\n    const handleDrawerClose = () => {\n        setOpen(false);\n    };\n\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(title => dispatch(changeSubTitle(title)), [\n        dispatch\n    ]);\n\n    useEffect(() => {\n        SetSubTitle(\"仪表盘\");\n    }, []);\n\n    useEffect(() => {\n        return () => {\n            SetSubTitle();\n        };\n    }, []);\n\n    const { path } = useRouteMatch();\n\n    return (\n        <div className={classes.root}>\n            <AppBar\n                position=\"fixed\"\n                className={clsx(classes.appBar, {\n                    [classes.appBarShift]: open\n                })}\n            >\n                <Toolbar>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={handleDrawerOpen}\n                        edge=\"start\"\n                        className={clsx(classes.menuButton, {\n                            [classes.hide]: open\n                        })}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" className={classes.title} noWrap>\n                        Cloudreve 仪表盘\n                    </Typography>\n                    <UserAvatar />\n                </Toolbar>\n            </AppBar>\n            <Drawer\n                variant=\"permanent\"\n                className={clsx(classes.drawer, {\n                    [classes.drawerOpen]: open,\n                    [classes.drawerClose]: !open\n                })}\n                classes={{\n                    paper: clsx({\n                        [classes.drawerOpen]: open,\n                        [classes.drawerClose]: !open\n                    })\n                }}\n            >\n                <div className={classes.toolbar}>\n                    <IconButton onClick={handleDrawerClose}>\n                        {theme.direction === \"rtl\" ? (\n                            <ChevronRightIcon />\n                        ) : (\n                            <ChevronLeftIcon />\n                        )}\n                    </IconButton>\n                </div>\n                <Divider />\n                <List className={classes.noPadding}>\n                    {items.map(item => {\n                        if (item.path !== undefined) {\n                            return (\n                                <ListItem\n                                    onClick={() =>\n                                        history.push(\"/admin/\" + item.path)\n                                    }\n                                    button\n                                    className={clsx({\n                                        [classes.active]: location.pathname.startsWith(\n                                            \"/admin/\" + item.path\n                                        )\n                                    })}\n                                    key={item.title}\n                                >\n                                    <ListItemIcon\n                                        className={clsx({\n                                            [classes.activeIcon]: location.pathname.startsWith(\n                                                \"/admin/\" + item.path\n                                            )\n                                        })}\n                                    >\n                                        {item.icon}\n                                    </ListItemIcon>\n                                    <ListItemText\n                                        className={clsx({\n                                            [classes.activeText]: location.pathname.startsWith(\n                                                \"/admin/\" + item.path\n                                            )\n                                        })}\n                                        primary={item.title}\n                                    />\n                                </ListItem>\n                            );\n                        }\n                        return (\n                            <ExpansionPanel\n                                key={item.title}\n                                square\n                                expanded={menuOpen === item.title}\n                                onChange={(event, isExpanded) => {\n                                    setMenuOpen(isExpanded ? item.title : null);\n                                }}\n                            >\n                                <ExpansionPanelSummary\n                                    aria-controls=\"panel1d-content\"\n                                    id=\"panel1d-header\"\n                                >\n                                    <ListItem button key={item.title}>\n                                        <ListItemIcon>{item.icon}</ListItemIcon>\n                                        <ListItemText primary={item.title} />\n                                    </ListItem>\n                                </ExpansionPanelSummary>\n                                <ExpansionPanelDetails>\n                                    <List className={classes.subMenu}>\n                                        {item.sub.map(sub => (\n                                            <ListItem\n                                                onClick={() =>\n                                                    history.push(\n                                                        \"/admin/\" + sub.path\n                                                    )\n                                                }\n                                                className={clsx({\n                                                    [classes.sub]: open,\n                                                    [classes.active]: location.pathname.startsWith(\n                                                        \"/admin/\" + sub.path\n                                                    )\n                                                })}\n                                                button\n                                                key={sub.title}\n                                            >\n                                                <ListItemIcon\n                                                    className={clsx({\n                                                        [classes.activeIcon]: location.pathname.startsWith(\n                                                            \"/admin/\" + sub.path\n                                                        )\n                                                    })}\n                                                >\n                                                    {sub.icon}\n                                                </ListItemIcon>\n                                                <ListItemText\n                                                    primary={sub.title}\n                                                />\n                                            </ListItem>\n                                        ))}\n                                    </List>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        );\n                    })}\n                </List>\n            </Drawer>\n            <main className={classes.content}>\n                <div className={classes.toolbar} />\n                {content(path)}\n            </main>\n        </div>\n    );\n}\n","import Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { blue, green, red, yellow } from \"@material-ui/core/colors\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Grid from \"@material-ui/core/Grid\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n    Description,\n    Favorite,\n    FileCopy,\n    Forum,\n    GitHub,\n    Home,\n    Launch,\n    Lock,\n    People,\n    Public,\n    Telegram\n} from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n    CartesianGrid,\n    Legend,\n    Line,\n    LineChart,\n    Tooltip,\n    XAxis,\n    YAxis\n} from \"recharts\";\nimport ResponsiveContainer from \"recharts/lib/component/ResponsiveContainer\";\nimport TimeAgo from \"timeago-react\";\nimport { toggleSnackbar } from \"../../actions\";\nimport API from \"../../middleware/Api\";\nimport pathHelper from \"../../utils/page\";\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        padding: theme.spacing(3),\n        height: \"100%\"\n    },\n    logo: {\n        width: 70\n    },\n    logoContainer: {\n        padding: theme.spacing(3),\n        display: \"flex\"\n    },\n    title: {\n        marginLeft: 16\n    },\n    cloudreve: {\n        fontSize: 25,\n        color: theme.palette.text.secondary\n    },\n    version: {\n        color: theme.palette.text.hint\n    },\n    links: {\n        padding: theme.spacing(3)\n    },\n    iconRight: {\n        minWidth: 0\n    },\n    userIcon: {\n        backgroundColor: blue[100],\n        color: blue[600]\n    },\n    fileIcon: {\n        backgroundColor: yellow[100],\n        color: yellow[800]\n    },\n    publicIcon: {\n        backgroundColor: green[100],\n        color: green[800]\n    },\n    secretIcon: {\n        backgroundColor: red[100],\n        color: red[800]\n    }\n}));\n\nexport default function Index() {\n    const classes = useStyles();\n    const [lineData, setLineData] = useState([]);\n    const [news, setNews] = useState([]);\n    const [newsUsers, setNewsUsers] = useState({});\n    const [open, setOpen] = React.useState(false);\n    const [siteURL, setSiteURL] = React.useState(\"\");\n    const [statistics, setStatistics] = useState({\n        fileTotal: 0,\n        userTotal: 0,\n        publicShareTotal: 0,\n        secretShareTotal: 0\n    });\n    const [version, setVersion] = useState({\n        backend: \"-\"\n    });\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const ResetSiteURL = () => {\n        setOpen(false);\n        API.patch(\"/admin/setting\", {\n            options: [\n                {\n                    key: \"siteURL\",\n                    value: window.location.origin\n                }\n            ]\n        })\n            .then(() => {\n                setSiteURL(window.location.origin);\n                ToggleSnackbar(\"top\", \"right\", \"设置已更改\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        API.get(\"/admin/summary\")\n            .then(response => {\n                const data = [];\n                response.data.date.forEach((v, k) => {\n                    data.push({\n                        name: v,\n                        file: response.data.files[k],\n                        user: response.data.users[k],\n                        share: response.data.shares[k]\n                    });\n                });\n                setLineData(data);\n                setStatistics({\n                    fileTotal: response.data.fileTotal,\n                    userTotal: response.data.userTotal,\n                    publicShareTotal: response.data.publicShareTotal,\n                    secretShareTotal: response.data.secretShareTotal\n                });\n                setVersion(response.data.version);\n                setSiteURL(response.data.siteURL);\n                if (\n                    response.data.siteURL === \"\" ||\n                    response.data.siteURL !== window.location.origin\n                ) {\n                    setOpen(true);\n                }\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n\n        axios\n            .get(\"/api/v3/admin/news\")\n            .then(response => {\n                setNews(response.data.data);\n                const res = {};\n                response.data.included.forEach(v => {\n                    if (v.type === \"users\") {\n                        res[v.id] = v.attributes;\n                    }\n                });\n                setNewsUsers(res);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    return (\n        <Grid container spacing={3}>\n            <Dialog\n                open={open}\n                onClose={() => setOpen(false)}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">\n                    {\"确定站点URL设置\"}\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        <Typography>\n                            {siteURL === \"\" &&\n                                \"您尚未设定站点URL，是否要将其设定为当前的 \" +\n                                    window.location.origin +\n                                    \" ?\"}\n                            {siteURL !== \"\" &&\n                                \"您设置的站点URL与当前实际不一致，是否要将其设定为当前的 \" +\n                                    window.location.origin +\n                                    \" ?\"}\n                        </Typography>\n                        <Typography>\n                            此设置非常重要，请确保其与您站点的实际地址一致。你可以在\n                            参数设置 - 站点信息 中更改此设置。\n                        </Typography>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setOpen(false)} color=\"default\">\n                        忽略\n                    </Button>\n                    <Button onClick={() => ResetSiteURL()} color=\"primary\">\n                        更改\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Grid alignContent={\"stretch\"} item xs={12} md={8} lg={9}>\n                <Paper className={classes.paper}>\n                    <Typography variant=\"button\" display=\"block\" gutterBottom>\n                        趋势\n                    </Typography>\n                    <ResponsiveContainer\n                        width=\"100%\"\n                        aspect={pathHelper.isMobile() ? 4.0 / 3.0 : 3.0 / 1.0}\n                    >\n                        <LineChart width={1200} height={300} data={lineData}>\n                            <CartesianGrid strokeDasharray=\"3 3\" />\n                            <XAxis dataKey=\"name\" />\n                            <YAxis />\n                            <Tooltip />\n                            <Legend />\n                            <Line\n                                name={\"文件\"}\n                                type=\"monotone\"\n                                dataKey=\"file\"\n                                stroke=\"#3f51b5\"\n                            />\n                            <Line\n                                name={\"用户\"}\n                                type=\"monotone\"\n                                dataKey=\"user\"\n                                stroke=\"#82ca9d\"\n                            />\n                            <Line\n                                name={\"分享\"}\n                                type=\"monotone\"\n                                dataKey=\"share\"\n                                stroke=\"#e91e63\"\n                            />\n                        </LineChart>\n                    </ResponsiveContainer>\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={3}>\n                <Paper className={classes.paper}>\n                    <Typography variant=\"button\" display=\"block\" gutterBottom>\n                        总计\n                    </Typography>\n                    <Divider />\n                    <List className={classes.root}>\n                        <ListItem>\n                            <ListItemAvatar>\n                                <Avatar className={classes.userIcon}>\n                                    <People />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={statistics.userTotal}\n                                secondary=\"注册用户\"\n                            />\n                        </ListItem>\n                        <ListItem>\n                            <ListItemAvatar>\n                                <Avatar className={classes.fileIcon}>\n                                    <FileCopy />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={statistics.fileTotal}\n                                secondary=\"文件总数\"\n                            />\n                        </ListItem>\n                        <ListItem>\n                            <ListItemAvatar>\n                                <Avatar className={classes.publicIcon}>\n                                    <Public />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={statistics.publicShareTotal}\n                                secondary=\"公开分享总数\"\n                            />\n                        </ListItem>\n                        <ListItem>\n                            <ListItemAvatar>\n                                <Avatar className={classes.secretIcon}>\n                                    <Lock />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={statistics.secretShareTotal}\n                                secondary=\"私密分享总数\"\n                            />\n                        </ListItem>\n                    </List>\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={3}>\n                <Paper>\n                    <div className={classes.logoContainer}>\n                        <img\n                            alt=\"cloudreve\"\n                            className={classes.logo}\n                            src={\"/static/img/cloudreve.svg\"}\n                        />\n                        <div className={classes.title}>\n                            <Typography className={classes.cloudreve}>\n                                Cloudreve\n                            </Typography>\n                            <Typography className={classes.version}>\n                                {version.backend}{\" \"}\n                                {version.is_pro === \"true\" && (\n                                    <Chip size=\"small\" label=\"Pro\" />\n                                )}\n                            </Typography>\n                        </div>\n                    </div>\n                    <Divider />\n                    <div>\n                        <List component=\"nav\" aria-label=\"main mailbox folders\">\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    window.open(\"https://cloudreve.org\")\n                                }\n                            >\n                                <ListItemIcon>\n                                    <Home />\n                                </ListItemIcon>\n                                <ListItemText primary=\"主页\" />\n                                <ListItemIcon className={classes.iconRight}>\n                                    <Launch />\n                                </ListItemIcon>\n                            </ListItem>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    window.open(\n                                        \"https://github.com/cloudreve/cloudreve\"\n                                    )\n                                }\n                            >\n                                <ListItemIcon>\n                                    <GitHub />\n                                </ListItemIcon>\n                                <ListItemText primary=\"GitHub\" />\n                                <ListItemIcon className={classes.iconRight}>\n                                    <Launch />\n                                </ListItemIcon>\n                            </ListItem>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    window.open(\"https://docs.cloudreve.org/\")\n                                }\n                            >\n                                <ListItemIcon>\n                                    <Description />\n                                </ListItemIcon>\n                                <ListItemText primary=\"文档\" />\n                                <ListItemIcon className={classes.iconRight}>\n                                    <Launch />\n                                </ListItemIcon>\n                            </ListItem>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    window.open(\"https://forum.cloudreve.org\")\n                                }\n                            >\n                                <ListItemIcon>\n                                    <Forum />\n                                </ListItemIcon>\n                                <ListItemText primary=\"讨论社区\" />\n                                <ListItemIcon className={classes.iconRight}>\n                                    <Launch />\n                                </ListItemIcon>\n                            </ListItem>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    window.open(\n                                        \"https://t.me/cloudreve_official\"\n                                    )\n                                }\n                            >\n                                <ListItemIcon>\n                                    <Telegram />\n                                </ListItemIcon>\n                                <ListItemText primary=\"Telegram 群组\" />\n                                <ListItemIcon className={classes.iconRight}>\n                                    <Launch />\n                                </ListItemIcon>\n                            </ListItem>\n                            <ListItem\n                                button\n                                onClick={() =>\n                                    window.open(\n                                        \"https://docs.cloudreve.org/use/pro/jie-shao\"\n                                    )\n                                }\n                            >\n                                <ListItemIcon style={{ color: \"#ff789d\" }}>\n                                    <Favorite />\n                                </ListItemIcon>\n                                <ListItemText primary=\"捐助开发者\" />\n                                <ListItemIcon className={classes.iconRight}>\n                                    <Launch />\n                                </ListItemIcon>\n                            </ListItem>\n                        </List>\n                    </div>\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={8} lg={9}>\n                <Paper className={classes.paper}>\n                    <List>\n                        {news &&\n                            news.map(v => (\n                                <>\n                                    <ListItem\n                                        button\n                                        alignItems=\"flex-start\"\n                                        onClick={() =>\n                                            window.open(\n                                                \"https://forum.cloudreve.org/d/\" +\n                                                    v.id\n                                            )\n                                        }\n                                    >\n                                        <ListItemAvatar>\n                                            <Avatar\n                                                alt=\"Travis Howard\"\n                                                src={\n                                                    newsUsers[\n                                                        v.relationships\n                                                            .startUser.data.id\n                                                    ] &&\n                                                    newsUsers[\n                                                        v.relationships\n                                                            .startUser.data.id\n                                                    ].avatarUrl\n                                                }\n                                            />\n                                        </ListItemAvatar>\n                                        <ListItemText\n                                            primary={v.attributes.title}\n                                            secondary={\n                                                <React.Fragment>\n                                                    <Typography\n                                                        component=\"span\"\n                                                        variant=\"body2\"\n                                                        className={\n                                                            classes.inline\n                                                        }\n                                                        color=\"textPrimary\"\n                                                    >\n                                                        {newsUsers[\n                                                            v.relationships\n                                                                .startUser.data\n                                                                .id\n                                                        ] &&\n                                                            newsUsers[\n                                                                v.relationships\n                                                                    .startUser\n                                                                    .data.id\n                                                            ].username}{\" \"}\n                                                    </Typography>\n                                                    发表于{\" \"}\n                                                    <TimeAgo\n                                                        datetime={\n                                                            v.attributes\n                                                                .startTime\n                                                        }\n                                                        locale=\"zh_CN\"\n                                                    />\n                                                </React.Fragment>\n                                            }\n                                        />\n                                    </ListItem>\n                                    <Divider />\n                                </>\n                            ))}\n                    </List>\n                </Paper>\n            </Grid>\n        </Grid>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    }\n}));\n\nexport default function SiteInformation() {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        siteURL: \"\",\n        siteName: \"\",\n        siteTitle: \"\",\n        siteDes: \"\",\n        siteICPId: \"\",\n        siteScript: \"\",\n        pwa_small_icon: \"\",\n        pwa_medium_icon: \"\",\n        pwa_large_icon: \"\",\n        pwa_display: \"\",\n        pwa_theme_color: \"\",\n        pwa_background_color: \"\"\n    });\n\n    const handleChange = name => event => {\n        setOptions({\n            ...options,\n            [name]: event.target.value\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options)\n        })\n            .then(response => {\n                setOptions(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const submit = e => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach(k => {\n            option.push({\n                key: k,\n                value: options[k]\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"设置已更改\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        基本信息\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    主标题\n                                </InputLabel>\n                                <Input\n                                    value={options.siteName}\n                                    onChange={handleChange(\"siteName\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    站点的主标题\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    副标题\n                                </InputLabel>\n                                <Input\n                                    value={options.siteTitle}\n                                    onChange={handleChange(\"siteTitle\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    站点的副标题\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    站点描述\n                                </InputLabel>\n                                <Input\n                                    value={options.siteDes}\n                                    onChange={handleChange(\"siteDes\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    站点描述信息，可能会在分享页面摘要内展示\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    站点URL\n                                </InputLabel>\n                                <Input\n                                    type={\"url\"}\n                                    value={options.siteURL}\n                                    onChange={handleChange(\"siteURL\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    非常重要，请确保与实际情况一致。使用云存储策略、支付平台时，请填入可以被外网访问的地址。\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    网站备案号\n                                </InputLabel>\n                                <Input\n                                    value={options.siteICPId}\n                                    onChange={handleChange(\"siteICPId\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    工信部网站ICP备案号\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    页脚代码\n                                </InputLabel>\n                                <Input\n                                    multiline\n                                    value={options.siteScript}\n                                    onChange={handleChange(\"siteScript\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    在页面底部插入的自定义HTML代码\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        渐进式应用 (PWA)\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    小图标\n                                </InputLabel>\n                                <Input\n                                    value={options.pwa_small_icon}\n                                    onChange={handleChange(\"pwa_small_icon\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    扩展名为 ico 的小图标地址\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    中图标\n                                </InputLabel>\n                                <Input\n                                    value={options.pwa_medium_icon}\n                                    onChange={handleChange(\"pwa_medium_icon\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    192x192 的中等图标地址，png 格式\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    大图标\n                                </InputLabel>\n                                <Input\n                                    value={options.pwa_large_icon}\n                                    onChange={handleChange(\"pwa_large_icon\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    512x512 的大图标地址，png 格式\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    展示模式\n                                </InputLabel>\n                                <Select\n                                    value={options.pwa_display}\n                                    onChange={handleChange(\"pwa_display\")}\n                                >\n                                    <MenuItem value={\"fullscreen\"}>\n                                        fullscreen\n                                    </MenuItem>\n                                    <MenuItem value={\"standalone\"}>\n                                        standalone\n                                    </MenuItem>\n                                    <MenuItem value={\"minimal-ui\"}>\n                                        minimal-ui\n                                    </MenuItem>\n                                    <MenuItem value={\"browser\"}>\n                                        browser\n                                    </MenuItem>\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    PWA 应用添加后的展示模式\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    主题色\n                                </InputLabel>\n                                <Input\n                                    value={options.pwa_theme_color}\n                                    onChange={handleChange(\"pwa_theme_color\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    CSS 色值，影响 PWA\n                                    启动画面上状态栏、内容页中状态栏、地址栏的颜色\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    背景色\n                                </InputLabel>\n                                <Input\n                                    value={options.pwa_background_color}\n                                    onChange={handleChange(\n                                        \"pwa_background_color\"\n                                    )}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    CSS 色值\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        保存\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React from \"react\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nexport default function AlertDialog({ title, msg, open, onClose }) {\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    <Typography>{msg}</Typography>\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"primary\">\n                    知道了\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport AlertDialog from \"../Dialogs/Alert\";\nimport Link from \"@material-ui/core/Link\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    }\n}));\n\nexport default function Access() {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        register_enabled: \"1\",\n        default_group: \"1\",\n        email_active: \"0\",\n        login_captcha: \"0\",\n        reg_captcha: \"0\",\n        forget_captcha: \"0\",\n        authn_enabled: \"0\",\n        captcha_IsUseReCaptcha: \"0\",\n        captcha_ReCaptchaKey: \"defaultKey\",\n        captcha_ReCaptchaSecret: \"defaultSecret\"\n    });\n    const [siteURL, setSiteURL] = useState(\"\");\n    const [groups, setGroups] = useState([]);\n    const [httpAlert, setHttpAlert] = useState(false);\n\n    const handleChange = name => event => {\n        let value = event.target.value;\n        if (event.target.checked !== undefined) {\n            value = event.target.checked ? \"1\" : \"0\";\n        }\n        setOptions({\n            ...options,\n            [name]: value\n        });\n    };\n\n    const handleInputChange = name => event => {\n        const value = event.target.value;\n        setOptions({\n            ...options,\n            [name]: value\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: [...Object.keys(options), \"siteURL\"]\n        })\n            .then(response => {\n                setSiteURL(response.data.siteURL);\n                delete response.data.siteURL;\n                setOptions(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n\n        API.get(\"/admin/groups\")\n            .then(response => {\n                setGroups(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const submit = e => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach(k => {\n            option.push({\n                key: k,\n                value: options[k]\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"设置已更改\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <AlertDialog\n                title={\"提示\"}\n                msg={\n                    \"Web Authn 需要您的站点启用 HTTPS，并确认 参数设置 - 站点信息 - 站点URL 也使用了 HTTPS 后才能开启。\"\n                }\n                onClose={() => setHttpAlert(false)}\n                open={httpAlert}\n            />\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        注册与登录\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.register_enabled === \"1\"\n                                            }\n                                            onChange={handleChange(\n                                                \"register_enabled\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"允许新用户注册\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    关闭后，无法再通过前台注册新的用户\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.email_active === \"1\"\n                                            }\n                                            onChange={handleChange(\n                                                \"email_active\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"邮件激活\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    开启后，新用户注册需要点击邮件中的激活链接才能完成。请确认邮件发送设置是否正确，否则激活邮件无法送达\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.reg_captcha === \"1\"\n                                            }\n                                            onChange={handleChange(\n                                                \"reg_captcha\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"注册验证码\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    是否启用注册表单验证码\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.login_captcha === \"1\"\n                                            }\n                                            onChange={handleChange(\n                                                \"login_captcha\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"登录验证码\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    是否启用登录表单验证码\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.forget_captcha === \"1\"\n                                            }\n                                            onChange={handleChange(\n                                                \"forget_captcha\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"找回密码验证码\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    是否启用找回密码表单验证码\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.captcha_IsUseReCaptcha ===\n                                                \"1\"\n                                            }\n                                            onChange={handleChange(\n                                                \"captcha_IsUseReCaptcha\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"使用 reCaptcha V2 验证码\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    是否使用 reCaptcha V2 验证码\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        {options.captcha_IsUseReCaptcha === \"1\" && (\n                            <>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            Site KEY\n                                        </InputLabel>\n                                        <Input\n                                            required\n                                            value={options.captcha_ReCaptchaKey}\n                                            onChange={handleInputChange(\n                                                \"captcha_ReCaptchaKey\"\n                                            )}\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            <Link\n                                                href={\n                                                    \"https://www.google.com/recaptcha/admin/create\"\n                                                }\n                                                target={\"_blank\"}\n                                            >\n                                                应用管理页面\n                                            </Link>{\" \"}\n                                            获取到的的 网站密钥\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            Secret\n                                        </InputLabel>\n                                        <Input\n                                            required\n                                            value={\n                                                options.captcha_ReCaptchaSecret\n                                            }\n                                            onChange={handleInputChange(\n                                                \"captcha_ReCaptchaSecret\"\n                                            )}\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            <Link\n                                                href={\n                                                    \"https://www.google.com/recaptcha/admin/create\"\n                                                }\n                                                target={\"_blank\"}\n                                            >\n                                                应用管理页面\n                                            </Link>{\" \"}\n                                            获取到的的 秘钥\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n                            </>\n                        )}\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.authn_enabled === \"1\"\n                                            }\n                                            onChange={e => {\n                                                if (\n                                                    !siteURL.startsWith(\n                                                        \"https://\"\n                                                    )\n                                                ) {\n                                                    setHttpAlert(true);\n                                                    return;\n                                                }\n                                                handleChange(\"authn_enabled\")(\n                                                    e\n                                                );\n                                            }}\n                                        />\n                                    }\n                                    label=\"Web Authn\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    是否允许用户使用绑定的外部验证器登录，站点必须启动\n                                    HTTPS 才能使用。\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    默认用户组\n                                </InputLabel>\n                                <Select\n                                    value={options.default_group}\n                                    onChange={handleInputChange(\n                                        \"default_group\"\n                                    )}\n                                    required\n                                >\n                                    {groups.map(v => {\n                                        if (v.ID === 3) {\n                                            return null;\n                                        }\n                                        return (\n                                            <MenuItem\n                                                key={v.ID}\n                                                value={v.ID.toString()}\n                                            >\n                                                {v.Name}\n                                            </MenuItem>\n                                        );\n                                    })}\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    用户注册后的初始用户组\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        保存\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    },\n    buttonMargin: {\n        marginLeft: 8\n    }\n}));\n\nexport default function Mail() {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [test, setTest] = useState(false);\n    const [tesInput, setTestInput] = useState(\"\");\n    const [options, setOptions] = useState({\n        fromName: \"\",\n        fromAdress: \"\",\n        smtpHost: \"\",\n        smtpPort: \"\",\n        replyTo: \"\",\n        smtpUser: \"\",\n        smtpPass: \"\",\n        smtpEncryption: \"\",\n        mail_keepalive: \"30\",\n        mail_activation_template: \"\",\n        mail_reset_pwd_template: \"\"\n    });\n\n    const handleChange = name => event => {\n        setOptions({\n            ...options,\n            [name]: event.target.value\n        });\n    };\n\n    const handleCheckChange = name => event => {\n        let value = event.target.value;\n        if (event.target.checked !== undefined) {\n            value = event.target.checked ? \"1\" : \"0\";\n        }\n        setOptions({\n            ...options,\n            [name]: value\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options)\n        })\n            .then(response => {\n                setOptions(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const sendTestMail = () => {\n        setLoading(true);\n        API.post(\"/admin/mailTest\", {\n            to: tesInput\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"测试邮件已发送\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const reload = () => {\n        API.get(\"/admin/reload/email\")\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .then(() => {})\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .then(() => {});\n    };\n\n    const submit = e => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach(k => {\n            option.push({\n                key: k,\n                value: options[k]\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"设置已更改\", \"success\");\n                reload();\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <Dialog\n                open={test}\n                onClose={() => setTest(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">发件测试</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        <Typography>\n                            发送测试邮件前，请先保存已更改的邮件设置；\n                        </Typography>\n                        <Typography>\n                            邮件发送结果不会立即反馈，如果您长时间未收到测试邮件，请检查\n                            Cloudreve 在终端输出的错误日志。\n                        </Typography>\n                    </DialogContentText>\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"收件人地址\"\n                        value={tesInput}\n                        onChange={e => setTestInput(e.target.value)}\n                        type=\"email\"\n                        fullWidth\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setTest(false)} color=\"default\">\n                        取消\n                    </Button>\n                    <Button\n                        onClick={() => sendTestMail()}\n                        disabled={loading}\n                        color=\"primary\"\n                    >\n                        发送\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        发信\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    发件人名\n                                </InputLabel>\n                                <Input\n                                    value={options.fromName}\n                                    onChange={handleChange(\"fromName\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    邮件中展示的发件人姓名\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    发件人邮箱\n                                </InputLabel>\n                                <Input\n                                    type={\"email\"}\n                                    required\n                                    value={options.fromAdress}\n                                    onChange={handleChange(\"fromAdress\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    发件邮箱的地址\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    SMTP 服务器\n                                </InputLabel>\n                                <Input\n                                    value={options.smtpHost}\n                                    onChange={handleChange(\"smtpHost\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    发件服务器地址，不含端口号\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    SMTP 端口\n                                </InputLabel>\n                                <Input\n                                    inputProps={{ min: 1, step: 1 }}\n                                    type={\"number\"}\n                                    value={options.smtpPort}\n                                    onChange={handleChange(\"smtpPort\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    发件服务器地址端口号\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    SMTP 用户名\n                                </InputLabel>\n                                <Input\n                                    value={options.smtpUser}\n                                    onChange={handleChange(\"smtpUser\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    发信邮箱用户名，一般与邮箱地址相同\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    SMTP 密码\n                                </InputLabel>\n                                <Input\n                                    type={\"password\"}\n                                    value={options.smtpPass}\n                                    onChange={handleChange(\"smtpPass\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    发信邮箱密码\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    回信邮箱\n                                </InputLabel>\n                                <Input\n                                    value={options.replyTo}\n                                    onChange={handleChange(\"replyTo\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    用户回复系统发送的邮件时，用于接收回信的邮箱\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.smtpEncryption === \"1\"\n                                            }\n                                            onChange={handleCheckChange(\n                                                \"smtpEncryption\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"使用加密连接\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    是否使用SSL加密连接\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    SMTP 连接有效期 (秒)\n                                </InputLabel>\n                                <Input\n                                    inputProps={{ min: 1, step: 1 }}\n                                    type={\"number\"}\n                                    value={options.mail_keepalive}\n                                    onChange={handleChange(\"mail_keepalive\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    有效期内建立的 SMTP\n                                    连接会被新邮件发送请求复用\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        邮件模板\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    新用户激活\n                                </InputLabel>\n                                <Input\n                                    value={options.mail_activation_template}\n                                    onChange={handleChange(\n                                        \"mail_activation_template\"\n                                    )}\n                                    multiline\n                                    rowsMax=\"10\"\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    新用户注册后激活邮件的模板\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    重置密码\n                                </InputLabel>\n                                <Input\n                                    value={options.mail_reset_pwd_template}\n                                    onChange={handleChange(\n                                        \"mail_reset_pwd_template\"\n                                    )}\n                                    multiline\n                                    rowsMax=\"10\"\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    密码重置邮件模板\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        保存\n                    </Button>\n                    {\"   \"}\n                    <Button\n                        className={classes.buttonMargin}\n                        variant={\"outlined\"}\n                        color={\"primary\"}\n                        onClick={() => setTest(true)}\n                    >\n                        发送测试邮件\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import FormControl from \"@material-ui/core/FormControl\";\nimport Input from \"@material-ui/core/Input\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\n\nconst unitTransform = v => {\n    if (v < 1024) {\n        return [Math.round(v), 1];\n    }\n    if (v < 1024 * 1024) {\n        return [Math.round(v / 1024), 1024];\n    }\n    if (v < 1024 * 1024 * 1024) {\n        return [Math.round(v / (1024 * 1024)), 1024 * 1024];\n    }\n    if (v < 1024 * 1024 * 1024 * 1024) {\n        return [Math.round(v / (1024 * 1024 * 1024)), 1024 * 1024 * 1024];\n    }\n    return [\n        Math.round(v / (1024 * 1024 * 1024 * 1024)),\n        1024 * 1024 * 1024 * 1024\n    ];\n};\n\nexport default function SizeInput({\n    onChange,\n    min,\n    value,\n    required,\n    label,\n    max,\n    suffix\n}) {\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const [unit, setUnit] = useState(1);\n    let first = true;\n\n    const transform = useCallback(() => {\n        const res = unitTransform(value);\n        if (first && value !== 0) {\n            setUnit(res[1]);\n            first = false;\n        }\n        return res;\n    }, [value]);\n\n    return (\n        <FormControl>\n            <InputLabel htmlFor=\"component-helper\">{label}</InputLabel>\n            <Input\n                style={{ width: 200 }}\n                value={transform()[0]}\n                type={\"number\"}\n                inputProps={{ min: min, step: 1 }}\n                onChange={e => {\n                    if (e.target.value * unit < max) {\n                        onChange({\n                            target: {\n                                value: (e.target.value * unit).toString()\n                            }\n                        });\n                    } else {\n                        ToggleSnackbar(\n                            \"top\",\n                            \"right\",\n                            \"超出最大尺寸限制\",\n                            \"warning\"\n                        );\n                    }\n                }}\n                required={required}\n                endAdornment={\n                    <InputAdornment position=\"end\">\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            id=\"demo-simple-select\"\n                            value={unit}\n                            onChange={e => {\n                                if (transform()[0] * e.target.value < max) {\n                                    onChange({\n                                        target: {\n                                            value: (\n                                                transform()[0] * e.target.value\n                                            ).toString()\n                                        }\n                                    });\n                                    setUnit(e.target.value);\n                                } else {\n                                    ToggleSnackbar(\n                                        \"top\",\n                                        \"right\",\n                                        \"超出最大尺寸限制\",\n                                        \"warning\"\n                                    );\n                                }\n                            }}\n                        >\n                            <MenuItem value={1}>B{suffix && suffix}</MenuItem>\n                            <MenuItem value={1024}>\n                                KB{suffix && suffix}\n                            </MenuItem>\n                            <MenuItem value={1024 * 1024}>\n                                MB{suffix && suffix}\n                            </MenuItem>\n                            <MenuItem value={1024 * 1024 * 1024}>\n                                GB{suffix && suffix}\n                            </MenuItem>\n                            <MenuItem value={1024 * 1024 * 1024 * 1024}>\n                                TB{suffix && suffix}\n                            </MenuItem>\n                        </Select>\n                    </InputAdornment>\n                }\n            />\n        </FormControl>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport SizeInput from \"../Common/SizeInput\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    }\n}));\n\nexport default function UploadDownload() {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        max_worker_num: \"1\",\n        max_parallel_transfer: \"1\",\n        temp_path: \"\",\n        maxEditSize: \"0\",\n        onedrive_chunk_retries: \"0\",\n        archive_timeout: \"0\",\n        download_timeout: \"0\",\n        preview_timeout: \"0\",\n        doc_preview_timeout: \"0\",\n        upload_credential_timeout: \"0\",\n        upload_session_timeout: \"0\",\n        slave_api_timeout: \"0\",\n        onedrive_monitor_timeout: \"0\",\n        share_download_session_timeout: \"0\",\n        onedrive_callback_check: \"0\",\n        reset_after_upload_failed: \"0\",\n        onedrive_source_timeout: \"0\"\n    });\n\n    const handleCheckChange = name => event => {\n        const value = event.target.checked ? \"1\" : \"0\";\n        setOptions({\n            ...options,\n            [name]: value\n        });\n    };\n\n    const handleChange = name => event => {\n        setOptions({\n            ...options,\n            [name]: event.target.value\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options)\n        })\n            .then(response => {\n                setOptions(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const submit = e => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach(k => {\n            option.push({\n                key: k,\n                value: options[k]\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"设置已更改\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        存储与传输\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    Worker 数量\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.max_worker_num}\n                                    onChange={handleChange(\"max_worker_num\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    任务队列最多并行执行的任务数，保存后需要重启\n                                    Cloudreve 生效\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    中转并行传输\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.max_parallel_transfer}\n                                    onChange={handleChange(\n                                        \"max_parallel_transfer\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    任务队列中转任务传输时，最大并行协程数\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    临时目录\n                                </InputLabel>\n                                <Input\n                                    value={options.temp_path}\n                                    onChange={handleChange(\"temp_path\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    用于存放打包下载、解压缩、压缩等任务产生的临时文件的目录路径\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <SizeInput\n                                    value={options.maxEditSize}\n                                    onChange={handleChange(\"maxEditSize\")}\n                                    required\n                                    min={0}\n                                    max={2147483647}\n                                    label={\"文本文件在线编辑大小\"}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    文本文件可在线编辑的最大大小，超出此大小的文件无法在线编辑\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    OneDrive 分片错误重试\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 0,\n                                        step: 1\n                                    }}\n                                    value={options.onedrive_chunk_retries}\n                                    onChange={handleChange(\n                                        \"onedrive_chunk_retries\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    OneDrive\n                                    存储策略分片上传失败后重试的最大次数，只适用于服务端上传或中转\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.reset_after_upload_failed ===\n                                                \"1\"\n                                            }\n                                            onChange={handleCheckChange(\n                                                \"reset_after_upload_failed\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"上传校验失败时强制重置连接\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    开启后，如果本次策略、头像等数据上传校验失败，服务器会强制重置连接\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        有效期 (秒)\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    打包下载\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.archive_timeout}\n                                    onChange={handleChange(\"archive_timeout\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    下载会话\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.download_timeout}\n                                    onChange={handleChange(\"download_timeout\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    预览链接\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.preview_timeout}\n                                    onChange={handleChange(\"preview_timeout\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    Office 文档预览连接\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.doc_preview_timeout}\n                                    onChange={handleChange(\n                                        \"doc_preview_timeout\"\n                                    )}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    上传凭证\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.upload_credential_timeout}\n                                    onChange={handleChange(\n                                        \"upload_credential_timeout\"\n                                    )}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    上传会话\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.upload_session_timeout}\n                                    onChange={handleChange(\n                                        \"upload_session_timeout\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    超出后不再处理此上传的回调请求\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    从机API请求\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.slave_api_timeout}\n                                    onChange={handleChange(\"slave_api_timeout\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    分享下载会话\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={\n                                        options.share_download_session_timeout\n                                    }\n                                    onChange={handleChange(\n                                        \"share_download_session_timeout\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    设定时间内重复下载分享文件，不会被记入总下载次数\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    OneDrive 客户端上传监控间隔\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.onedrive_monitor_timeout}\n                                    onChange={handleChange(\n                                        \"onedrive_monitor_timeout\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    每间隔所设定时间，Cloudreve 会向 OneDrive\n                                    请求检查客户端上传情况已确保客户端上传可控\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    OneDrive 回调等待\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.onedrive_callback_check}\n                                    onChange={handleChange(\n                                        \"onedrive_callback_check\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    OneDrive\n                                    客户端上传完成后，等待回调的最大时间，如果超出会被认为上传失败\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    OneDrive 下载请求缓存\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        max: 3659,\n                                        step: 1\n                                    }}\n                                    value={options.onedrive_source_timeout}\n                                    onChange={handleChange(\n                                        \"onedrive_source_timeout\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    OneDrive 获取文件下载 URL\n                                    后可将结果缓存，减轻热门文件下载API请求频率\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        保存\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import AppBar from \"@material-ui/core/AppBar\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Grid from \"@material-ui/core/Grid\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { createMuiTheme, makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Add, Menu } from \"@material-ui/icons\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport React, { useCallback, useState } from \"react\";\nimport { CompactPicker } from \"react-color\";\n\nconst useStyles = makeStyles(theme => ({\n    picker: {\n        \"& div\": {\n            boxShadow: \"none !important\"\n        },\n        marginTop: theme.spacing(1)\n    },\n    \"@global\": {\n        \".compact-picker:parent \": {\n            boxShadow: \"none !important\"\n        }\n    },\n    statusBar: {\n        height: 24,\n        width: \"100%\"\n    },\n    fab: {\n        textAlign: \"right\"\n    }\n}));\n\nexport default function CreateTheme({ open, onClose, onSubmit }) {\n    const classes = useStyles();\n    const [theme, setTheme] = useState({\n        palette: {\n            primary: {\n                main: \"#3f51b5\",\n                contrastText: \"#fff\"\n            },\n            secondary: {\n                main: \"#d81b60\",\n                contrastText: \"#fff\"\n            }\n        }\n    });\n\n    const subTheme = useCallback(() => {\n        return createMuiTheme(theme);\n    }, [theme]);\n\n    return (\n        <Dialog open={open} onClose={onClose} fullWidth maxWidth={\"md\"}>\n            <DialogContent>\n                <Grid container>\n                    <Grid spacing={2} md={8} xs={12} container>\n                        <Grid md={6} xs={12} item>\n                            <Typography variant=\"h6\" gutterBottom>\n                                主色调\n                            </Typography>\n                            <TextField\n                                value={theme.palette.primary.main}\n                                onChange={e => {\n                                    setTheme({\n                                        ...theme,\n                                        palette: {\n                                            ...theme.palette,\n                                            primary: {\n                                                ...theme.palette.primary,\n                                                main: e.target.value\n                                            }\n                                        }\n                                    });\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.picker}>\n                                <CompactPicker\n                                    colors={[\n                                        \"#4D4D4D\",\n                                        \"#999999\",\n                                        \"#FFFFFF\",\n                                        \"#f44336\",\n                                        \"#ff9800\",\n                                        \"#ffeb3b\",\n                                        \"#cddc39\",\n                                        \"#A4DD00\",\n                                        \"#00bcd4\",\n                                        \"#03a9f4\",\n                                        \"#AEA1FF\",\n                                        \"#FDA1FF\",\n                                        \"#333333\",\n                                        \"#808080\",\n                                        \"#cccccc\",\n                                        \"#ff5722\",\n                                        \"#ffc107\",\n                                        \"#FCC400\",\n                                        \"#8bc34a\",\n                                        \"#4caf50\",\n                                        \"#009688\",\n                                        \"#2196f3\",\n                                        \"#3f51b5\",\n                                        \"#e91e63\",\n                                        \"#000000\",\n                                        \"#666666\",\n                                        \"#B3B3B3\",\n                                        \"#9F0500\",\n                                        \"#C45100\",\n                                        \"#FB9E00\",\n                                        \"#808900\",\n                                        \"#194D33\",\n                                        \"#0C797D\",\n                                        \"#0062B1\",\n                                        \"#673ab7\",\n                                        \"#9c27b0\"\n                                    ]}\n                                    color={theme.palette.primary.main}\n                                    onChangeComplete={c => {\n                                        setTheme({\n                                            ...theme,\n                                            palette: {\n                                                ...theme.palette,\n                                                primary: {\n                                                    ...theme.palette.primary,\n                                                    main: c.hex\n                                                }\n                                            }\n                                        });\n                                    }}\n                                />\n                            </div>\n                        </Grid>\n                        <Grid md={6} xs={12} item>\n                            <Typography variant=\"h6\" gutterBottom>\n                                辅色调\n                            </Typography>\n                            <TextField\n                                value={theme.palette.secondary.main}\n                                onChange={e => {\n                                    setTheme({\n                                        ...theme,\n                                        palette: {\n                                            ...theme.palette,\n                                            secondary: {\n                                                ...theme.palette.secondary,\n                                                main: e.target.value\n                                            }\n                                        }\n                                    });\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.picker}>\n                                <CompactPicker\n                                    colors={[\n                                        \"#4D4D4D\",\n                                        \"#999999\",\n                                        \"#FFFFFF\",\n                                        \"#ff1744\",\n                                        \"#ff3d00\",\n                                        \"#ffeb3b\",\n                                        \"#cddc39\",\n                                        \"#A4DD00\",\n                                        \"#00bcd4\",\n                                        \"#00e5ff\",\n                                        \"#AEA1FF\",\n                                        \"#FDA1FF\",\n                                        \"#333333\",\n                                        \"#808080\",\n                                        \"#cccccc\",\n                                        \"#ff5722\",\n                                        \"#ffea00\",\n                                        \"#ffc400\",\n                                        \"#c6ff00\",\n                                        \"#00e676\",\n                                        \"#76ff03\",\n                                        \"#00b0ff\",\n                                        \"#2979ff\",\n                                        \"#f50057\",\n                                        \"#000000\",\n                                        \"#666666\",\n                                        \"#B3B3B3\",\n                                        \"#9F0500\",\n                                        \"#C45100\",\n                                        \"#FB9E00\",\n                                        \"#808900\",\n                                        \"#1de9b6\",\n                                        \"#0C797D\",\n                                        \"#3d5afe\",\n                                        \"#651fff\",\n                                        \"#d500f9\"\n                                    ]}\n                                    color={theme.palette.secondary.main}\n                                    onChangeComplete={c => {\n                                        setTheme({\n                                            ...theme,\n                                            palette: {\n                                                ...theme.palette,\n                                                secondary: {\n                                                    ...theme.palette.secondary,\n                                                    main: c.hex\n                                                }\n                                            }\n                                        });\n                                    }}\n                                />\n                            </div>\n                        </Grid>\n                        <Grid md={6} xs={12} item>\n                            <Typography variant=\"h6\" gutterBottom>\n                                主色调文字\n                            </Typography>\n                            <TextField\n                                value={theme.palette.primary.contrastText}\n                                onChange={e => {\n                                    setTheme({\n                                        ...theme,\n                                        palette: {\n                                            ...theme.palette,\n                                            primary: {\n                                                ...theme.palette.primary,\n                                                contrastText: e.target.value\n                                            }\n                                        }\n                                    });\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.picker}>\n                                <CompactPicker\n                                    color={theme.palette.primary.contrastText}\n                                    onChangeComplete={c => {\n                                        setTheme({\n                                            ...theme,\n                                            palette: {\n                                                ...theme.palette,\n                                                primary: {\n                                                    ...theme.palette.primary,\n                                                    contrastText: c.hex\n                                                }\n                                            }\n                                        });\n                                    }}\n                                />\n                            </div>\n                        </Grid>\n                        <Grid md={6} xs={12} item>\n                            <Typography variant=\"h6\" gutterBottom>\n                                辅色调文字\n                            </Typography>\n                            <TextField\n                                value={theme.palette.secondary.contrastText}\n                                onChange={e => {\n                                    setTheme({\n                                        ...theme,\n                                        palette: {\n                                            ...theme.palette,\n                                            secondary: {\n                                                ...theme.palette.secondary,\n                                                contrastText: e.target.value\n                                            }\n                                        }\n                                    });\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.picker}>\n                                <CompactPicker\n                                    color={theme.palette.secondary.contrastText}\n                                    onChangeComplete={c => {\n                                        setTheme({\n                                            ...theme,\n                                            palette: {\n                                                ...theme.palette,\n                                                secondary: {\n                                                    ...theme.palette.secondary,\n                                                    contrastText: c.hex\n                                                }\n                                            }\n                                        });\n                                    }}\n                                />\n                            </div>\n                        </Grid>\n                    </Grid>\n                    <Grid spacing={2} md={4} xs={12}>\n                        <ThemeProvider theme={subTheme()}>\n                            <div\n                                className={classes.statusBar}\n                                style={{\n                                    backgroundColor: subTheme().palette.primary\n                                        .dark\n                                }}\n                            />\n                            <AppBar position=\"static\">\n                                <Toolbar>\n                                    <IconButton\n                                        edge=\"start\"\n                                        className={classes.menuButton}\n                                        color=\"inherit\"\n                                        aria-label=\"menu\"\n                                    >\n                                        <Menu />\n                                    </IconButton>\n                                    <Typography\n                                        variant=\"h6\"\n                                        className={classes.title}\n                                    >\n                                        Color\n                                    </Typography>\n                                </Toolbar>\n                            </AppBar>\n                            <div style={{ padding: 16 }}>\n                                <TextField\n                                    fullWidth\n                                    color={\"secondary\"}\n                                    label={\"文字输入\"}\n                                />\n                                <div\n                                    className={classes.fab}\n                                    style={{ paddingTop: 64 }}\n                                >\n                                    <Fab color=\"secondary\" aria-label=\"add\">\n                                        <Add />\n                                    </Fab>\n                                </div>\n                            </div>\n                        </ThemeProvider>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"default\">\n                    取消\n                </Button>\n                <Button onClick={() => onSubmit(theme)} color=\"primary\">\n                    创建\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Delete } from \"@material-ui/icons\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport CreateTheme from \"../Dialogs/CreateTheme\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    form: {\n        maxWidth: 500,\n        marginTop: 20,\n        marginBottom: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    },\n    colorContainer: {\n        display: \"flex\"\n    },\n    colorDot: {\n        width: 20,\n        height: 20,\n        borderRadius: \"50%\",\n        marginLeft: 6\n    }\n}));\n\nexport default function Theme() {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [theme, setTheme] = useState({});\n    const [options, setOptions] = useState({\n        themes: \"{}\",\n        defaultTheme: \"\",\n        home_view_method: \"icon\",\n        share_view_method: \"list\"\n    });\n    const [themeConfig, setThemeConfig] = useState({});\n    const [themeConfigError, setThemeConfigError] = useState({});\n    const [create, setCreate] = useState(false);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const deleteTheme = color => {\n        if (color === options.defaultTheme) {\n            ToggleSnackbar(\"top\", \"right\", \"不能删除默认配色\", \"warning\");\n            return;\n        }\n        if (Object.keys(theme).length <= 1) {\n            ToggleSnackbar(\"top\", \"right\", \"请至少保留一个配色方案\", \"warning\");\n            return;\n        }\n        const themeCopy = { ...theme };\n        delete themeCopy[color];\n        const resStr = JSON.stringify(themeCopy);\n        setOptions({\n            ...options,\n            themes: resStr\n        });\n    };\n\n    const addTheme = newTheme => {\n        setCreate(false);\n        if (theme[newTheme.palette.primary.main] !== undefined) {\n            ToggleSnackbar(\n                \"top\",\n                \"right\",\n                \"主色调不能与已有配色重复\",\n                \"warning\"\n            );\n            return;\n        }\n        const res = {\n            ...theme,\n            [newTheme.palette.primary.main]: newTheme\n        };\n        const resStr = JSON.stringify(res);\n        setOptions({\n            ...options,\n            themes: resStr\n        });\n    };\n\n    useEffect(() => {\n        const res = JSON.parse(options.themes);\n        const themeString = {};\n\n        Object.keys(res).forEach(k => {\n            themeString[k] = JSON.stringify(res[k]);\n        });\n\n        setTheme(res);\n        setThemeConfig(themeString);\n    }, [options.themes]);\n\n    const handleChange = name => event => {\n        setOptions({\n            ...options,\n            [name]: event.target.value\n        });\n    };\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options)\n        })\n            .then(response => {\n                setOptions(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const submit = e => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach(k => {\n            option.push({\n                key: k,\n                value: options[k]\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"设置已更改\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        主题配色\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <Table aria-label=\"simple table\">\n                                <TableHead>\n                                    <TableRow>\n                                        <TableCell>关键色</TableCell>\n                                        <TableCell>色彩配置</TableCell>\n                                        <TableCell>操作</TableCell>\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    {Object.keys(theme).map(k => (\n                                        <TableRow key={k}>\n                                            <TableCell\n                                                component=\"th\"\n                                                scope=\"row\"\n                                            >\n                                                <div\n                                                    className={\n                                                        classes.colorContainer\n                                                    }\n                                                >\n                                                    <div\n                                                        style={{\n                                                            backgroundColor:\n                                                                theme[k].palette\n                                                                    .primary\n                                                                    .main\n                                                        }}\n                                                        className={\n                                                            classes.colorDot\n                                                        }\n                                                    />\n                                                    <div\n                                                        style={{\n                                                            backgroundColor:\n                                                                theme[k].palette\n                                                                    .secondary\n                                                                    .main\n                                                        }}\n                                                        className={\n                                                            classes.colorDot\n                                                        }\n                                                    />\n                                                </div>\n                                            </TableCell>\n                                            <TableCell>\n                                                <TextField\n                                                    error={themeConfigError[k]}\n                                                    helperText={\n                                                        themeConfigError[k] &&\n                                                        \"格式不正确\"\n                                                    }\n                                                    fullWidth\n                                                    multiline\n                                                    onChange={e => {\n                                                        setThemeConfig({\n                                                            ...themeConfig,\n                                                            [k]: e.target.value\n                                                        });\n                                                    }}\n                                                    onBlur={e => {\n                                                        try {\n                                                            const res = JSON.parse(\n                                                                e.target.value\n                                                            );\n                                                            if (\n                                                                !(\n                                                                    \"palette\" in\n                                                                    res\n                                                                ) ||\n                                                                !(\n                                                                    \"primary\" in\n                                                                    res.palette\n                                                                ) ||\n                                                                !(\n                                                                    \"main\" in\n                                                                    res.palette\n                                                                        .primary\n                                                                ) ||\n                                                                !(\n                                                                    \"secondary\" in\n                                                                    res.palette\n                                                                ) ||\n                                                                !(\n                                                                    \"main\" in\n                                                                    res.palette\n                                                                        .secondary\n                                                                )\n                                                            ) {\n                                                                throw e;\n                                                            }\n                                                            setTheme({\n                                                                ...theme,\n                                                                [k]: res\n                                                            });\n                                                        } catch (e) {\n                                                            setThemeConfigError(\n                                                                {\n                                                                    ...themeConfigError,\n                                                                    [k]: true\n                                                                }\n                                                            );\n                                                            return;\n                                                        }\n                                                        setThemeConfigError({\n                                                            ...themeConfigError,\n                                                            [k]: false\n                                                        });\n                                                    }}\n                                                    value={themeConfig[k]}\n                                                />\n                                            </TableCell>\n                                            <TableCell>\n                                                <IconButton\n                                                    onClick={() =>\n                                                        deleteTheme(k)\n                                                    }\n                                                >\n                                                    <Delete />\n                                                </IconButton>\n                                            </TableCell>\n                                        </TableRow>\n                                    ))}\n                                </TableBody>\n                            </Table>\n                            <div>\n                                <Button\n                                    variant=\"outlined\"\n                                    color=\"primary\"\n                                    style={{ marginTop: 8 }}\n                                    onClick={() => setCreate(true)}\n                                >\n                                    新建配色方案\n                                </Button>\n                            </div>\n                            <Alert severity=\"info\" style={{ marginTop: 8 }}>\n                                <Typography variant=\"body2\">\n                                    完整的配置项可在{\" \"}\n                                    <Link\n                                        href={\n                                            \"https://material-ui.com/zh/customization/default-theme/\"\n                                        }\n                                        target={\"_blank\"}\n                                    >\n                                        默认主题 - Material-UI\n                                    </Link>{\" \"}\n                                    查阅。\n                                </Typography>\n                            </Alert>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    默认配色\n                                </InputLabel>\n                                <Select\n                                    value={options.defaultTheme}\n                                    onChange={handleChange(\"defaultTheme\")}\n                                >\n                                    {Object.keys(theme).map(k => (\n                                        <MenuItem key={k} value={k}>\n                                            <div\n                                                className={\n                                                    classes.colorContainer\n                                                }\n                                            >\n                                                <div\n                                                    style={{\n                                                        backgroundColor:\n                                                            theme[k].palette\n                                                                .primary.main\n                                                    }}\n                                                    className={classes.colorDot}\n                                                />\n                                                <div\n                                                    style={{\n                                                        backgroundColor:\n                                                            theme[k].palette\n                                                                .secondary.main\n                                                    }}\n                                                    className={classes.colorDot}\n                                                />\n                                            </div>\n                                        </MenuItem>\n                                    ))}\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    用户未指定偏好配色时，站点默认使用的配色方案\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        界面\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    个人文件列表默认样式\n                                </InputLabel>\n                                <Select\n                                    value={options.home_view_method}\n                                    onChange={handleChange(\"home_view_method\")}\n                                    required\n                                >\n                                    <MenuItem value={\"icon\"}>大图标</MenuItem>\n                                    <MenuItem value={\"smallIcon\"}>\n                                        小图标\n                                    </MenuItem>\n                                    <MenuItem value={\"list\"}>列表</MenuItem>\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    用户未指定偏好样式时，个人文件页面列表默认样式\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    目录分享页列表默认样式\n                                </InputLabel>\n                                <Select\n                                    value={options.share_view_method}\n                                    onChange={handleChange(\"share_view_method\")}\n                                    required\n                                >\n                                    <MenuItem value={\"icon\"}>大图标</MenuItem>\n                                    <MenuItem value={\"smallIcon\"}>\n                                        小图标\n                                    </MenuItem>\n                                    <MenuItem value={\"list\"}>列表</MenuItem>\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    用户未指定偏好样式时，目录分享页面的默认样式\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        保存\n                    </Button>\n                </div>\n            </form>\n\n            <CreateTheme\n                onSubmit={addTheme}\n                open={create}\n                onClose={() => setCreate(false)}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    }\n}));\n\nexport default function Aria2() {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        aria2_rpcurl: \"\",\n        aria2_token: \"\",\n        aria2_temp_path: \"\",\n        aria2_options: \"\",\n        aria2_interval: \"0\",\n        aria2_call_timeout: \"0\"\n    });\n\n    const handleChange = name => event => {\n        setOptions({\n            ...options,\n            [name]: event.target.value\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options)\n        })\n            .then(response => {\n                setOptions(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const reload = () => {\n        API.get(\"/admin/reload/aria2\")\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .then(() => {})\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .then(() => {});\n    };\n\n    const test = () => {\n        setLoading(true);\n        API.post(\"/admin/aria2/test\", {\n            server: options.aria2_rpcurl,\n            token: options.aria2_token\n        })\n            .then(response => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"连接成功，Aria2 版本为：\" + response.data,\n                    \"success\"\n                );\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const submit = e => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach(k => {\n            option.push({\n                key: k,\n                value: options[k]\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"设置已更改\", \"success\");\n                reload();\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        Aria2\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <Alert severity=\"info\" style={{ marginTop: 8 }}>\n                                <Typography variant=\"body2\">\n                                    Cloudreve 的离线下载功能由{\" \"}\n                                    <Link\n                                        href={\"https://aria2.github.io/\"}\n                                        target={\"_blank\"}\n                                    >\n                                        Aria2\n                                    </Link>{\" \"}\n                                    驱动。如需使用，请在同一设备上以和运行\n                                    Cloudreve 相同的用户身份启动 Aria2， 并在\n                                    Aria2 的配置文件中开启 RPC\n                                    服务。更多信息及指引请参考文档的{\" \"}\n                                    <Link\n                                        href={\n                                            \"https://docs.cloudreve.org/use/aria2\"\n                                        }\n                                        target={\"_blank\"}\n                                    >\n                                        离线下载\n                                    </Link>{\" \"}\n                                    章节。\n                                </Typography>\n                            </Alert>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    RPC 服务器地址\n                                </InputLabel>\n                                <Input\n                                    type={\"url\"}\n                                    value={options.aria2_rpcurl}\n                                    onChange={handleChange(\"aria2_rpcurl\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    包含端口的完整 RPC\n                                    服务器地址，例如：http://127.0.0.1:6800/，留空表示不启用\n                                    Aria2 服务\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    RPC Secret\n                                </InputLabel>\n                                <Input\n                                    value={options.aria2_token}\n                                    onChange={handleChange(\"aria2_token\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    RPC 授权令牌，与 Aria2\n                                    配置文件中保持一致，未设置请留空。\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    临时下载目录\n                                </InputLabel>\n                                <Input\n                                    value={options.aria2_temp_path}\n                                    onChange={handleChange(\"aria2_temp_path\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    离线下载临时下载目录的\n                                    <strong>绝对路径</strong>，Cloudreve\n                                    进程需要此目录的读、写、执行权限。\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    状态刷新间隔 (秒)\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        step: 1,\n                                        min: 1\n                                    }}\n                                    required\n                                    value={options.aria2_interval}\n                                    onChange={handleChange(\"aria2_interval\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    Cloudreve 向 Aria2 请求刷新任务状态的间隔。\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    RPC 调用超时 (秒)\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        step: 1,\n                                        min: 1\n                                    }}\n                                    required\n                                    value={options.aria2_call_timeout}\n                                    onChange={handleChange(\n                                        \"aria2_call_timeout\"\n                                    )}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    调用 RPC 服务时最长等待时间\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    全局任务参数\n                                </InputLabel>\n                                <Input\n                                    multiline\n                                    required\n                                    value={options.aria2_options}\n                                    onChange={handleChange(\"aria2_options\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    创建下载任务时携带的额外设置参数，以 JSON\n                                    编码后的格式书写，您可也可以将这些设置写在\n                                    Aria2 配置文件里，可用参数请查阅官方文档\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        保存\n                    </Button>\n                    <Button\n                        style={{ marginLeft: 8 }}\n                        disabled={loading}\n                        onClick={() => test()}\n                        variant={\"outlined\"}\n                        color={\"secondary\"}\n                    >\n                        测试连接\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport SizeInput from \"../Common/SizeInput\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    }\n}));\n\nexport default function ImageSetting() {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        gravatar_server: \"\",\n        avatar_path: \"\",\n        avatar_size: \"\",\n        avatar_size_l: \"\",\n        avatar_size_m: \"\",\n        avatar_size_s: \"\",\n        thumb_width: \"\",\n        thumb_height: \"\",\n        captcha_height: \"1\",\n        captcha_width: \"1\",\n        captcha_mode: \"3\",\n        captcha_CaptchaLen: \"\"\n    });\n\n    const handleChange = name => event => {\n        setOptions({\n            ...options,\n            [name]: event.target.value\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options)\n        })\n            .then(response => {\n                setOptions(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const submit = e => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach(k => {\n            option.push({\n                key: k,\n                value: options[k]\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"设置已更改\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        头像\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    Gravatar 服务器\n                                </InputLabel>\n                                <Input\n                                    type={\"url\"}\n                                    value={options.gravatar_server}\n                                    onChange={handleChange(\"gravatar_server\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    Gravatar 服务器地址，可选择使用国内镜像\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    头像存储路径\n                                </InputLabel>\n                                <Input\n                                    value={options.avatar_path}\n                                    onChange={handleChange(\"avatar_path\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    用户上传自定义头像的存储路径\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <SizeInput\n                                    value={options.avatar_size}\n                                    onChange={handleChange(\"avatar_size\")}\n                                    required\n                                    min={0}\n                                    max={2147483647}\n                                    label={\"头像文件大小限制\"}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    用户可上传头像文件的最大大小\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    小头像尺寸\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.avatar_size_s}\n                                    onChange={handleChange(\"avatar_size_s\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    中头像尺寸\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.avatar_size_m}\n                                    onChange={handleChange(\"avatar_size_m\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    大头像尺寸\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.avatar_size_l}\n                                    onChange={handleChange(\"avatar_size_l\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        缩略图\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    宽度\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.thumb_width}\n                                    onChange={handleChange(\"thumb_width\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n                    </div>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    高度\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.thumb_height}\n                                    onChange={handleChange(\"thumb_height\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        验证码\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    宽度\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.captcha_width}\n                                    onChange={handleChange(\"captcha_width\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    高度\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1\n                                    }}\n                                    value={options.captcha_height}\n                                    onChange={handleChange(\"captcha_height\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    模式\n                                </InputLabel>\n                                <Select\n                                    value={options.captcha_mode}\n                                    onChange={handleChange(\"captcha_mode\")}\n                                    required\n                                >\n                                    <MenuItem value={\"0\"}>数字</MenuItem>\n                                    <MenuItem value={\"1\"}>字母</MenuItem>\n                                    <MenuItem value={\"2\"}>算数</MenuItem>\n                                    <MenuItem value={\"3\"}>数字+字母</MenuItem>\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    验证码的形式\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        保存\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport { useHistory } from \"react-router\";\n\nconst useStyles = makeStyles(theme => ({\n    cardContainer: {\n        display: \"flex\"\n    },\n    cover: {\n        width: 100,\n        height: 60\n    },\n    card: {},\n    content: {\n        flex: \"1 0 auto\"\n    },\n    bg: {\n        backgroundColor: theme.palette.background.default,\n        padding: \"24px 24px\"\n    },\n    dialogFooter: {\n        justifyContent: \"space-between\"\n    }\n}));\n\nconst policies = [\n    {\n        name: \"本机存储\",\n        img: \"local.png\",\n        path: \"/admin/policy/add/local\"\n    },\n    {\n        name: \"从机存储\",\n        img: \"remote.png\",\n        path: \"/admin/policy/add/remote\"\n    },\n    {\n        name: \"七牛\",\n        img: \"qiniu.png\",\n        path: \"/admin/policy/add/qiniu\"\n    },\n    {\n        name: \"阿里云 OSS\",\n        img: \"oss.png\",\n        path: \"/admin/policy/add/oss\"\n    },\n    {\n        name: \"又拍云\",\n        img: \"upyun.png\",\n        path: \"/admin/policy/add/upyun\"\n    },\n    {\n        name: \"腾讯云 COS\",\n        img: \"cos.png\",\n        path: \"/admin/policy/add/cos\"\n    },\n    {\n        name: \"OneDrive\",\n        img: \"onedrive.png\",\n        path: \"/admin/policy/add/onedrive\"\n    },\n    {\n        name: \"Amazon S3\",\n        img: \"s3.png\",\n        path: \"/admin/policy/add/s3\"\n    }\n];\n\nexport default function AddPolicy({ open, onClose }) {\n    const classes = useStyles();\n\n    const location = useHistory();\n\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            maxWidth={\"sm\"}\n            fullWidth\n        >\n            <DialogTitle id=\"alert-dialog-title\">选择存储方式</DialogTitle>\n            <DialogContent dividers className={classes.bg}>\n                <Grid container spacing={2}>\n                    {policies.map(v => (\n                        <Grid item sm={12} md={6} key={v.path}>\n                            <Card className={classes.card}>\n                                <CardActionArea\n                                    onClick={() => {\n                                        location.push(v.path);\n                                        onClose();\n                                    }}\n                                    className={classes.cardContainer}\n                                >\n                                    <CardMedia\n                                        className={classes.cover}\n                                        image={\"/static/img/\" + v.img}\n                                    />\n                                    <CardContent className={classes.content}>\n                                        <Typography\n                                            variant=\"subtitle1\"\n                                            color=\"textSecondary\"\n                                        >\n                                            {v.name}\n                                        </Typography>\n                                    </CardContent>\n                                </CardActionArea>\n                            </Card>\n                        </Grid>\n                    ))}\n                </Grid>\n            </DialogContent>\n            <DialogActions className={classes.dialogFooter}>\n                <Button\n                    onClick={() =>\n                        window.open(\n                            \"https://docs.cloudreve.org/use/policy/compare\"\n                        )\n                    }\n                    color=\"primary\"\n                >\n                    存储策略对比\n                </Button>\n                <Button onClick={onClose} color=\"primary\">\n                    取消\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { Delete, Edit } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport { policyTypeMap } from \"../../../config\";\nimport API from \"../../../middleware/Api\";\nimport { sizeToString } from \"../../../utils\";\nimport AddPolicy from \"../Dialogs/AddPolicy\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    content: {\n        padding: theme.spacing(2)\n    },\n    container: {\n        overflowX: \"auto\"\n    },\n    tableContainer: {\n        marginTop: 16\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    },\n    headerRight: {}\n}));\n\nconst columns = [\n    { id: \"#\", label: \"#\", minWidth: 50 },\n    { id: \"name\", label: \"名称\", minWidth: 170 },\n    { id: \"type\", label: \"类型\", minWidth: 170 },\n    {\n        id: \"count\",\n        label: \"下属文件数\",\n        minWidth: 50,\n        align: \"right\"\n    },\n    {\n        id: \"size\",\n        label: \"数据量\",\n        minWidth: 100,\n        align: \"right\"\n    },\n    {\n        id: \"action\",\n        label: \"操作\",\n        minWidth: 170,\n        align: \"right\"\n    }\n];\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function Policy() {\n    const classes = useStyles();\n    // const [loading, setLoading] = useState(false);\n    // const [tab, setTab] = useState(0);\n    const [policies, setPolicies] = useState([]);\n    const [statics, setStatics] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [addDialog, setAddDialog] = useState(false);\n    const [filter, setFilter] = useState(\"all\");\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [editID, setEditID] = React.useState(0);\n\n    const location = useLocation();\n    const history = useHistory();\n    const query = useQuery();\n\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (query.get(\"code\") === \"0\") {\n            ToggleSnackbar(\"top\", \"right\", \"授权成功\", \"success\");\n        } else if (query.get(\"msg\") && query.get(\"msg\") !== \"\") {\n            ToggleSnackbar(\n                \"top\",\n                \"right\",\n                query.get(\"msg\") + \", \" + query.get(\"err\"),\n                \"warning\"\n            );\n        }\n    }, [location]);\n\n    const loadList = () => {\n        API.post(\"/admin/policy/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: \"id desc\",\n            conditions: filter === \"all\" ? {} : { type: filter }\n        })\n            .then(response => {\n                setPolicies(response.data.items);\n                setStatics(response.data.statics);\n                setTotal(response.data.total);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, filter]);\n\n    const deletePolicy = id => {\n        API.delete(\"/admin/policy/\" + id)\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", \"存储策略已删除\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const open = Boolean(anchorEl);\n\n    return (\n        <div>\n            <AddPolicy open={addDialog} onClose={() => setAddDialog(false)} />\n            <div className={classes.header}>\n                <Button\n                    color={\"primary\"}\n                    onClick={() => setAddDialog(true)}\n                    variant={\"contained\"}\n                >\n                    添加存储策略\n                </Button>\n                <div className={classes.headerRight}>\n                    <Select\n                        style={{\n                            marginRight: 8\n                        }}\n                        value={filter}\n                        onChange={e => setFilter(e.target.value)}\n                    >\n                        <MenuItem value={\"all\"}>全部</MenuItem>\n                        <MenuItem value={\"local\"}>本机</MenuItem>\n                        <MenuItem value={\"remote\"}>从机</MenuItem>\n                        <MenuItem value={\"qiniu\"}>七牛</MenuItem>\n                        <MenuItem value={\"upyun\"}>又拍云</MenuItem>\n                        <MenuItem value={\"oss\"}>阿里云 OSS</MenuItem>\n                        <MenuItem value={\"cos\"}>腾讯云 COS</MenuItem>\n                        <MenuItem value={\"onedrive\"}>OneDrive</MenuItem>\n                        <MenuItem value={\"s3\"}>Amazon S3</MenuItem>\n                    </Select>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        刷新\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                {columns.map(column => (\n                                    <TableCell\n                                        key={column.id}\n                                        align={column.align}\n                                        style={{ minWidth: column.minWidth }}\n                                    >\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {policies.map(row => (\n                                <TableRow hover key={row.ID}>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell>{row.Name}</TableCell>\n                                    <TableCell>\n                                        {policyTypeMap[row.Type] !==\n                                            undefined &&\n                                            policyTypeMap[row.Type]}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {statics[row.ID] !== undefined &&\n                                            statics[row.ID][0].toLocaleString()}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {statics[row.ID] !== undefined &&\n                                            sizeToString(statics[row.ID][1])}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        <Tooltip title={\"删除\"}>\n                                            <IconButton\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                        <Tooltip title={\"编辑\"}>\n                                            <IconButton\n                                                onClick={e => {\n                                                    setEditID(row.ID);\n                                                    handleClick(e);\n                                                }}\n                                                size={\"small\"}\n                                            >\n                                                <Edit />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={e => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n            <Menu\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                keepMounted\n            >\n                <MenuItem\n                    onClick={e => {\n                        handleClose(e);\n                        history.push(\"/admin/policy/edit/pro/\" + editID);\n                    }}\n                >\n                    专家模式编辑\n                </MenuItem>\n                <MenuItem\n                    onClick={e => {\n                        handleClose(e);\n                        history.push(\"/admin/policy/edit/guide/\" + editID);\n                    }}\n                >\n                    向导模式编辑\n                </MenuItem>\n            </Menu>\n        </div>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\n\nexport default function DomainInput({ onChange, value, required, label }) {\n    const [domain, setDomain] = useState(\"\");\n    const [protocol, setProtocol] = useState(\"https://\");\n    const [error, setError] = useState();\n\n    useState(() => {\n        value = value ? value : \"\";\n        if (value.startsWith(\"https://\")) {\n            setDomain(value.replace(\"https://\", \"\"));\n            setProtocol(\"https://\");\n        } else {\n            if (value !== \"\") {\n                setDomain(value.replace(\"http://\", \"\"));\n                setProtocol(\"http://\");\n            }\n        }\n    }, [value]);\n\n    useEffect(() => {\n        if (protocol === \"http://\" && window.location.protocol === \"https:\") {\n            setError(\n                \"您当前站点启用了 HTTPS ，此处选择 HTTP 可能会导致无法连接。\"\n            );\n        } else {\n            setError(\"\");\n        }\n    }, [protocol]);\n\n    return (\n        <FormControl>\n            <InputLabel htmlFor=\"component-helper\">{label}</InputLabel>\n            <Input\n                error={error !== \"\"}\n                value={domain}\n                onChange={e => {\n                    setDomain(e.target.value);\n                    onChange({\n                        target: {\n                            value: protocol + e.target.value\n                        }\n                    });\n                }}\n                required={required}\n                startAdornment={\n                    <InputAdornment position=\"start\">\n                        <Select\n                            value={protocol}\n                            onChange={e => {\n                                setProtocol(e.target.value);\n                                onChange({\n                                    target: {\n                                        value: e.target.value + domain\n                                    }\n                                });\n                            }}\n                        >\n                            <MenuItem value={\"http://\"}>http://</MenuItem>\n                            <MenuItem value={\"https://\"}>https://</MenuItem>\n                        </Select>\n                    </InputAdornment>\n                }\n            />\n            {error !== \"\" && (\n                <FormHelperText error={error !== \"\"}>{error}</FormHelperText>\n            )}\n        </FormControl>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport React from \"react\";\n\nexport default function MagicVar({ isFile, open, onClose, isSlave }) {\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                {isFile ? \"文件名魔法变量\" : \"路径魔法变量\"}\n            </DialogTitle>\n            <DialogContent>\n                <TableContainer>\n                    <Table size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>魔法变量</TableCell>\n                                <TableCell>描述</TableCell>\n                                <TableCell>示例</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{randomkey16}\"}\n                                </TableCell>\n                                <TableCell>16位随机字符</TableCell>\n                                <TableCell>N6IimT5XZP324ACK</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{randomkey8}\"}\n                                </TableCell>\n                                <TableCell>8位随机字符</TableCell>\n                                <TableCell>gWz78q30</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{timestamp}\"}\n                                </TableCell>\n                                <TableCell>秒级时间戳</TableCell>\n                                <TableCell>1582692933</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{timestamp_nano}\"}\n                                </TableCell>\n                                <TableCell>纳秒级时间戳</TableCell>\n                                <TableCell>1582692933231834600</TableCell>\n                            </TableRow>\n                            {!isSlave && (\n                                <TableRow>\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {\"{uid}\"}\n                                    </TableCell>\n                                    <TableCell>用户ID</TableCell>\n                                    <TableCell>1</TableCell>\n                                </TableRow>\n                            )}\n                            {isFile && (\n                                <TableRow>\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {\"{originname}\"}\n                                    </TableCell>\n                                    <TableCell>原始文件名</TableCell>\n                                    <TableCell>MyPico.mp4</TableCell>\n                                </TableRow>\n                            )}\n                            {!isFile && !isSlave && (\n                                <TableRow>\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {\"{path}\"}\n                                    </TableCell>\n                                    <TableCell>用户上传路径</TableCell>\n                                    <TableCell>/我的文件/学习资料/</TableCell>\n                                </TableRow>\n                            )}\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{date}\"}\n                                </TableCell>\n                                <TableCell>日期</TableCell>\n                                <TableCell>20060102</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{datetime}\"}\n                                </TableCell>\n                                <TableCell>日期时间</TableCell>\n                                <TableCell>20060102150405</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{year}\"}\n                                </TableCell>\n                                <TableCell>年份</TableCell>\n                                <TableCell>2006</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{month}\"}\n                                </TableCell>\n                                <TableCell>月份</TableCell>\n                                <TableCell>01</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{day}\"}\n                                </TableCell>\n                                <TableCell>日</TableCell>\n                                <TableCell>02</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{hour}\"}\n                                </TableCell>\n                                <TableCell>小时</TableCell>\n                                <TableCell>15</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{minute}\"}\n                                </TableCell>\n                                <TableCell>分钟</TableCell>\n                                <TableCell>04</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {\"{second}\"}\n                                </TableCell>\n                                <TableCell>秒</TableCell>\n                                <TableCell>05</TableCell>\n                            </TableRow>\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"primary\">\n                    关闭\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Select from \"@material-ui/core/Select\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../actions\";\nimport API from \"../../../../middleware/Api\";\nimport { getNumber } from \"../../../../utils\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\n\nconst useStyles = makeStyles(theme => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\"\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default\n        }\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\"\n    },\n    stepNumberContainer: {\n        marginRight: 10\n    },\n    stepFooter: {\n        marginTop: 32\n    },\n    button: {\n        marginRight: theme.spacing(1)\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\"\n        }\n    }\n}));\n\nconst steps = [\n    {\n        title: \"存储空间\",\n        optional: false\n    },\n    {\n        title: \"上传路径\",\n        optional: false\n    },\n    {\n        title: \"直链设置\",\n        optional: false\n    },\n    {\n        title: \"上传限制\",\n        optional: false\n    },\n    {\n        title: \"跨域策略\",\n        optional: true\n    },\n    {\n        title: \"云函数回调\",\n        optional: true\n    },\n    {\n        title: \"完成\",\n        optional: false\n    }\n];\n\nexport default function COSGuide(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped, setSkipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\"false\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"cos\",\n                  Name: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  Server: \"\",\n                  IsPrivate: \"true\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\"\n                  }\n              }\n    );\n    const [policyID, setPolicyID] = useState(\n        props.policy ? props.policy.ID : 0\n    );\n    const [region, setRegion] = useState(\"ap-chengdu\");\n\n    const handleChange = name => event => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value\n        });\n    };\n\n    const handleOptionChange = name => event => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value\n            }\n        });\n    };\n\n    const isStepSkipped = step => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = e => {\n        e.preventDefault();\n        setLoading(true);\n\n        const policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        if (useCDN === \"false\") {\n            policyCopy.BaseURL = policy.Server;\n        }\n\n        // 类型转换\n        policyCopy.AutoRename = policyCopy.AutoRename === \"true\";\n        policyCopy.IsOriginLinkEnable =\n            policyCopy.IsOriginLinkEnable === \"true\";\n        policyCopy.IsPrivate = policyCopy.IsPrivate === \"true\";\n        policyCopy.MaxSize = parseInt(policyCopy.MaxSize);\n        policyCopy.OptionsSerialized.file_type = policyCopy.OptionsSerialized.file_type.split(\n            \",\"\n        );\n        if (\n            policyCopy.OptionsSerialized.file_type.length === 1 &&\n            policyCopy.OptionsSerialized.file_type[0] === \"\"\n        ) {\n            policyCopy.OptionsSerialized.file_type = [];\n        }\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy\n        })\n            .then(response => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"存储策略已\" + (props.policy ? \"保存\" : \"添加\"),\n                    \"success\"\n                );\n                setActiveStep(4);\n                setPolicyID(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    const createCORS = () => {\n        setLoading(true);\n        API.post(\"/admin/policy/cors\", {\n            id: policyID\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"跨域策略已添加\", \"success\");\n                setActiveStep(5);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const creatCallback = () => {\n        setLoading(true);\n        API.post(\"/admin/policy/scf\", {\n            id: policyID,\n            region: region\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"回调云函数已添加\", \"success\");\n                setActiveStep(6);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy ? \"修改\" : \"添加\"} 腾讯云 COS 存储策略\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">可选</Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>{label.title}</StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>0</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在使用 腾讯云 COS 储策略前，请确保您在 参数设置\n                                - 站点信息 - 站点URL 中填写的\n                                地址与实际相符，并且\n                                <strong>能够被外网正常访问</strong>。\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                前往\n                                <Link\n                                    href={\n                                        \"https://console.cloud.tencent.com/cos5\"\n                                    }\n                                    target={\"_blank\"}\n                                >\n                                    COS 管理控制台\n                                </Link>\n                                创建存储桶。\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                转到所创建存储桶的基础配置页面，将\n                                <code>空间名称</code>填写在下方：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        空间名称\n                                    </InputLabel>\n                                    <Input\n                                        inputProps={{\n                                            pattern: \"[a-z0-9-]+-[0-9]+\",\n                                            title:\n                                                \"空间名格式不正确, 举例：ccc-1252109809\"\n                                        }}\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在下方选择您创建的空间的访问权限类型，推荐选择\n                                <code>私有读写</code>\n                                以获得更高的安全性，私有空间无法开启“获取直链”功能。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsPrivate}\n                                        onChange={handleChange(\"IsPrivate\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"私有读写\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"公共读私有写\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                转到所创建 Bucket 的基础配置，填写\n                                <code>基本信息</code>栏目下 给出的{\" \"}\n                                <code>访问域名</code>\n                            </Typography>\n                            <div className={classes.form}>\n                                <DomainInput\n                                    value={policy.Server}\n                                    onChange={handleChange(\"Server\")}\n                                    required\n                                    label={\"访问域名\"}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否要使用配套的 腾讯云CDN 加速 COS 访问？\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={useCDN}\n                                        onChange={e => {\n                                            setUseCDN(e.target.value);\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"使用\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不使用\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={useCDN === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>6</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    前往\n                                    <Link\n                                        href={\n                                            \"https://console.cloud.tencent.com/cdn/access/guid\"\n                                        }\n                                        target={\"_blank\"}\n                                    >\n                                        腾讯云 CDN 管理控制台\n                                    </Link>\n                                    创建 CDN 加速域名，并设定源站为刚创建的 COS\n                                    存储桶。在下方填写 CDN\n                                    加速域名，并选择是否使用 HTTPS：\n                                </Typography>\n                                <div className={classes.form}>\n                                    <DomainInput\n                                        value={policy.BaseURL}\n                                        onChange={handleChange(\"BaseURL\")}\n                                        required={useCDN === \"true\"}\n                                        label={\"CDN 加速域名\"}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(6, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在腾讯云\n                                <Link\n                                    href={\n                                        \"https://console.cloud.tencent.com/cam/capi\"\n                                    }\n                                    target={\"_blank\"}\n                                >\n                                    访问密钥\n                                </Link>\n                                页面获取\n                                一对访问密钥，并填写在下方。请确保这对密钥拥有\n                                COS 和 SCF 服务的访问权限。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        SecretId\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: \"不能含有空格\"\n                                        }}\n                                        value={policy.AccessKey}\n                                        onChange={handleChange(\"AccessKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        SecretKey\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: \"不能含有空格\"\n                                        }}\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(7, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                为此存储策略命名：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储策略名\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContental}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                请在下方输入文件的存储目录路径，可以为绝对路径或相对路径（相对于\n                                从机的\n                                Cloudreve）。路径中可以使用魔法变量，文件在上传时会自动替换这些变量为相应值；\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"path\");\n                                    }}\n                                >\n                                    路径魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储目录\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否需要对存储的物理文件进行重命名？此处的重命名不会影响最终呈现给用户的\n                                文件名。文件名也可使用魔法变量，\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"file\");\n                                    }}\n                                >\n                                    文件名魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"开启重命名\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不开启\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            命名规则\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            上一步\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否允许获取文件永久直链？\n                                <br />\n                                开启后，用户可以请求获得能直接访问到文件内容的直链，适用于图床应用或自用。\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={e => {\n                                            if (\n                                                policy.IsPrivate === \"true\" &&\n                                                e.target.value === \"true\"\n                                            ) {\n                                                ToggleSnackbar(\n                                                    \"top\",\n                                                    \"right\",\n                                                    \"私有空间无法开启此功能\",\n                                                    \"warning\"\n                                                );\n                                                return;\n                                            }\n                                            handleChange(\"IsOriginLinkEnable\")(\n                                                e\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"允许\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"禁止\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传的单文件大小？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\"\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\"\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入限制：\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={\"单文件大小限制\"}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传文件扩展名？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\"\n                                                    }\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\"\n                                                    }\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入允许上传的文件扩展名，多个请以半角逗号 ,\n                                    隔开\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            扩展名列表\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                COS 存储桶 需要正确配置跨域策略后才能使用 Web\n                                端上传文件，Cloudreve\n                                可以帮您自动设置，您也可以参考文档步骤手动设置。如果您已设置过此\n                                Bucket 的跨域策略，此步骤可以跳过。\n                            </Typography>\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    color={\"secondary\"}\n                                    variant={\"contained\"}\n                                    className={classes.button}\n                                    onClick={() => createCORS()}\n                                    classes={{ label: classes.viewButtonLabel }}\n                                >\n                                    让 Cloudreve 帮我设置\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => {\n                                setActiveStep(\n                                    prevActiveStep => prevActiveStep + 1\n                                );\n                                setSkipped(prevSkipped => {\n                                    const newSkipped = new Set(\n                                        prevSkipped.values()\n                                    );\n                                    newSkipped.add(activeStep);\n                                    return newSkipped;\n                                });\n                            }}\n                        >\n                            跳过\n                        </Button>{\" \"}\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <form className={classes.stepContent}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                COS 存储桶 客户端直传需要借助腾讯云的\n                                <Link\n                                    href={\n                                        \"https://console.cloud.tencent.com/scf/index?rid=16\"\n                                    }\n                                    target={\"_blank\"}\n                                >\n                                    云函数\n                                </Link>\n                                产品以确保上传回调可控。如果您打算将此存储策略自用，或者分配给可信赖用户组，此步骤可以跳过。\n                                如果是作为公有使用，请务必创建回调云函数。\n                                <br />\n                                <br />\n                            </Typography>\n                            <Typography variant={\"body2\"}>\n                                Cloudreve 可以尝试帮你自动创建回调云函数，请选择\n                                COS 存储桶 所在地域后继续。\n                                创建可能会花费数秒钟，请耐心等待。创建前请确保您的腾讯云账号已开启云函数服务。\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储桶所在地区\n                                    </InputLabel>\n                                    <Select\n                                        value={region}\n                                        onChange={e =>\n                                            setRegion(e.target.value)\n                                        }\n                                        required\n                                    >\n                                        <MenuItem value={\"ap-beijing\"}>\n                                            华北地区(北京)\n                                        </MenuItem>\n                                        <MenuItem value={\"ap-chengdu\"}>\n                                            西南地区(成都)\n                                        </MenuItem>\n                                        <MenuItem value={\"ap-guangzhou\"}>\n                                            华南地区(广州)\n                                        </MenuItem>\n                                        <MenuItem value={\"ap-guangzhou-open\"}>\n                                            华南地区(广州Open)\n                                        </MenuItem>\n                                        <MenuItem value={\"ap-hongkong\"}>\n                                            港澳台地区(中国香港)\n                                        </MenuItem>\n                                        <MenuItem value={\"ap-mumbai\"}>\n                                            亚太南部(孟买)\n                                        </MenuItem>\n                                        <MenuItem value={\"ap-shanghai\"}>\n                                            华东地区(上海)\n                                        </MenuItem>\n                                        <MenuItem value={\"ap-singapore\"}>\n                                            亚太东南(新加坡)\n                                        </MenuItem>\n                                        <MenuItem value={\"na-siliconvalley\"}>\n                                            美国西部(硅谷)\n                                        </MenuItem>\n                                        <MenuItem value={\"na-toronto\"}>\n                                            北美地区(多伦多)\n                                        </MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </div>\n\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    color={\"secondary\"}\n                                    variant={\"contained\"}\n                                    className={classes.button}\n                                    onClick={() => creatCallback()}\n                                    classes={{ label: classes.viewButtonLabel }}\n                                >\n                                    让 Cloudreve 帮我创建\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => {\n                                setActiveStep(\n                                    prevActiveStep => prevActiveStep + 1\n                                );\n                                setSkipped(prevSkipped => {\n                                    const newSkipped = new Set(\n                                        prevSkipped.values()\n                                    );\n                                    newSkipped.add(activeStep);\n                                    return newSkipped;\n                                });\n                            }}\n                        >\n                            跳过\n                        </Button>{\" \"}\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 6 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            存储策略已{props.policy ? \"保存\" : \"添加\"}！\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            要使用此存储策略，请到用户组管理页面，为相应用户组绑定此存储策略。\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            返回存储策略列表\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../actions\";\nimport API from \"../../../../middleware/Api\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\n\nconst useStyles = makeStyles(theme => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\"\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default\n        }\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\"\n    },\n    stepNumberContainer: {\n        marginRight: 10\n    },\n    stepFooter: {\n        marginTop: 32\n    },\n    button: {\n        marginRight: theme.spacing(1)\n    }\n}));\n\nconst steps = [\n    {\n        title: \"上传路径\",\n        optional: false\n    },\n    {\n        title: \"直链设置\",\n        optional: false\n    },\n    {\n        title: \"上传限制\",\n        optional: false\n    },\n    {\n        title: \"完成\",\n        optional: false\n    }\n];\n\nexport default function LocalGuide(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\"false\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"local\",\n                  Name: \"\",\n                  DirNameRule: \"uploads/{uid}/{path}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  BaseURL: \"\",\n                  IsPrivate: \"true\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\"\n                  }\n              }\n    );\n\n    const handleChange = name => event => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value\n        });\n    };\n\n    const handleOptionChange = name => event => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value\n            }\n        });\n    };\n\n    const isStepSkipped = step => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const checkPathSetting = e => {\n        e.preventDefault();\n        setLoading(true);\n\n        // 测试路径是否可用\n        API.post(\"/admin/policy/test/path\", {\n            path: policy.DirNameRule\n        })\n            .then(() => {\n                setActiveStep(1);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const submitPolicy = e => {\n        e.preventDefault();\n        setLoading(true);\n\n        const policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // 处理存储策略\n        if (useCDN === \"false\" || policy.IsOriginLinkEnable === \"false\") {\n            policyCopy.BaseURL = \"\";\n        }\n\n        // 类型转换\n        policyCopy.AutoRename = policyCopy.AutoRename === \"true\";\n        policyCopy.IsOriginLinkEnable =\n            policyCopy.IsOriginLinkEnable === \"true\";\n        policyCopy.MaxSize = parseInt(policyCopy.MaxSize);\n        policyCopy.IsPrivate = policyCopy.IsPrivate === \"true\";\n        policyCopy.OptionsSerialized.file_type = policyCopy.OptionsSerialized.file_type.split(\n            \",\"\n        );\n        if (\n            policyCopy.OptionsSerialized.file_type.length === 1 &&\n            policyCopy.OptionsSerialized.file_type[0] === \"\"\n        ) {\n            policyCopy.OptionsSerialized.file_type = [];\n        }\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"存储策略已\" + (props.policy ? \"保存\" : \"添加\"),\n                    \"success\"\n                );\n                setActiveStep(4);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy ? \"修改\" : \"添加\"}本机存储策略\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">可选</Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>{label.title}</StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={checkPathSetting}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                请在下方输入文件的存储目录路径，可以为绝对路径或相对路径（相对于\n                                Cloudreve）。路径中可以使用魔法变量，文件在上传时会自动替换这些变量为相应值；\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"path\");\n                                    }}\n                                >\n                                    路径魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储目录\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否需要对存储的物理文件进行重命名？此处的重命名不会影响最终呈现给用户的\n                                文件名。文件名也可使用魔法变量，\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"file\");\n                                    }}\n                                >\n                                    文件名魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"开启重命名\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不开启\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            命名规则\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否允许获取文件永久直链？\n                                <br />\n                                开启后，用户可以请求获得能直接访问到文件内容的直链，适用于图床应用或自用。\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={handleChange(\n                                            \"IsOriginLinkEnable\"\n                                        )}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"允许\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"禁止\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.IsOriginLinkEnable === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    是否要对下载/直链使用 CDN？\n                                    <br />\n                                    开启后，用户访问文件时的 URL\n                                    中的域名部分会被替换为 CDN 域名。\n                                </Typography>\n\n                                <div className={classes.form}>\n                                    <FormControl required component=\"fieldset\">\n                                        <RadioGroup\n                                            required\n                                            value={useCDN}\n                                            onChange={e => {\n                                                if (\n                                                    e.target.value === \"false\"\n                                                ) {\n                                                    setPolicy({\n                                                        ...policy,\n                                                        BaseURL: \"\"\n                                                    });\n                                                }\n                                                setUseCDN(e.target.value);\n                                            }}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label=\"使用\"\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label=\"不使用\"\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n\n                        <Collapse in={useCDN === \"true\"}>\n                            <div className={classes.subStepContainer}>\n                                <div className={classes.stepNumberContainer}>\n                                    <div className={classes.stepNumber}>3</div>\n                                </div>\n                                <div className={classes.subStepContent}>\n                                    <Typography variant={\"body2\"}>\n                                        选择协议并填写 CDN 域名\n                                    </Typography>\n\n                                    <div className={classes.form}>\n                                        <DomainInput\n                                            value={policy.BaseURL}\n                                            onChange={handleChange(\"BaseURL\")}\n                                            required={\n                                                policy.IsOriginLinkEnable ===\n                                                    \"true\" && useCDN === \"true\"\n                                            }\n                                            label={\"CDN 前缀\"}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                        </Collapse>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传的单文件大小？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\"\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\"\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入限制：\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={\"单文件大小限制\"}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传文件扩展名？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\"\n                                                    }\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\"\n                                                    }\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入允许上传的文件扩展名，多个请以半角逗号 ,\n                                    隔开\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            扩展名列表\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}></div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                最后一步，为此存储策略命名：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储策略名\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            完成\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            存储策略已{props.policy ? \"保存\" : \"添加\"}！\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            要使用此存储策略，请到用户组管理页面，为相应用户组绑定此存储策略。\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            返回存储策略列表\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../actions\";\nimport API from \"../../../../middleware/Api\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport AlertDialog from \"../../Dialogs/Alert\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\nimport DomainInput from \"../../Common/DomainInput\";\n\nconst useStyles = makeStyles(theme => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\"\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default\n        }\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\"\n    },\n    stepNumberContainer: {\n        marginRight: 10\n    },\n    stepFooter: {\n        marginTop: 32\n    },\n    button: {\n        marginRight: theme.spacing(1)\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\"\n        }\n    }\n}));\n\nconst steps = [\n    {\n        title: \"应用授权\",\n        optional: false\n    },\n    {\n        title: \"上传路径\",\n        optional: false\n    },\n    {\n        title: \"上传限制\",\n        optional: false\n    },\n    {\n        title: \"账号授权\",\n        optional: false\n    },\n    {\n        title: \"完成\",\n        optional: false\n    }\n];\n\nexport default function OneDriveGuide(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\n        props.policy && props.policy.OptionsSerialized.od_proxy\n            ? props.policy.OptionsSerialized.od_proxy !== \"\"\n            : false\n    );\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"onedrive\",\n                  Name: \"\",\n                  BucketName: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  Server: \"https://graph.microsoft.com/v1.0\",\n                  IsPrivate: \"true\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      od_redirect: \"\",\n                      od_proxy: \"\"\n                  }\n              }\n    );\n    const [policyID, setPolicyID] = useState(\n        props.policy ? props.policy.ID : 0\n    );\n    const [httpsAlert, setHttpsAlert] = useState(false);\n\n    const handleChange = name => event => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value\n        });\n    };\n\n    const handleOptionChange = name => event => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value\n            }\n        });\n    };\n\n    const isStepSkipped = step => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: [\"siteURL\"]\n        })\n            .then(response => {\n                if (!response.data.siteURL.startsWith(\"https://\")) {\n                    setHttpsAlert(true);\n                }\n                if (policy.OptionsSerialized.od_redirect === \"\") {\n                    setPolicy({\n                        ...policy,\n                        OptionsSerialized: {\n                            ...policy.OptionsSerialized,\n                            od_redirect: new URL(\n                                \"/api/v3/callback/onedrive/auth\",\n                                response.data.siteURL\n                            ).toString()\n                        }\n                    });\n                }\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    const statOAuth = () => {\n        setLoading(true);\n        API.get(\"/admin/policy/\" + policyID + \"/oauth\")\n            .then(response => {\n                window.location.href = response.data;\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                setLoading(false);\n            });\n    };\n\n    const submitPolicy = e => {\n        e.preventDefault();\n        setLoading(true);\n\n        const policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // baseURL处理\n        if (policyCopy.Server === \"https://graph.microsoft.com/v1.0\") {\n            policyCopy.BaseURL =\n                \"https://login.microsoftonline.com/common/oauth2/v2.0\";\n        } else {\n            policyCopy.BaseURL = \"https://login.chinacloudapi.cn/common/oauth2\";\n        }\n\n        if (!useCDN) {\n            policyCopy.OptionsSerialized.od_proxy = \"\";\n        }\n\n        // 类型转换\n        policyCopy.AutoRename = policyCopy.AutoRename === \"true\";\n        policyCopy.IsOriginLinkEnable =\n            policyCopy.IsOriginLinkEnable === \"true\";\n        policyCopy.IsPrivate = policyCopy.IsPrivate === \"true\";\n        policyCopy.MaxSize = parseInt(policyCopy.MaxSize);\n        policyCopy.OptionsSerialized.file_type = policyCopy.OptionsSerialized.file_type.split(\n            \",\"\n        );\n        if (\n            policyCopy.OptionsSerialized.file_type.length === 1 &&\n            policyCopy.OptionsSerialized.file_type[0] === \"\"\n        ) {\n            policyCopy.OptionsSerialized.file_type = [];\n        }\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy\n        })\n            .then(response => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"存储策略已\" + (props.policy ? \"保存\" : \"添加\"),\n                    \"success\"\n                );\n                setActiveStep(3);\n                setPolicyID(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <AlertDialog\n                open={httpsAlert}\n                onClose={() => setHttpsAlert(false)}\n                title={\"警告\"}\n                msg={\n                    \"您必须启用 HTTPS 才能使用 OneDrive 存储策略；启用后同步更改 参数设置 - 站点信息 - 站点URL。\"\n                }\n            />\n            <Typography variant={\"h6\"}>\n                {props.policy ? \"修改\" : \"添加\"} OneDrive 存储策略\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">可选</Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>{label.title}</StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                前往\n                                <Link\n                                    href={\n                                        \"https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview\"\n                                    }\n                                    target={\"_blank\"}\n                                >\n                                    Azure Active Directory 控制台 (国际版账号)\n                                </Link>{\" \"}\n                                或者{\" \"}\n                                <Link\n                                    href={\n                                        \"https://portal.azure.cn/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview\"\n                                    }\n                                    target={\"_blank\"}\n                                >\n                                    Azure Active Directory 控制台 (世纪互联账号)\n                                </Link>\n                                并登录，登录后进入\n                                <code>Azure Active Directory</code>管理面板。\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                进入左侧 <code>应用注册</code> 菜单，并点击{\" \"}\n                                <code>新注册</code> 按钮。\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                填写应用注册表单。其中，名称可任取；\n                                <code>受支持的帐户类型</code> 选择为\n                                <code>\n                                    任何组织目录(任何 Azure AD 目录 -\n                                    多租户)中的帐户\n                                </code>\n                                ；<code>重定向 URI (可选)</code>\n                                请选择<code>Web</code>，并填写\n                                <code>\n                                    {policy.OptionsSerialized.od_redirect}\n                                </code>\n                                ； 其他保持默认即可\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                创建完成后进入应用管理的<code>概览</code>\n                                页面，复制<code>应用程序(客户端) ID</code>\n                                并填写在下方：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        应用程序(客户端) ID\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                进入应用管理页面左侧的<code>证书和密码</code>\n                                菜单，点击\n                                <code>新建客户端密码</code>\n                                按钮，<code>截止期限</code>选择为\n                                <code>从不</code>\n                                。创建完成后将客户端密码的值填写在下方：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        客户端密码\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>6</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                选择您的 OneDrive 账号类型：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.Server}\n                                        onChange={handleChange(\"Server\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\n                                                \"https://graph.microsoft.com/v1.0\"\n                                            }\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"国际版\"\n                                        />\n                                        <FormControlLabel\n                                            value={\n                                                \"https://microsoftgraph.chinacloudapi.cn/v1.0\"\n                                            }\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"世纪互联版\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>7</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否要在文件下载时替换为使用自建的反代服务器？\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={useCDN.toString()}\n                                        onChange={e => {\n                                            setUseCDN(\n                                                e.target.value === \"true\"\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"使用\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不使用\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                            <Collapse in={useCDN}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <DomainInput\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .od_proxy\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"od_proxy\"\n                                            )}\n                                            required={useCDN}\n                                            label={\"反代服务器地址\"}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>8</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                为此存储策略命名：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储策略名\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                请在下方输入文件的存储目录路径，可以为绝对路径或相对路径（相对于\n                                从机的\n                                Cloudreve）。路径中可以使用魔法变量，文件在上传时会自动替换这些变量为相应值；\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"path\");\n                                    }}\n                                >\n                                    路径魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储目录\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否需要对存储的物理文件进行重命名？此处的重命名不会影响最终呈现给用户的\n                                文件名。文件名也可使用魔法变量，\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"file\");\n                                    }}\n                                >\n                                    文件名魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"开启重命名\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不开启\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            命名规则\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            上一步\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传的单文件大小？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\"\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\"\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入限制：\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={\"单文件大小限制\"}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传文件扩展名？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\"\n                                                    }\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\"\n                                                    }\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入允许上传的文件扩展名，多个请以半角逗号 ,\n                                    隔开\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            扩展名列表\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form className={classes.stepContent}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                存储策略已{props.policy ? \"保存\" : \"添加\"}\n                                ，但是你需要点击下方按钮，并使用 OneDrive\n                                登录授权以完成初始化后才能使用。\n                                日后你可以在存储策略列表页面重新进行授权。\n                            </Typography>\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    color={\"secondary\"}\n                                    variant={\"contained\"}\n                                    className={classes.button}\n                                    onClick={statOAuth}\n                                    classes={{ label: classes.viewButtonLabel }}\n                                >\n                                    转到授权页面\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}></div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>存储策略已添加！</Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            要使用此存储策略，请到用户组管理页面，为相应用户组绑定此存储策略。\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            返回存储策略列表\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../actions\";\nimport API from \"../../../../middleware/Api\";\nimport { getNumber } from \"../../../../utils\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\n\nconst useStyles = makeStyles(theme => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\"\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default\n        }\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\"\n    },\n    stepNumberContainer: {\n        marginRight: 10\n    },\n    stepFooter: {\n        marginTop: 32\n    },\n    button: {\n        marginRight: theme.spacing(1)\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\"\n        }\n    }\n}));\n\nconst steps = [\n    {\n        title: \"存储空间\",\n        optional: false\n    },\n    {\n        title: \"上传路径\",\n        optional: false\n    },\n    {\n        title: \"直链设置\",\n        optional: false\n    },\n    {\n        title: \"上传限制\",\n        optional: false\n    },\n    {\n        title: \"跨域策略\",\n        optional: true\n    },\n    {\n        title: \"完成\",\n        optional: false\n    }\n];\n\nexport default function OSSGuide(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped, setSkipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\"false\");\n    const [useLanEndpoint, setUseLanEndpoint] = useState(\n        props.policy && props.policy.OptionsSerialized.server_side_endpoint\n            ? props.policy.OptionsSerialized.server_side_endpoint !== \"\"\n            : false\n    );\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"oss\",\n                  Name: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  Server: \"\",\n                  IsPrivate: \"true\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      server_side_endpoint: \"\"\n                  }\n              }\n    );\n    const [policyID, setPolicyID] = useState(\n        props.policy ? props.policy.ID : 0\n    );\n\n    const handleChange = name => event => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value\n        });\n    };\n\n    const handleOptionChange = name => event => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value\n            }\n        });\n    };\n\n    const isStepSkipped = step => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = e => {\n        e.preventDefault();\n        setLoading(true);\n\n        const policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        if (useCDN === \"false\") {\n            policyCopy.BaseURL = \"\";\n        }\n\n        if (!useLanEndpoint) {\n            policyCopy.OptionsSerialized.server_side_endpoint = \"\";\n        }\n\n        // 类型转换\n        policyCopy.AutoRename = policyCopy.AutoRename === \"true\";\n        policyCopy.IsOriginLinkEnable =\n            policyCopy.IsOriginLinkEnable === \"true\";\n        policyCopy.IsPrivate = policyCopy.IsPrivate === \"true\";\n        policyCopy.MaxSize = parseInt(policyCopy.MaxSize);\n        policyCopy.OptionsSerialized.file_type = policyCopy.OptionsSerialized.file_type.split(\n            \",\"\n        );\n        if (\n            policyCopy.OptionsSerialized.file_type.length === 1 &&\n            policyCopy.OptionsSerialized.file_type[0] === \"\"\n        ) {\n            policyCopy.OptionsSerialized.file_type = [];\n        }\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy\n        })\n            .then(response => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"存储策略已\" + (props.policy ? \"保存\" : \"添加\"),\n                    \"success\"\n                );\n                setActiveStep(4);\n                setPolicyID(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    const createCORS = () => {\n        setLoading(true);\n        API.post(\"/admin/policy/cors\", {\n            id: policyID\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"跨域策略已添加\", \"success\");\n                setActiveStep(5);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy ? \"修改\" : \"添加\"} 阿里云 OSS 存储策略\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">可选</Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>{label.title}</StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>0</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在使用 阿里云 OSS 储策略前，请确保您在 参数设置\n                                - 站点信息 - 站点URL 中填写的\n                                地址与实际相符，并且\n                                <strong>能够被外网正常访问</strong>。\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                前往\n                                <Link\n                                    href={\n                                        \"https://oss.console.aliyun.com/overview\"\n                                    }\n                                    target={\"_blank\"}\n                                >\n                                    OSS 管理控制台\n                                </Link>\n                                创建 Bucket。注意：创建空间类型只能选择\n                                <code>标准存储</code>或<code>低频访问</code>\n                                ，暂不支持<code>归档存储</code>\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在下方填写您创建 Bucket 时指定的\n                                <code>Bucket 名称</code>：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        Bucket 名称\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在下方选择您创建的空间的读写权限类型，推荐选择“私有”以获得更高的安全性，私有空间无法开启“获取直链”功能。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsPrivate}\n                                        onChange={handleChange(\"IsPrivate\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"私有\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"公共读\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                转到所创建 Bucket 的概览页面，填写\n                                <code>访问域名</code>栏目下\n                                <code>外网访问</code> 一行中间的{\" \"}\n                                <code>EndPoint（地域节点）</code>\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        EndPoint\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Server}\n                                        onChange={handleChange(\"Server\")}\n                                        inputProps={{\n                                            pattern:\n                                                \"(?:(?:(?<thld>[\\\\w\\\\-]*)(?:\\\\.))?(?<sld>[\\\\w\\\\-]*))\\\\.(?<tld>[\\\\w\\\\-]*)\",\n                                            title:\n                                                \"格式不合法，只需输入域名部分即可\"\n                                        }}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                如果您的 Cloudreve\n                                部署在阿里云计算服务中，并且与 OSS\n                                处在同一可用区下，您可以额外指定使用内网\n                                EndPoint\n                                以节省流量开始。是否要在服务端发送请求时使用 OSS\n                                内网 EndPoint？\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={useLanEndpoint.toString()}\n                                        onChange={e => {\n                                            setUseLanEndpoint(\n                                                e.target.value === \"true\"\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"使用\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不使用\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                            <Collapse in={useLanEndpoint}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            内网 EndPoint\n                                        </InputLabel>\n                                        <Input\n                                            required={useLanEndpoint}\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .server_side_endpoint\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"server_side_endpoint\"\n                                            )}\n                                            inputProps={{\n                                                pattern:\n                                                    \"(?:(?:(?<thld>[\\\\w\\\\-]*)(?:\\\\.))?(?<sld>[\\\\w\\\\-]*))\\\\.(?<tld>[\\\\w\\\\-]*)\",\n                                                title:\n                                                    \"格式不合法，只需输入域名部分即可\"\n                                            }}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>6</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否要使用配套的 阿里云CDN 加速 OSS 访问？\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={useCDN}\n                                        onChange={e => {\n                                            setUseCDN(e.target.value);\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"使用\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不使用\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={useCDN === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>7</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    前往\n                                    <Link\n                                        href={\n                                            \"https://cdn.console.aliyun.com/domain/list\"\n                                        }\n                                        target={\"_blank\"}\n                                    >\n                                        阿里云 CDN 管理控制台\n                                    </Link>\n                                    创建 CDN 加速域名，并设定源站为刚创建的 OSS\n                                    Bucket。在下方填写 CDN\n                                    加速域名，并选择是否使用 HTTPS：\n                                </Typography>\n                                <div className={classes.form}>\n                                    <DomainInput\n                                        value={policy.BaseURL}\n                                        onChange={handleChange(\"BaseURL\")}\n                                        required={useCDN === \"true\"}\n                                        label={\"CDN 加速域名\"}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(7, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在阿里云\n                                <Link\n                                    href={\n                                        \"https://usercenter.console.aliyun.com/#/manage/ak\"\n                                    }\n                                    target={\"_blank\"}\n                                >\n                                    安全信息管理\n                                </Link>\n                                页面获取 用户 AccessKey，并填写在下方。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        AccessKey ID\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: \"不能含有空格\"\n                                        }}\n                                        value={policy.AccessKey}\n                                        onChange={handleChange(\"AccessKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        Access Key Secret\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: \"不能含有空格\"\n                                        }}\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(8, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                为此存储策略命名：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储策略名\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                请在下方输入文件的存储目录路径，可以为绝对路径或相对路径（相对于\n                                从机的\n                                Cloudreve）。路径中可以使用魔法变量，文件在上传时会自动替换这些变量为相应值；\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"path\");\n                                    }}\n                                >\n                                    路径魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储目录\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否需要对存储的物理文件进行重命名？此处的重命名不会影响最终呈现给用户的\n                                文件名。文件名也可使用魔法变量，\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"file\");\n                                    }}\n                                >\n                                    文件名魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"开启重命名\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不开启\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            命名规则\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            上一步\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否允许获取文件永久直链？\n                                <br />\n                                开启后，用户可以请求获得能直接访问到文件内容的直链，适用于图床应用或自用。\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={e => {\n                                            if (\n                                                policy.IsPrivate === \"true\" &&\n                                                e.target.value === \"true\"\n                                            ) {\n                                                ToggleSnackbar(\n                                                    \"top\",\n                                                    \"right\",\n                                                    \"私有空间无法开启此功能\",\n                                                    \"warning\"\n                                                );\n                                                return;\n                                            }\n                                            handleChange(\"IsOriginLinkEnable\")(\n                                                e\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"允许\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"禁止\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传的单文件大小？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\"\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\"\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入限制：\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={\"单文件大小限制\"}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传文件扩展名？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\"\n                                                    }\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\"\n                                                    }\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入允许上传的文件扩展名，多个请以半角逗号 ,\n                                    隔开\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            扩展名列表\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                OSS Bucket 需要正确配置跨域策略后才能使用 Web\n                                端上传文件，Cloudreve\n                                可以帮您自动设置，您也可以参考文档步骤手动设置。如果您已设置过此\n                                Bucket 的跨域策略，此步骤可以跳过。\n                            </Typography>\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    color={\"secondary\"}\n                                    variant={\"contained\"}\n                                    className={classes.button}\n                                    onClick={() => createCORS()}\n                                    classes={{ label: classes.viewButtonLabel }}\n                                >\n                                    让 Cloudreve 帮我设置\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => {\n                                setActiveStep(\n                                    prevActiveStep => prevActiveStep + 1\n                                );\n                                setSkipped(prevSkipped => {\n                                    const newSkipped = new Set(\n                                        prevSkipped.values()\n                                    );\n                                    newSkipped.add(activeStep);\n                                    return newSkipped;\n                                });\n                            }}\n                        >\n                            跳过\n                        </Button>{\" \"}\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            存储策略已{props.policy ? \"保存\" : \"添加\"}！\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            要使用此存储策略，请到用户组管理页面，为相应用户组绑定此存储策略。\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            返回存储策略列表\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../actions\";\nimport API from \"../../../../middleware/Api\";\nimport { getNumber } from \"../../../../utils\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\n\nconst useStyles = makeStyles(theme => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\"\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default\n        }\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\"\n    },\n    stepNumberContainer: {\n        marginRight: 10\n    },\n    stepFooter: {\n        marginTop: 32\n    },\n    button: {\n        marginRight: theme.spacing(1)\n    }\n}));\n\nconst steps = [\n    {\n        title: \"存储空间\",\n        optional: false\n    },\n    {\n        title: \"上传路径\",\n        optional: false\n    },\n    {\n        title: \"直链设置\",\n        optional: false\n    },\n    {\n        title: \"上传限制\",\n        optional: false\n    },\n    {\n        title: \"完成\",\n        optional: false\n    }\n];\n\nexport default function RemoteGuide(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    // const [useCDN, setUseCDN] = useState(\"false\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"qiniu\",\n                  Name: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  IsPrivate: \"true\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      mimetype: \"\"\n                  }\n              }\n    );\n\n    const handleChange = name => event => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value\n        });\n    };\n\n    const handleOptionChange = name => event => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value\n            }\n        });\n    };\n\n    const isStepSkipped = step => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = e => {\n        e.preventDefault();\n        setLoading(true);\n\n        const policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // 类型转换\n        policyCopy.AutoRename = policyCopy.AutoRename === \"true\";\n        policyCopy.IsOriginLinkEnable =\n            policyCopy.IsOriginLinkEnable === \"true\";\n        policyCopy.IsPrivate = policyCopy.IsPrivate === \"true\";\n        policyCopy.MaxSize = parseInt(policyCopy.MaxSize);\n        policyCopy.OptionsSerialized.file_type = policyCopy.OptionsSerialized.file_type.split(\n            \",\"\n        );\n        if (\n            policyCopy.OptionsSerialized.file_type.length === 1 &&\n            policyCopy.OptionsSerialized.file_type[0] === \"\"\n        ) {\n            policyCopy.OptionsSerialized.file_type = [];\n        }\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"存储策略已\" + (props.policy ? \"保存\" : \"添加\"),\n                    \"success\"\n                );\n                setActiveStep(5);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy ? \"修改\" : \"添加\"} 七牛 存储策略\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">可选</Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>{label.title}</StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>0</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在使用七牛存储策略前，请确保您在 参数设置 -\n                                站点信息 - 站点URL 中填写的 地址与实际相符，并且\n                                <strong>能够被外网正常访问</strong>。\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                前往\n                                <Link\n                                    href={\"https://portal.qiniu.com/create\"}\n                                    target={\"_blank\"}\n                                >\n                                    七牛控制面板\n                                </Link>\n                                创建对象存储资源。\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在下方填写您在七牛创建存储空间时指定的“存储空间名称”：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储空间名称\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在下方选择您创建的空间类型，推荐选择“私有空间”以获得更高的安全性，私有空间无法开启“获取直链”功能。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsPrivate}\n                                        onChange={handleChange(\"IsPrivate\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"私有\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"公有\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                填写您为存储空间绑定的 CDN 加速域名。\n                            </Typography>\n                            <div className={classes.form}>\n                                <DomainInput\n                                    value={policy.BaseURL}\n                                    onChange={handleChange(\"BaseURL\")}\n                                    required\n                                    label={\"CDN 加速域名\"}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在七牛控制面板进入 个人中心 -\n                                密钥管理，在下方填写获得到的 AK、SK。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        AK\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.AccessKey}\n                                        onChange={handleChange(\"AccessKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        SK\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                请在下方输入文件的存储目录路径，可以为绝对路径或相对路径（相对于\n                                从机的\n                                Cloudreve）。路径中可以使用魔法变量，文件在上传时会自动替换这些变量为相应值；\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"path\");\n                                    }}\n                                >\n                                    路径魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储目录\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否需要对存储的物理文件进行重命名？此处的重命名不会影响最终呈现给用户的\n                                文件名。文件名也可使用魔法变量，\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"file\");\n                                    }}\n                                >\n                                    文件名魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"开启重命名\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不开启\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            命名规则\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            上一步\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否允许获取文件永久直链？\n                                <br />\n                                开启后，用户可以请求获得能直接访问到文件内容的直链，适用于图床应用或自用。\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={e => {\n                                            if (\n                                                policy.IsPrivate === \"true\" &&\n                                                e.target.value === \"true\"\n                                            ) {\n                                                ToggleSnackbar(\n                                                    \"top\",\n                                                    \"right\",\n                                                    \"私有空间无法开启此功能\",\n                                                    \"warning\"\n                                                );\n                                                return;\n                                            }\n                                            handleChange(\"IsOriginLinkEnable\")(\n                                                e\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"允许\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"禁止\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(4);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传的单文件大小？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\"\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\"\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入限制：\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={\"单文件大小限制\"}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传文件扩展名？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\"\n                                                    }\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\"\n                                                    }\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入允许上传的文件扩展名，多个请以半角逗号 ,\n                                    隔开\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            扩展名列表\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(3, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\"\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传文件 MimeType？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .mimetype === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        mimetype: \"image/*\"\n                                                    }\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        mimetype: \"\"\n                                                    }\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.mimetype !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {getNumber(4, [\n                                        policy.MaxSize !== \"0\",\n                                        policy.OptionsSerialized.file_type !==\n                                            \"\"\n                                    ])}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入允许上传的 MimeType，多个请以半角逗号 ,\n                                    隔开。七牛服务器会侦测文件内容以判断\n                                    MimeType，再用判断值跟指定值进行匹配，匹配成功则允许上传\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            MimeType 列表\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .mimetype\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"mimetype\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}></div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                最后一步，为此存储策略命名：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储策略名\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(3)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            完成\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            存储策略已{props.policy ? \"保存\" : \"添加\"}！\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            要使用此存储策略，请到用户组管理页面，为相应用户组绑定此存储策略。\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            返回存储策略列表\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../actions\";\nimport API from \"../../../../middleware/Api\";\nimport { randomStr } from \"../../../../utils\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\n\nconst useStyles = makeStyles(theme => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\"\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default\n        }\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\"\n    },\n    stepNumberContainer: {\n        marginRight: 10\n    },\n    stepFooter: {\n        marginTop: 32\n    },\n    button: {\n        marginRight: theme.spacing(1)\n    },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontSize: \"14px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\"\n        },\n        pre: {\n            margin: \"24px 0\",\n            padding: \"12px 18px\",\n            overflow: \"auto\",\n            direction: \"ltr\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#272c34\",\n            color: \"#fff\"\n        }\n    }\n}));\n\nconst steps = [\n    {\n        title: \"存储端配置\",\n        optional: false\n    },\n    {\n        title: \"上传路径\",\n        optional: false\n    },\n    {\n        title: \"直链设置\",\n        optional: false\n    },\n    {\n        title: \"上传限制\",\n        optional: false\n    },\n    {\n        title: \"完成\",\n        optional: false\n    }\n];\n\nexport default function RemoteGuide(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\"false\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"remote\",\n                  Name: \"\",\n                  Server: \"https://example.com:5212\",\n                  SecretKey: randomStr(64),\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  BaseURL: \"\",\n                  IsPrivate: \"true\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\"\n                  }\n              }\n    );\n\n    const handleChange = name => event => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value\n        });\n    };\n\n    const handleOptionChange = name => event => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value\n            }\n        });\n    };\n\n    const isStepSkipped = step => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const testSlave = () => {\n        setLoading(true);\n\n        // 测试路径是否可用\n        API.post(\"/admin/policy/test/slave\", {\n            server: policy.Server,\n            secret: policy.SecretKey\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"通信正常\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const submitPolicy = e => {\n        e.preventDefault();\n        setLoading(true);\n\n        const policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // 处理存储策略\n        if (useCDN === \"false\" || policy.IsOriginLinkEnable === \"false\") {\n            policyCopy.BaseURL = \"\";\n        }\n\n        // 类型转换\n        policyCopy.AutoRename = policyCopy.AutoRename === \"true\";\n        policyCopy.IsOriginLinkEnable =\n            policyCopy.IsOriginLinkEnable === \"true\";\n        policyCopy.MaxSize = parseInt(policyCopy.MaxSize);\n        policyCopy.IsPrivate = policyCopy.IsPrivate === \"true\";\n        policyCopy.OptionsSerialized.file_type = policyCopy.OptionsSerialized.file_type.split(\n            \",\"\n        );\n        if (\n            policyCopy.OptionsSerialized.file_type.length === 1 &&\n            policyCopy.OptionsSerialized.file_type[0] === \"\"\n        ) {\n            policyCopy.OptionsSerialized.file_type = [];\n        }\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"存储策略已\" + (props.policy ? \"保存\" : \"添加\"),\n                    \"success\"\n                );\n                setActiveStep(5);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy ? \"修改\" : \"添加\"}从机存储策略\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">可选</Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>{label.title}</StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <Alert severity=\"info\" style={{ marginBottom: 10 }}>\n                        从机存储策略允许你使用同样运行了 Cloudreve\n                        的服务器作为存储端， 用户上传下载流量通过 HTTP 直传。\n                    </Alert>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                将和主站相同版本的 Cloudreve\n                                程序拷贝至要作为从机的服务器上。\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                下方为系统为您随机生成的从机端密钥，一般无需改动，如果有自定义需求，\n                                可将您的密钥填入下方：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        从机密钥\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            minlength: 64\n                                        }}\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                修改从机配置文件。\n                                <br />\n                                在从机端 Cloudreve 的同级目录下新建\n                                <code>conf.ini</code>\n                                文件，填入从机配置，启动/重启从机端 Cloudreve。\n                                以下为一个可供参考的配置例子，其中密钥部分已帮您填写为上一步所生成的。\n                            </Typography>\n                            <pre>\n                                [System]\n                                <br />\n                                Mode = slave\n                                <br />\n                                Listen = :5212\n                                <br />\n                                <br />\n                                [Slave]\n                                <br />\n                                Secret = {policy.SecretKey}\n                                <br />\n                                <br />\n                                [CORS]\n                                <br />\n                                AllowOrigins = *<br />\n                                AllowMethods = OPTIONS,GET,POST\n                                <br />\n                                AllowHeaders = *<br />\n                            </pre>\n                            <Typography variant={\"body2\"}>\n                                从机端配置文件格式大致与主站端相同，区别在于：\n                                <ul>\n                                    <li>\n                                        <code>System</code>\n                                        分区下的\n                                        <code>mode</code>\n                                        字段必须更改为<code>slave</code>\n                                    </li>\n                                    <li>\n                                        必须指定<code>Slave</code>分区下的\n                                        <code>Secret</code>\n                                        字段，其值为第二步里填写或生成的密钥。\n                                    </li>\n                                    <li>\n                                        必须启动跨域配置，即<code>CORS</code>\n                                        字段的内容，\n                                        具体可参考上文范例或官方文档。如果配置不正确，用户将无法通过\n                                        Web 端向从机上传文件。\n                                    </li>\n                                </ul>\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                填写从机地址。\n                                <br />\n                                如果主站启用了\n                                HTTPS，从机也需要启用，并在下方填入 HTTPS\n                                协议的地址。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        从机地址\n                                    </InputLabel>\n                                    <Input\n                                        fullWidth\n                                        required\n                                        type={\"url\"}\n                                        value={policy.Server}\n                                        onChange={handleChange(\"Server\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                完成以上步骤后，你可以点击下方的测试按钮测试通信是否正常。\n                            </Typography>\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    onClick={() => testSlave()}\n                                    variant={\"outlined\"}\n                                    color={\"primary\"}\n                                >\n                                    测试从机通信\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                请在下方输入文件的存储目录路径，可以为绝对路径或相对路径（相对于\n                                从机的\n                                Cloudreve）。路径中可以使用魔法变量，文件在上传时会自动替换这些变量为相应值；\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"path\");\n                                    }}\n                                >\n                                    路径魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储目录\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否需要对存储的物理文件进行重命名？此处的重命名不会影响最终呈现给用户的\n                                文件名。文件名也可使用魔法变量，\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"file\");\n                                    }}\n                                >\n                                    文件名魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"开启重命名\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不开启\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            命名规则\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            上一步\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否允许获取文件永久直链？\n                                <br />\n                                开启后，用户可以请求获得能直接访问到文件内容的直链，适用于图床应用或自用。\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={handleChange(\n                                            \"IsOriginLinkEnable\"\n                                        )}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"允许\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"禁止\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.IsOriginLinkEnable === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    是否要对下载/直链使用 CDN？\n                                    <br />\n                                    开启后，用户访问文件时的 URL\n                                    中的域名部分会被替换为 CDN 域名。\n                                </Typography>\n\n                                <div className={classes.form}>\n                                    <FormControl required component=\"fieldset\">\n                                        <RadioGroup\n                                            required\n                                            value={useCDN}\n                                            onChange={e => {\n                                                if (\n                                                    e.target.value === \"false\"\n                                                ) {\n                                                    setPolicy({\n                                                        ...policy,\n                                                        BaseURL: \"\"\n                                                    });\n                                                }\n                                                setUseCDN(e.target.value);\n                                            }}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label=\"使用\"\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label=\"不使用\"\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n\n                        <Collapse in={useCDN === \"true\"}>\n                            <div className={classes.subStepContainer}>\n                                <div className={classes.stepNumberContainer}>\n                                    <div className={classes.stepNumber}>3</div>\n                                </div>\n                                <div className={classes.subStepContent}>\n                                    <Typography variant={\"body2\"}>\n                                        选择协议并填写 CDN 域名\n                                    </Typography>\n\n                                    <div className={classes.form}>\n                                        <DomainInput\n                                            value={policy.BaseURL}\n                                            onChange={handleChange(\"BaseURL\")}\n                                            required={\n                                                policy.IsOriginLinkEnable ===\n                                                    \"true\" && useCDN === \"true\"\n                                            }\n                                            label={\"CDN 前缀\"}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                        </Collapse>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(4);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传的单文件大小？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\"\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\"\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入限制：\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={\"单文件大小限制\"}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传文件扩展名？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\"\n                                                    }\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\"\n                                                    }\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入允许上传的文件扩展名，多个请以半角逗号 ,\n                                    隔开\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            扩展名列表\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}></div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                最后一步，为此存储策略命名：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储策略名\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(3)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            完成\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            存储策略已{props.policy ? \"保存\" : \"添加\"}！\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            要使用此存储策略，请到用户组管理页面，为相应用户组绑定此存储策略。\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            返回存储策略列表\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                isSlave\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                isSlave\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../actions\";\nimport API from \"../../../../middleware/Api\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\n\nconst useStyles = makeStyles(theme => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\"\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default\n        }\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\"\n    },\n    stepNumberContainer: {\n        marginRight: 10\n    },\n    stepFooter: {\n        marginTop: 32\n    },\n    button: {\n        marginRight: theme.spacing(1)\n    }\n}));\n\nconst steps = [\n    {\n        title: \"存储空间\",\n        optional: false\n    },\n    {\n        title: \"上传路径\",\n        optional: false\n    },\n    {\n        title: \"直链设置\",\n        optional: false\n    },\n    {\n        title: \"上传限制\",\n        optional: false\n    },\n    {\n        title: \"完成\",\n        optional: false\n    }\n];\n\nexport default function UpyunGuide(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"upyun\",\n                  Name: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  IsPrivate: \"false\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      token: \"\"\n                  }\n              }\n    );\n\n    const handleChange = name => event => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value\n        });\n    };\n\n    const handleOptionChange = name => event => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value\n            }\n        });\n    };\n\n    const isStepSkipped = step => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = e => {\n        e.preventDefault();\n        setLoading(true);\n\n        const policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // 类型转换\n        policyCopy.AutoRename = policyCopy.AutoRename === \"true\";\n        policyCopy.IsOriginLinkEnable =\n            policyCopy.IsOriginLinkEnable === \"true\";\n        policyCopy.IsPrivate = policyCopy.IsPrivate === \"true\";\n        policyCopy.MaxSize = parseInt(policyCopy.MaxSize);\n        policyCopy.OptionsSerialized.file_type = policyCopy.OptionsSerialized.file_type.split(\n            \",\"\n        );\n        if (\n            policyCopy.OptionsSerialized.file_type.length === 1 &&\n            policyCopy.OptionsSerialized.file_type[0] === \"\"\n        ) {\n            policyCopy.OptionsSerialized.file_type = [];\n        }\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"存储策略已\" + (props.policy ? \"保存\" : \"添加\"),\n                    \"success\"\n                );\n                setActiveStep(5);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy ? \"修改\" : \"添加\"} 又拍云 存储策略\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">可选</Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>{label.title}</StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>0</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在使用又拍云存储策略前，请确保您在 参数设置 -\n                                站点信息 - 站点URL 中填写的 地址与实际相符，并且\n                                <strong>能够被外网正常访问</strong>。\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                前往\n                                <Link\n                                    href={\n                                        \"https://console.upyun.com/services/create/file/\"\n                                    }\n                                    target={\"_blank\"}\n                                >\n                                    又拍云面板\n                                </Link>\n                                创建云存储服务。\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在下方填写所创建的服务名称：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        服务名称\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                为此服务创建或授权有读取、写入、删除权限的操作员，然后将操作员信息填写在下方：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        操作员名\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.AccessKey}\n                                        onChange={handleChange(\"AccessKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        操作员密码\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                填写为云存储服务绑定的域名，并根据实际情况选择是否使用\n                                HTTPS：\n                            </Typography>\n                            <div className={classes.form}>\n                                <DomainInput\n                                    value={policy.BaseURL}\n                                    onChange={handleChange(\"BaseURL\")}\n                                    required\n                                    label={\"加速域名\"}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                此步骤可保持默认并跳过，但是强烈建议您跟随此步骤操作。\n                                <br />\n                                前往所创建云存储服务的 功能配置 面板，转到\n                                访问配置 选项卡，开启 Token 防盗链并设定密码。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsPrivate}\n                                        onChange={handleChange(\"IsPrivate\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"已开启 Token 防盗链\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"未开启 Token 防盗链\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.IsPrivate === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>6</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    填写您所设置的 Token 防盗链 密钥\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            Token 防盗链 密钥\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized.token\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"token\"\n                                            )}\n                                            required={\n                                                policy.IsPrivate === \"true\"\n                                            }\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                请在下方输入文件的存储目录路径，可以为绝对路径或相对路径（相对于\n                                从机的\n                                Cloudreve）。路径中可以使用魔法变量，文件在上传时会自动替换这些变量为相应值；\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"path\");\n                                    }}\n                                >\n                                    路径魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储目录\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否需要对存储的物理文件进行重命名？此处的重命名不会影响最终呈现给用户的\n                                文件名。文件名也可使用魔法变量，\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        setMagicVar(\"file\");\n                                    }}\n                                >\n                                    文件名魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"开启重命名\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不开启\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            命名规则\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            上一步\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否允许获取文件永久直链？\n                                <br />\n                                开启后，用户可以请求获得能直接访问到文件内容的直链，适用于图床应用或自用。\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={e => {\n                                            if (\n                                                policy.IsPrivate === \"true\" &&\n                                                e.target.value === \"true\"\n                                            ) {\n                                                ToggleSnackbar(\n                                                    \"top\",\n                                                    \"right\",\n                                                    \"开启 Token 防盗链后无法使用直链功能\",\n                                                    \"warning\"\n                                                );\n                                                return;\n                                            }\n                                            handleChange(\"IsOriginLinkEnable\")(\n                                                e\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"允许\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"禁止\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(4);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传的单文件大小？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\"\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\"\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入限制：\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={\"单文件大小限制\"}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传文件扩展名？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\"\n                                                    }\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\"\n                                                    }\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入允许上传的文件扩展名，多个请以半角逗号 ,\n                                    隔开\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            扩展名列表\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}></div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                最后一步，为此存储策略命名：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储策略名\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(3)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            完成\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            存储策略已{props.policy ? \"保存\" : \"添加\"}！\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            要使用此存储策略，请到用户组管理页面，为相应用户组绑定此存储策略。\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            返回存储策略列表\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport React, { useCallback, useState } from \"react\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Step from \"@material-ui/core/Step\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../../actions\";\nimport Link from \"@material-ui/core/Link\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Button from \"@material-ui/core/Button\";\nimport API from \"../../../../middleware/Api\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport { useHistory } from \"react-router\";\nimport { getNumber } from \"../../../../utils\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport AlertDialog from \"../../Dialogs/Alert\";\n\nconst useStyles = makeStyles(theme => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\"\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default\n        }\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\"\n    },\n    stepNumberContainer: {\n        marginRight: 10\n    },\n    stepFooter: {\n        marginTop: 32\n    },\n    button: {\n        marginRight: theme.spacing(1)\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\"\n        },\n        pre: {\n            margin: \"24px 0\",\n            padding: \"12px 18px\",\n            overflow: \"auto\",\n            direction: \"ltr\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#272c34\",\n            color: \"#fff\"\n        }\n    }\n}));\n\nconst steps = [\n    {\n        title: \"存储空间\",\n        optional: false\n    },\n    {\n        title: \"上传路径\",\n        optional: false\n    },\n    {\n        title: \"直链设置\",\n        optional: false\n    },\n    {\n        title: \"上传限制\",\n        optional: false\n    },\n    {\n        title: \"跨域策略\",\n        optional: true\n    },\n    {\n        title: \"完成\",\n        optional: false\n    }\n];\n\nconst regions = {\n    \"us-east-2\": \"US East (Ohio)\",\n    \"us-east-1\": \"US East (N. Virginia)\",\n    \"us-west-1\": \"US West (N. California)\",\n    \"us-west-2\": \"US West (Oregon)\",\n    \"af-south-1\": \"Africa (Cape Town)\",\n    \"ap-east-1\": \"Asia Pacific (Hong Kong)\",\n    \"ap-south-1\": \"Asia Pacific (Mumbai)\",\n    \"ap-northeast-3\": \"Asia Pacific (Osaka-Local)\",\n    \"ap-northeast-2\": \"Asia Pacific (Seoul)\",\n    \"ap-southeast-1\": \"Asia Pacific (Singapore)\",\n    \"ap-southeast-2\": \"Asia Pacific (Sydney)\",\n    \"ap-northeast-1\": \"Asia Pacific (Tokyo)\",\n    \"ca-central-1\": \"Canada (Central)\",\n    \"cn-north-1\": \"China (Beijing)\",\n    \"cn-northwest-1\": \"China (Ningxia)\",\n    \"eu-central-1\": \"Europe (Frankfurt)\",\n    \"eu-west-1\": \"Europe (Ireland)\",\n    \"eu-west-2\": \"Europe (London)\",\n    \"eu-south-1\": \"Europe (Milan)\",\n    \"eu-west-3\": \"Europe (Paris)\",\n    \"eu-north-1\": \"Europe (Stockholm)\",\n    \"me-south-1\": \"Middle East (Bahrain)\",\n    \"sa-east-1\": \"South America (São Paulo)\"\n};\n\nexport default function S3Guide(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [alertOpen, setAlertOpen] = useState(true);\n    const [skipped, setSkipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\"false\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"s3\",\n                  Name: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  Server: \"\",\n                  IsPrivate: \"true\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      region: \"us-east-2\"\n                  }\n              }\n    );\n    const [policyID, setPolicyID] = useState(\n        props.policy ? props.policy.ID : 0\n    );\n\n    const handleChange = name => event => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value\n        });\n    };\n\n    const handleOptionChange = name => event => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value\n            }\n        });\n    };\n\n    const isStepSkipped = step => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = e => {\n        e.preventDefault();\n        setLoading(true);\n\n        const policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        if (useCDN === \"false\") {\n            policyCopy.BaseURL = \"\";\n        }\n\n        // 类型转换\n        policyCopy.AutoRename = policyCopy.AutoRename === \"true\";\n        policyCopy.IsOriginLinkEnable =\n            policyCopy.IsOriginLinkEnable === \"true\";\n        policyCopy.IsPrivate = policyCopy.IsPrivate === \"true\";\n        policyCopy.MaxSize = parseInt(policyCopy.MaxSize);\n        policyCopy.OptionsSerialized.file_type = policyCopy.OptionsSerialized.file_type.split(\n            \",\"\n        );\n        if (\n            policyCopy.OptionsSerialized.file_type.length === 1 &&\n            policyCopy.OptionsSerialized.file_type[0] === \"\"\n        ) {\n            policyCopy.OptionsSerialized.file_type = [];\n        }\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy\n        })\n            .then(response => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"存储策略已\" + (props.policy ? \"保存\" : \"添加\"),\n                    \"success\"\n                );\n                setActiveStep(4);\n                setPolicyID(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    const createCORS = () => {\n        setLoading(true);\n        API.post(\"/admin/policy/cors\", {\n            id: policyID\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", \"跨域策略已添加\", \"success\");\n                setActiveStep(5);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <AlertDialog\n                open={alertOpen}\n                onClose={() => setAlertOpen(false)}\n                title={\"警告\"}\n                msg={\n                    \"S3 类型存储策略目前仅可用于自己使用，或者是给受信任的用户组使用。\"\n                }\n            />\n            <Typography variant={\"h6\"}>\n                {props.policy ? \"修改\" : \"添加\"} Amazon S3 存储策略\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">可选</Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>{label.title}</StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>0</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                Cloudreve 主站需要启用 CORS 支持，具体步骤如下：\n                                <br />\n                                修改 Cloudreve 配置文件，新增以下 CORS\n                                配置项，保存并重启 Cloudreve。\n                                <pre>\n                                    [CORS]\n                                    <br />\n                                    AllowOrigins = *<br />\n                                    AllowMethods = OPTIONS,GET,POST\n                                    <br />\n                                    AllowHeaders = *<br />\n                                </pre>\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                前往 AWS S3\n                                控制台创建存储桶，在下方填写您创建存储桶时指定的\n                                <code>存储桶名称</code>：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储桶名称\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                在下方选择您创建的空间的公共访问权限类型，推荐选择“私有”以获得更高的安全性，私有空间无法开启“获取直链”功能。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsPrivate}\n                                        onChange={handleChange(\"IsPrivate\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"阻止全部公共访问权限\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"允许公共读取\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                (可选) 指定存储桶的 EndPoint（地域节点），\n                                填写为完整的 URL 格式，比如{\" \"}\n                                <code>https://bucket.region.example.com</code>。\n                                留空则将使用系统生成的默认接入点。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        EndPoint\n                                    </InputLabel>\n                                    <Input\n                                        value={policy.Server}\n                                        onChange={handleChange(\"Server\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                选择存储桶所在的区域，或者手动输入区域代码\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <Autocomplete\n                                        options={Object.keys(regions)}\n                                        freeSolo\n                                        value={policy.OptionsSerialized.region}\n                                        onInputChange={(_, value) =>\n                                            handleOptionChange(\"region\")({\n                                                target: { value: value }\n                                            })\n                                        }\n                                        renderOption={option => (\n                                            <React.Fragment>\n                                                {regions[option]}\n                                            </React.Fragment>\n                                        )}\n                                        renderInput={params => (\n                                            <TextField\n                                                style={{ width: \"100%\" }}\n                                                {...params}\n                                            />\n                                        )}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否要使用 CDN 加速访问？\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={useCDN}\n                                        onChange={e => {\n                                            setUseCDN(e.target.value);\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"使用\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不使用\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={useCDN === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>6</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    CDN 加速域名\n                                </Typography>\n                                <div className={classes.form}>\n                                    <DomainInput\n                                        value={policy.BaseURL}\n                                        onChange={handleChange(\"BaseURL\")}\n                                        required={useCDN === \"true\"}\n                                        label={\"CDN 加速域名\"}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(6, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                获取访问密钥，并填写在下方。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        AccessKey\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: \"不能含有空格\"\n                                        }}\n                                        value={policy.AccessKey}\n                                        onChange={handleChange(\"AccessKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        SecretKey\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: \"不能含有空格\"\n                                        }}\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(7, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                为此存储策略命名：\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储策略名\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                请在下方输入文件的存储目录路径，可以为绝对路径或相对路径（相对于\n                                从机的\n                                Cloudreve）。路径中可以使用魔法变量，文件在上传时会自动替换这些变量为相应值；\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    href={\"javascript:void()\"}\n                                    onClick={() => setMagicVar(\"path\")}\n                                >\n                                    路径魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        存储目录\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否需要对存储的物理文件进行重命名？此处的重命名不会影响最终呈现给用户的\n                                文件名。文件名也可使用魔法变量，\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    href={\"javascript:void()\"}\n                                    onClick={() => setMagicVar(\"file\")}\n                                >\n                                    文件名魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"开启重命名\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不开启\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            命名规则\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            上一步\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={e => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否允许获取文件永久直链？\n                                <br />\n                                开启后，用户可以请求获得能直接访问到文件内容的直链，适用于图床应用或自用。\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={e => {\n                                            if (\n                                                policy.IsPrivate === \"true\" &&\n                                                e.target.value === \"true\"\n                                            ) {\n                                                ToggleSnackbar(\n                                                    \"top\",\n                                                    \"right\",\n                                                    \"私有空间无法开启此功能\",\n                                                    \"warning\"\n                                                );\n                                                return;\n                                            }\n                                            handleChange(\"IsOriginLinkEnable\")(\n                                                e\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"允许\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"禁止\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传的单文件大小？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\"\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\"\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入限制：\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={\"单文件大小限制\"}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否限制上传文件扩展名？\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={e => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\"\n                                                    }\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\"\n                                                    }\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"限制\"\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label=\"不限制\"\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    输入允许上传的文件扩展名，多个请以半角逗号 ,\n                                    隔开\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            扩展名列表\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            上一步\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            下一步\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                S3 Bucket 需要正确配置跨域策略后才能使用 Web\n                                端上传文件，Cloudreve\n                                可以帮您自动设置，您也可以参考文档步骤手动设置。如果您已设置过此\n                                Bucket 的跨域策略，此步骤可以跳过。\n                            </Typography>\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    color={\"secondary\"}\n                                    variant={\"contained\"}\n                                    className={classes.button}\n                                    onClick={() => createCORS()}\n                                    classes={{ label: classes.viewButtonLabel }}\n                                >\n                                    让 Cloudreve 帮我设置\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => {\n                                setActiveStep(\n                                    prevActiveStep => prevActiveStep + 1\n                                );\n                                setSkipped(prevSkipped => {\n                                    const newSkipped = new Set(\n                                        prevSkipped.values()\n                                    );\n                                    newSkipped.add(activeStep);\n                                    return newSkipped;\n                                });\n                            }}\n                        >\n                            跳过\n                        </Button>{\" \"}\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            存储策略已{props.policy ? \"保存\" : \"添加\"}！\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            要使用此存储策略，请到用户组管理页面，为相应用户组绑定此存储策略。\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            返回存储策略列表\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport { useParams } from \"react-router\";\nimport COSGuide from \"./Guid/COSGuide\";\nimport LocalGuide from \"./Guid/LocalGuide\";\nimport OneDriveGuide from \"./Guid/OneDriveGuide\";\nimport OSSGuide from \"./Guid/OSSGuide\";\nimport QiniuGuide from \"./Guid/QiniuGuide\";\nimport RemoteGuide from \"./Guid/RemoteGuide\";\nimport UpyunGuide from \"./Guid/UpyunGuide\";\nimport S3Guide from \"./Guid/S3Guide\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    content: {\n        padding: theme.spacing(2)\n    }\n}));\n\nexport default function AddPolicyParent() {\n    const classes = useStyles();\n\n    const { type } = useParams();\n\n    return (\n        <div>\n            <Paper square className={classes.content}>\n                {type === \"local\" && <LocalGuide />}\n                {type === \"remote\" && <RemoteGuide />}\n                {type === \"qiniu\" && <QiniuGuide />}\n                {type === \"oss\" && <OSSGuide />}\n                {type === \"upyun\" && <UpyunGuide />}\n                {type === \"cos\" && <COSGuide />}\n                {type === \"onedrive\" && <OneDriveGuide />}\n                {type === \"s3\" && <S3Guide />}\n            </Paper>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../../actions\";\nimport API from \"../../../../middleware/Api\";\n\nexport default function EditPro(props) {\n    const [, setLoading] = useState(false);\n    const [policy, setPolicy] = useState(props.policy);\n\n    const handleChange = name => event => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value\n        });\n    };\n\n    const handleOptionChange = name => event => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value\n            }\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = e => {\n        e.preventDefault();\n        setLoading(true);\n\n        const policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // 类型转换\n        policyCopy.AutoRename = policyCopy.AutoRename === \"true\";\n        policyCopy.IsPrivate = policyCopy.IsPrivate === \"true\";\n        policyCopy.IsOriginLinkEnable =\n            policyCopy.IsOriginLinkEnable === \"true\";\n        policyCopy.MaxSize = parseInt(policyCopy.MaxSize);\n        policyCopy.OptionsSerialized.file_type = policyCopy.OptionsSerialized.file_type.split(\n            \",\"\n        );\n        if (\n            policyCopy.OptionsSerialized.file_type.length === 1 &&\n            policyCopy.OptionsSerialized.file_type[0] === \"\"\n        ) {\n            policyCopy.OptionsSerialized.file_type = [];\n        }\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"存储策略已\" + (props.policy ? \"保存\" : \"添加\"),\n                    \"success\"\n                );\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>编辑存储策略</Typography>\n            <TableContainer>\n                <form onSubmit={submitPolicy}>\n                    <Table aria-label=\"simple table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>设置项</TableCell>\n                                <TableCell>值</TableCell>\n                                <TableCell>描述</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    ID\n                                </TableCell>\n                                <TableCell>{policy.ID}</TableCell>\n                                <TableCell>存储策略编号</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    类型\n                                </TableCell>\n                                <TableCell>{policy.Type}</TableCell>\n                                <TableCell>存储策略类型</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    名称\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            required\n                                            value={policy.Name}\n                                            onChange={handleChange(\"Name\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>存储策名称</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    Server\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            value={policy.Server}\n                                            onChange={handleChange(\"Server\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>存储端 Endpoint</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    BucketName\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            value={policy.BucketName}\n                                            onChange={handleChange(\n                                                \"BucketName\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>存储桶标识</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    私有空间\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <RadioGroup\n                                            required\n                                            value={policy.IsPrivate}\n                                            onChange={handleChange(\"IsPrivate\")}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label=\"是\"\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label=\"否\"\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>是否为私有空间</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    文件资源根URL\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            value={policy.BaseURL}\n                                            onChange={handleChange(\"BaseURL\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>\n                                    预览/获取文件外链时生成URL的前缀\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    AccessKey\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            rowsMax={10}\n                                            value={policy.AccessKey}\n                                            onChange={handleChange(\"AccessKey\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>AccessKey / 刷新Token</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    SecretKey\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            rowsMax={10}\n                                            value={policy.SecretKey}\n                                            onChange={handleChange(\"SecretKey\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>SecretKey</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    最大单文件尺寸 (Bytes)\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            type={\"number\"}\n                                            inputProps={{\n                                                min: 0,\n                                                step: 1\n                                            }}\n                                            value={policy.MaxSize}\n                                            onChange={handleChange(\"MaxSize\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>\n                                    最大可上传的文件尺寸，填写为0表示不限制\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    自动重命名\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <RadioGroup\n                                            required\n                                            value={policy.AutoRename}\n                                            onChange={handleChange(\n                                                \"AutoRename\"\n                                            )}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label=\"是\"\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label=\"否\"\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>\n                                    是否根据规则对上传物理文件重命名\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    存储路径\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={policy.DirNameRule}\n                                            onChange={handleChange(\n                                                \"DirNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>文件物理存储路径</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    存储文件名\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>文件物理存储文件名</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    允许获取外链\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <RadioGroup\n                                            required\n                                            value={policy.IsOriginLinkEnable}\n                                            onChange={handleChange(\n                                                \"IsOriginLinkEnable\"\n                                            )}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label=\"是\"\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label=\"否\"\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>\n                                    是否允许获取外链。注意，某些存储策略类型不支持，即使在此开启，获取的外链也无法使用。\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    又拍云防盗链 Token\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized.token\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"token\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>仅对又拍云存储策略有效</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    允许文件扩展名\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>留空表示不限制</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    允许的 MimeType\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .mimetype\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"mimetype\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>仅对七牛存储策略有效</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    OneDrive 重定向地址\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .od_redirect\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"od_redirect\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>一般添加后无需修改</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    OneDrive 反代服务器地址\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .od_proxy\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"od_proxy\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>\n                                    仅对 OneDrive 存储策略有效\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    Amazon S3 Region\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized.region\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"region\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>\n                                    仅对 Amazon S3 存储策略有效\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    内网 EndPoint\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .server_side_endpoint\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"server_side_endpoint\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>仅对 OSS 存储策略有效</TableCell>\n                            </TableRow>\n                        </TableBody>\n                    </Table>\n                    <Button\n                        type={\"submit\"}\n                        color={\"primary\"}\n                        variant={\"contained\"}\n                        style={{ margin: 8 }}\n                    >\n                        保存更改\n                    </Button>\n                </form>\n            </TableContainer>\n        </div>\n    );\n}\n","import Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport COSGuide from \"./Guid/COSGuide\";\nimport EditPro from \"./Guid/EditPro\";\nimport LocalGuide from \"./Guid/LocalGuide\";\nimport OneDriveGuide from \"./Guid/OneDriveGuide\";\nimport OSSGuide from \"./Guid/OSSGuide\";\nimport QiniuGuide from \"./Guid/QiniuGuide\";\nimport RemoteGuide from \"./Guid/RemoteGuide\";\nimport UpyunGuide from \"./Guid/UpyunGuide\";\nimport S3Guide from \"./Guid/S3Guide\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    content: {\n        padding: theme.spacing(2)\n    }\n}));\n\nexport default function EditPolicyPreload() {\n    const classes = useStyles();\n    const [type, setType] = useState(\"\");\n    const [policy, setPolicy] = useState({});\n\n    const { mode, id } = useParams();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setType(\"\");\n        API.get(\"/admin/policy/\" + id)\n            .then(response => {\n                response.data.IsOriginLinkEnable = response.data\n                    .IsOriginLinkEnable\n                    ? \"true\"\n                    : \"false\";\n                response.data.AutoRename = response.data.AutoRename\n                    ? \"true\"\n                    : \"false\";\n                response.data.MaxSize = response.data.MaxSize.toString();\n                response.data.IsPrivate = response.data.IsPrivate\n                    ? \"true\"\n                    : \"false\";\n                response.data.OptionsSerialized.file_type = response.data\n                    .OptionsSerialized.file_type\n                    ? response.data.OptionsSerialized.file_type.join(\",\")\n                    : \"\";\n                setPolicy(response.data);\n                setType(response.data.Type);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, [id]);\n\n    return (\n        <div>\n            <Paper square className={classes.content}>\n                {mode === \"guide\" && (\n                    <>\n                        {type === \"local\" && <LocalGuide policy={policy} />}\n                        {type === \"remote\" && <RemoteGuide policy={policy} />}\n                        {type === \"qiniu\" && <QiniuGuide policy={policy} />}\n                        {type === \"oss\" && <OSSGuide policy={policy} />}\n                        {type === \"upyun\" && <UpyunGuide policy={policy} />}\n                        {type === \"cos\" && <COSGuide policy={policy} />}\n                        {type === \"onedrive\" && (\n                            <OneDriveGuide policy={policy} />\n                        )}\n                        {type === \"s3\" && <S3Guide policy={policy} />}\n                    </>\n                )}\n\n                {mode === \"pro\" && type !== \"\" && <EditPro policy={policy} />}\n            </Paper>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { Delete, Edit } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport { sizeToString } from \"../../../utils\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    content: {\n        padding: theme.spacing(2)\n    },\n    container: {\n        overflowX: \"auto\"\n    },\n    tableContainer: {\n        marginTop: 16\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    },\n    headerRight: {}\n}));\n\nconst columns = [\n    { id: \"#\", label: \"#\", minWidth: 50 },\n    { id: \"name\", label: \"名称\", minWidth: 170 },\n    { id: \"type\", label: \"存储策略\", minWidth: 170 },\n    {\n        id: \"count\",\n        label: \"下属用户数\",\n        minWidth: 50,\n        align: \"right\"\n    },\n    {\n        id: \"size\",\n        label: \"最大容量\",\n        minWidth: 100,\n        align: \"right\"\n    },\n    {\n        id: \"action\",\n        label: \"操作\",\n        minWidth: 170,\n        align: \"right\"\n    }\n];\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function Group() {\n    const classes = useStyles();\n    const [groups, setGroups] = useState([]);\n    const [statics, setStatics] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [policies, setPolicies] = React.useState({});\n\n    const location = useLocation();\n    const history = useHistory();\n    const query = useQuery();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = () => {\n        API.post(\"/admin/group/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: \"id desc\"\n        })\n            .then(response => {\n                setGroups(response.data.items);\n                setStatics(response.data.statics);\n                setTotal(response.data.total);\n                setPolicies(response.data.policies);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        if (query.get(\"code\") === \"0\") {\n            ToggleSnackbar(\"top\", \"right\", \"授权成功\", \"success\");\n        } else if (query.get(\"msg\") && query.get(\"msg\") !== \"\") {\n            ToggleSnackbar(\n                \"top\",\n                \"right\",\n                query.get(\"msg\") + \", \" + query.get(\"err\"),\n                \"warning\"\n            );\n        }\n    }, [location]);\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize]);\n\n    const deletePolicy = id => {\n        API.delete(\"/admin/group/\" + id)\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", \"用户组已删除\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    return (\n        <div>\n            <div className={classes.header}>\n                <Button\n                    color={\"primary\"}\n                    onClick={() => history.push(\"/admin/group/add\")}\n                    variant={\"contained\"}\n                >\n                    新建用户组\n                </Button>\n                <div className={classes.headerRight}>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        刷新\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                {columns.map(column => (\n                                    <TableCell\n                                        key={column.id}\n                                        align={column.align}\n                                        style={{ minWidth: column.minWidth }}\n                                    >\n                                        {column.label}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {groups.map(row => (\n                                <TableRow hover key={row.ID}>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell>{row.Name}</TableCell>\n                                    <TableCell>\n                                        {row.PolicyList !== null &&\n                                            row.PolicyList.map((pid, key) => {\n                                                let res = \"\";\n                                                if (policies[pid]) {\n                                                    res += policies[pid].Name;\n                                                }\n                                                if (\n                                                    key !==\n                                                    row.PolicyList.length - 1\n                                                ) {\n                                                    res += \" / \";\n                                                }\n                                                return res;\n                                            })}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {statics[row.ID] !== undefined &&\n                                            statics[row.ID].toLocaleString()}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {statics[row.ID] !== undefined &&\n                                            sizeToString(row.MaxStorage)}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        <Tooltip title={\"删除\"}>\n                                            <IconButton\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                        <Tooltip title={\"编辑\"}>\n                                            <IconButton\n                                                onClick={() =>\n                                                    history.push(\n                                                        \"/admin/group/edit/\" +\n                                                            row.ID\n                                                    )\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Edit />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={e => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport SizeInput from \"../Common/SizeInput\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    }\n}));\n\n// function getStyles(name, personName, theme) {\n//     return {\n//         fontWeight:\n//             personName.indexOf(name) === -1\n//                 ? theme.typography.fontWeightRegular\n//                 : theme.typography.fontWeightMedium\n//     };\n// }\n\nexport default function GroupForm(props) {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [group, setGroup] = useState(\n        props.group\n            ? props.group\n            : {\n                  ID: 0,\n                  Name: \"\",\n                  MaxStorage: \"1073741824\", // 转换类型\n                  ShareEnabled: \"true\", // 转换类型\n                  WebDAVEnabled: \"true\", // 转换类型\n                  SpeedLimit: \"0\", // 转换类型\n                  PolicyList: 1, // 转换类型,至少选择一个\n                  OptionsSerialized: {\n                      // 批量转换类型\n                      share_download: \"true\",\n                      aria2_options: \"{}\", // json decode\n                      compress_size: \"0\",\n                      decompress_size: \"0\"\n                  }\n              }\n    );\n    const [policies, setPolicies] = useState({});\n\n    const history = useHistory();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/policy/list\", {\n            page: 1,\n            page_size: 10000,\n            order_by: \"id asc\",\n            conditions: {}\n        })\n            .then(response => {\n                const res = {};\n                response.data.items.forEach(v => {\n                    res[v.ID] = v.Name;\n                });\n                setPolicies(res);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    const handleChange = name => event => {\n        setGroup({\n            ...group,\n            [name]: event.target.value\n        });\n    };\n\n    const handleCheckChange = name => event => {\n        const value = event.target.checked ? \"true\" : \"false\";\n        setGroup({\n            ...group,\n            [name]: value\n        });\n    };\n\n    const handleOptionCheckChange = name => event => {\n        const value = event.target.checked ? \"true\" : \"false\";\n        setGroup({\n            ...group,\n            OptionsSerialized: {\n                ...group.OptionsSerialized,\n                [name]: value\n            }\n        });\n    };\n\n    const handleOptionChange = name => event => {\n        setGroup({\n            ...group,\n            OptionsSerialized: {\n                ...group.OptionsSerialized,\n                [name]: event.target.value\n            }\n        });\n    };\n\n    const submit = e => {\n        e.preventDefault();\n        const groupCopy = {\n            ...group,\n            OptionsSerialized: { ...group.OptionsSerialized }\n        };\n\n        // 布尔值转换\n        [\"ShareEnabled\", \"WebDAVEnabled\"].forEach(v => {\n            groupCopy[v] = groupCopy[v] === \"true\";\n        });\n        [\n            \"archive_download\",\n            \"archive_task\",\n            \"one_time_download\",\n            \"share_download\",\n            \"aria2\"\n        ].forEach(v => {\n            if (groupCopy.OptionsSerialized[v] !== undefined) {\n                groupCopy.OptionsSerialized[v] =\n                    groupCopy.OptionsSerialized[v] === \"true\";\n            }\n        });\n\n        // 整型转换\n        [\"MaxStorage\", \"SpeedLimit\"].forEach(v => {\n            groupCopy[v] = parseInt(groupCopy[v]);\n        });\n        [\"compress_size\", \"decompress_size\"].forEach(v => {\n            if (groupCopy.OptionsSerialized[v] !== undefined) {\n                groupCopy.OptionsSerialized[v] = parseInt(\n                    groupCopy.OptionsSerialized[v]\n                );\n            }\n        });\n        groupCopy.PolicyList = [parseInt(groupCopy.PolicyList)];\n        // JSON转换\n        try {\n            groupCopy.OptionsSerialized.aria2_options = JSON.parse(\n                groupCopy.OptionsSerialized.aria2_options\n            );\n        } catch (e) {\n            ToggleSnackbar(\"top\", \"right\", \"Aria2 设置项格式错误\", \"warning\");\n            return;\n        }\n\n        setLoading(true);\n        API.post(\"/admin/group\", {\n            group: groupCopy\n        })\n            .then(() => {\n                history.push(\"/admin/group\");\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"用户组已\" + (props.group ? \"保存\" : \"添加\"),\n                    \"success\"\n                );\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {group.ID === 0 && \"新建用户组\"}\n                        {group.ID !== 0 && \"编辑 \" + group.Name}\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        {group.ID !== 3 && (\n                            <>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            用户组名\n                                        </InputLabel>\n                                        <Input\n                                            value={group.Name}\n                                            onChange={handleChange(\"Name\")}\n                                            required\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            用户组的名称\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            存储策略\n                                        </InputLabel>\n                                        <Select\n                                            labelId=\"demo-mutiple-chip-label\"\n                                            id=\"demo-mutiple-chip\"\n                                            value={group.PolicyList}\n                                            onChange={handleChange(\n                                                \"PolicyList\"\n                                            )}\n                                            input={\n                                                <Input id=\"select-multiple-chip\" />\n                                            }\n                                        >\n                                            {Object.keys(policies).map(pid => (\n                                                <MenuItem key={pid} value={pid}>\n                                                    {policies[pid]}\n                                                </MenuItem>\n                                            ))}\n                                        </Select>\n                                        <FormHelperText id=\"component-helper-text\">\n                                            指定用户组的存储策略。\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <SizeInput\n                                            value={group.MaxStorage}\n                                            onChange={handleChange(\n                                                \"MaxStorage\"\n                                            )}\n                                            min={0}\n                                            max={9223372036854775807}\n                                            label={\"初始容量\"}\n                                            required\n                                        />\n                                    </FormControl>\n                                    <FormHelperText id=\"component-helper-text\">\n                                        用户组下的用户初始可用最大容量\n                                    </FormHelperText>\n                                </div>\n                            </>\n                        )}\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <SizeInput\n                                    value={group.SpeedLimit}\n                                    onChange={handleChange(\"SpeedLimit\")}\n                                    min={0}\n                                    max={9223372036854775807}\n                                    label={\"下载限速\"}\n                                    suffix={\"/s\"}\n                                    required\n                                />\n                            </FormControl>\n                            <FormHelperText id=\"component-helper-text\">\n                                填写为 0 表示不限制。开启限制后，\n                                此用户组下的用户下载所有支持限速的存储策略下的文件时，下载最大速度会被限制。\n                            </FormHelperText>\n                        </div>\n\n                        {group.ID !== 3 && (\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={\n                                                    group.ShareEnabled ===\n                                                    \"true\"\n                                                }\n                                                onChange={handleCheckChange(\n                                                    \"ShareEnabled\"\n                                                )}\n                                            />\n                                        }\n                                        label=\"允许创建分享\"\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        关闭后，用户无法创建分享链接\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        )}\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                group.OptionsSerialized\n                                                    .share_download === \"true\"\n                                            }\n                                            onChange={handleOptionCheckChange(\n                                                \"share_download\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"允许下载分享\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    关闭后，用户无法下载别人创建的文件分享\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        {group.ID !== 3 && (\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={\n                                                    group.WebDAVEnabled ===\n                                                    \"true\"\n                                                }\n                                                onChange={handleCheckChange(\n                                                    \"WebDAVEnabled\"\n                                                )}\n                                            />\n                                        }\n                                        label=\"WebDAV\"\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        关闭后，用户无法通过 WebDAV\n                                        协议连接至网盘\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        )}\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                group.OptionsSerialized\n                                                    .one_time_download ===\n                                                \"true\"\n                                            }\n                                            onChange={handleOptionCheckChange(\n                                                \"one_time_download\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"禁止多次下载请求\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    只针对本机存储策略有效。开启后，用户无法使用多线程下载工具。\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        {group.ID !== 3 && (\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={\n                                                    group.OptionsSerialized\n                                                        .aria2 === \"true\"\n                                                }\n                                                onChange={handleOptionCheckChange(\n                                                    \"aria2\"\n                                                )}\n                                            />\n                                        }\n                                        label=\"离线下载\"\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        是否允许用户创建离线下载任务\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        )}\n\n                        <Collapse in={group.OptionsSerialized.aria2 === \"true\"}>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        Aria2 任务参数\n                                    </InputLabel>\n                                    <Input\n                                        multiline\n                                        value={\n                                            group.OptionsSerialized\n                                                .aria2_options\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"aria2_options\"\n                                        )}\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        此用户组创建离线下载任务时额外携带的参数，以\n                                        JSON\n                                        编码后的格式书写，您可也可以将这些设置写在\n                                        Aria2 配置文件里，可用参数请查阅官方文档\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        </Collapse>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                group.OptionsSerialized\n                                                    .archive_download === \"true\"\n                                            }\n                                            onChange={handleOptionCheckChange(\n                                                \"archive_download\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"打包下载\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    是否允许用户多选文件打包下载\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        {group.ID !== 3 && (\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={\n                                                    group.OptionsSerialized\n                                                        .archive_task === \"true\"\n                                                }\n                                                onChange={handleOptionCheckChange(\n                                                    \"archive_task\"\n                                                )}\n                                            />\n                                        }\n                                        label=\"压缩/解压缩 任务\"\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        是否用户创建 压缩/解压缩 任务\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        )}\n\n                        <Collapse\n                            in={group.OptionsSerialized.archive_task === \"true\"}\n                        >\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <SizeInput\n                                        value={\n                                            group.OptionsSerialized\n                                                .compress_size\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"compress_size\"\n                                        )}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={\"待压缩文件最大大小\"}\n                                    />\n                                </FormControl>\n                                <FormHelperText id=\"component-helper-text\">\n                                    用户可创建的压缩任务的文件最大总大小，填写为\n                                    0 表示不限制\n                                </FormHelperText>\n                            </div>\n\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <SizeInput\n                                        value={\n                                            group.OptionsSerialized\n                                                .decompress_size\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"decompress_size\"\n                                        )}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={\"待解压文件最大大小\"}\n                                    />\n                                </FormControl>\n                                <FormHelperText id=\"component-helper-text\">\n                                    用户可创建的解压缩任务的文件最大总大小，填写为\n                                    0 表示不限制\n                                </FormHelperText>\n                            </div>\n                        </Collapse>\n                    </div>\n                </div>\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        保存\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport API from \"../../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport GroupForm from \"./GroupForm\";\n\nexport default function EditGroupPreload() {\n    const [group, setGroup] = useState({});\n\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setGroup({});\n        API.get(\"/admin/group/\" + id)\n            .then(response => {\n                // 布尔值转换\n                [\"ShareEnabled\", \"WebDAVEnabled\"].forEach(v => {\n                    response.data[v] = response.data[v] ? \"true\" : \"false\";\n                });\n                [\n                    \"archive_download\",\n                    \"archive_task\",\n                    \"one_time_download\",\n                    \"share_download\",\n                    \"aria2\"\n                ].forEach(v => {\n                    if (response.data.OptionsSerialized[v] !== undefined) {\n                        response.data.OptionsSerialized[v] = response.data\n                            .OptionsSerialized[v]\n                            ? \"true\"\n                            : \"false\";\n                    }\n                });\n\n                // 整型转换\n                [\"MaxStorage\", \"SpeedLimit\"].forEach(v => {\n                    response.data[v] = response.data[v].toString();\n                });\n                [\"compress_size\", \"decompress_size\"].forEach(v => {\n                    if (response.data.OptionsSerialized[v] !== undefined) {\n                        response.data.OptionsSerialized[\n                            v\n                        ] = response.data.OptionsSerialized[v].toString();\n                    }\n                });\n                response.data.PolicyList = response.data.PolicyList[0];\n\n                // JSON转换\n                if (\n                    response.data.OptionsSerialized.aria2_options === undefined\n                ) {\n                    response.data.OptionsSerialized.aria2_options = \"{}\";\n                } else {\n                    try {\n                        response.data.OptionsSerialized.aria2_options = JSON.stringify(\n                            response.data.OptionsSerialized.aria2_options\n                        );\n                    } catch (e) {\n                        ToggleSnackbar(\n                            \"top\",\n                            \"right\",\n                            \"Aria2 设置项格式错误\",\n                            \"warning\"\n                        );\n                        return;\n                    }\n                }\n                setGroup(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, [id]);\n\n    return <div>{group.ID !== undefined && <GroupForm group={group} />}</div>;\n}\n","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\n\nexport default function UserFilter({ setFilter, setSearch, open, onClose }) {\n    const [input, setInput] = useState({\n        group_id: \"all\",\n        status: \"all\"\n    });\n    const [groups, setGroups] = useState([]);\n    const [keywords, setKeywords] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleChange = name => event => {\n        setInput({ ...input, [name]: event.target.value });\n    };\n\n    useEffect(() => {\n        API.get(\"/admin/groups\")\n            .then(response => {\n                setGroups(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    const submit = () => {\n        const res = {};\n        Object.keys(input).forEach(v => {\n            if (input[v] !== \"all\") {\n                res[v] = input[v];\n            }\n        });\n        setFilter(res);\n        if (keywords !== \"\") {\n            setSearch({\n                nick: keywords,\n                email: keywords\n            });\n        } else {\n            setSearch({});\n        }\n        onClose();\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            fullWidth\n            maxWidth={\"xs\"}\n        >\n            <DialogTitle id=\"alert-dialog-title\">过滤条件</DialogTitle>\n            <DialogContent>\n                <FormControl fullWidth>\n                    <InputLabel id=\"demo-simple-select-label\">\n                        用户组\n                    </InputLabel>\n                    <Select\n                        labelId=\"demo-simple-select-label\"\n                        id=\"demo-simple-select\"\n                        value={input.group_id}\n                        onChange={handleChange(\"group_id\")}\n                    >\n                        <MenuItem value={\"all\"}>全部</MenuItem>\n                        {groups.map(v => {\n                            if (v.ID === 3) {\n                                return null;\n                            }\n                            return (\n                                <MenuItem key={v.ID} value={v.ID.toString()}>\n                                    {v.Name}\n                                </MenuItem>\n                            );\n                        })}\n                    </Select>\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <InputLabel id=\"demo-simple-select-label\">\n                        用户状态\n                    </InputLabel>\n                    <Select\n                        labelId=\"demo-simple-select-label\"\n                        id=\"demo-simple-select\"\n                        value={input.status}\n                        onChange={handleChange(\"status\")}\n                    >\n                        <MenuItem value={\"all\"}>全部</MenuItem>\n                        <MenuItem value={\"0\"}>正常</MenuItem>\n                        <MenuItem value={\"1\"}>未激活</MenuItem>\n                        <MenuItem value={\"2\"}>被封禁</MenuItem>\n                        <MenuItem value={\"3\"}>超额使用被封禁</MenuItem>\n                    </Select>\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <TextField\n                        value={keywords}\n                        onChange={e => setKeywords(e.target.value)}\n                        id=\"standard-basic\"\n                        label=\"搜索 昵称 / 用户名\"\n                    />\n                </FormControl>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"default\">\n                    取消\n                </Button>\n                <Button onClick={submit} color=\"primary\">\n                    应用\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import { lighten } from \"@material-ui/core\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Block, Delete, Edit, FilterList } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport { sizeToString } from \"../../../utils\";\nimport UserFilter from \"../Dialogs/UserFilter\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    content: {\n        padding: theme.spacing(2)\n    },\n    container: {\n        overflowX: \"auto\"\n    },\n    tableContainer: {\n        marginTop: 16\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    },\n    headerRight: {},\n    highlight:\n        theme.palette.type === \"light\"\n            ? {\n                  color: theme.palette.secondary.main,\n                  backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n              }\n            : {\n                  color: theme.palette.text.primary,\n                  backgroundColor: theme.palette.secondary.dark\n              },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1\n    }\n}));\n\nexport default function Group() {\n    const classes = useStyles();\n    const [users, setUsers] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [filter, setFilter] = useState({});\n    const [search, setSearch] = useState({});\n    const [orderBy, setOrderBy] = useState([\"id\", \"desc\"]);\n    const [filterDialog, setFilterDialog] = useState(false);\n    const [selected, setSelected] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const history = useHistory();\n    const theme = useTheme();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = () => {\n        API.post(\"/admin/user/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: orderBy.join(\" \"),\n            conditions: filter,\n            searches: search\n        })\n            .then(response => {\n                setUsers(response.data.items);\n                setTotal(response.data.total);\n                setSelected([]);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, orderBy, filter, search]);\n\n    const deletePolicy = id => {\n        setLoading(true);\n        API.post(\"/admin/user/delete\", { id: [id] })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", \"用户已删除\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const deleteBatch = () => {\n        setLoading(true);\n        API.post(\"/admin/user/delete\", { id: selected })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", \"用户已删除\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const block = id => {\n        setLoading(true);\n        API.patch(\"/admin/user/ban/\" + id)\n            .then(response => {\n                setUsers(\n                    users.map(v => {\n                        if (v.ID === id) {\n                            const newUser = { ...v, Status: response.data };\n                            return newUser;\n                        }\n                        return v;\n                    })\n                );\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleSelectAllClick = event => {\n        if (event.target.checked) {\n            const newSelecteds = users.map(n => n.ID);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const handleClick = (event, name) => {\n        const selectedIndex = selected.indexOf(name);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, name);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            );\n        }\n\n        setSelected(newSelected);\n    };\n\n    const isSelected = id => selected.indexOf(id) !== -1;\n\n    return (\n        <div>\n            <UserFilter\n                filter={filter}\n                open={filterDialog}\n                onClose={() => setFilterDialog(false)}\n                setSearch={setSearch}\n                setFilter={setFilter}\n            />\n            <div className={classes.header}>\n                <Button\n                    style={{ alignSelf: \"center\" }}\n                    color={\"primary\"}\n                    onClick={() => history.push(\"/admin/user/add\")}\n                    variant={\"contained\"}\n                >\n                    新建用户\n                </Button>\n                <div className={classes.headerRight}>\n                    <Tooltip title=\"过滤\">\n                        <IconButton\n                            style={{ marginRight: 8 }}\n                            onClick={() => setFilterDialog(true)}\n                        >\n                            <Badge\n                                color=\"secondary\"\n                                variant=\"dot\"\n                                invisible={\n                                    Object.keys(search).length === 0 &&\n                                    Object.keys(filter).length === 0\n                                }\n                            >\n                                <FilterList />\n                            </Badge>\n                        </IconButton>\n                    </Tooltip>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        刷新\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                {selected.length > 0 && (\n                    <Toolbar className={classes.highlight}>\n                        <Typography\n                            style={{ flex: \"1 1 100%\" }}\n                            color=\"inherit\"\n                            variant=\"subtitle1\"\n                        >\n                            已选择 {selected.length} 个对象\n                        </Typography>\n                        <Tooltip title=\"删除\">\n                            <IconButton\n                                onClick={deleteBatch}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <Delete />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                )}\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                <TableCell padding=\"checkbox\">\n                                    <Checkbox\n                                        indeterminate={\n                                            selected.length > 0 &&\n                                            selected.length < users.length\n                                        }\n                                        checked={\n                                            users.length > 0 &&\n                                            selected.length === users.length\n                                        }\n                                        onChange={handleSelectAllClick}\n                                        inputProps={{\n                                            \"aria-label\": \"select all desserts\"\n                                        }}\n                                    />\n                                </TableCell>\n                                <TableCell style={{ minWidth: 59 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"id\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"id\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        #\n                                        {orderBy[0] === \"id\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 120 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"nick\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"nick\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        昵称\n                                        {orderBy[0] === \"nick\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 170 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"email\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"email\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        Email\n                                        {orderBy[0] === \"email\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 70 }}>\n                                    用户组\n                                </TableCell>\n                                <TableCell style={{ minWidth: 50 }}>\n                                    状态\n                                </TableCell>\n                                <TableCell\n                                    align={\"right\"}\n                                    style={{ minWidth: 80 }}\n                                >\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"storage\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"storage\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        已用空间\n                                        {orderBy[0] === \"storage\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 100 }}>\n                                    操作\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {users.map(row => (\n                                <TableRow\n                                    hover\n                                    key={row.ID}\n                                    role=\"checkbox\"\n                                    selected={isSelected(row.ID)}\n                                >\n                                    <TableCell padding=\"checkbox\">\n                                        <Checkbox\n                                            onClick={event =>\n                                                handleClick(event, row.ID)\n                                            }\n                                            checked={isSelected(row.ID)}\n                                        />\n                                    </TableCell>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell>{row.Nick}</TableCell>\n                                    <TableCell>{row.Email}</TableCell>\n                                    <TableCell>\n                                        <Link\n                                            href={\n                                                \"/admin/group/edit/\" +\n                                                row.Group.ID\n                                            }\n                                        >\n                                            {row.Group.Name}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {row.Status === 0 && (\n                                            <Typography\n                                                style={{\n                                                    color:\n                                                        theme.palette.success\n                                                            .main\n                                                }}\n                                                variant={\"body2\"}\n                                            >\n                                                正常\n                                            </Typography>\n                                        )}\n                                        {row.Status === 1 && (\n                                            <Typography\n                                                color={\"textSecondary\"}\n                                                variant={\"body2\"}\n                                            >\n                                                未激活\n                                            </Typography>\n                                        )}\n                                        {row.Status === 2 && (\n                                            <Typography\n                                                color={\"error\"}\n                                                variant={\"body2\"}\n                                            >\n                                                被封禁\n                                            </Typography>\n                                        )}\n                                        {row.Status === 3 && (\n                                            <Typography\n                                                color={\"error\"}\n                                                variant={\"body2\"}\n                                            >\n                                                超额封禁\n                                            </Typography>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {sizeToString(row.Storage)}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Tooltip title={\"删除\"}>\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                        <Tooltip title={\"编辑\"}>\n                                            <IconButton\n                                                onClick={() =>\n                                                    history.push(\n                                                        \"/admin/user/edit/\" +\n                                                            row.ID\n                                                    )\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Edit />\n                                            </IconButton>\n                                        </Tooltip>\n                                        <Tooltip title={\"封禁/解封\"}>\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() => block(row.ID)}\n                                                size={\"small\"}\n                                            >\n                                                <Block />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={e => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    }\n}));\nexport default function UserForm(props) {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [user, setUser] = useState(\n        props.user\n            ? props.user\n            : {\n                  ID: 0,\n                  Email: \"\",\n                  Nick: \"\",\n                  Password: \"\", // 为空时只读\n                  Status: \"0\", // 转换类型\n                  GroupID: \"2\" // 转换类型\n              }\n    );\n    const [groups, setGroups] = useState([]);\n\n    const history = useHistory();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.get(\"/admin/groups\")\n            .then(response => {\n                setGroups(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    const handleChange = name => event => {\n        setUser({\n            ...user,\n            [name]: event.target.value\n        });\n    };\n\n    const submit = e => {\n        e.preventDefault();\n        const userCopy = { ...user };\n\n        // 整型转换\n        [\"Status\", \"GroupID\", \"Score\"].forEach(v => {\n            userCopy[v] = parseInt(userCopy[v]);\n        });\n\n        setLoading(true);\n        API.post(\"/admin/user\", {\n            user: userCopy,\n            password: userCopy.Password\n        })\n            .then(() => {\n                history.push(\"/admin/user\");\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"用户已\" + (props.user ? \"保存\" : \"添加\"),\n                    \"success\"\n                );\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {user.ID === 0 && \"创建用户\"}\n                        {user.ID !== 0 && \"编辑 \" + user.Nick}\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    邮箱\n                                </InputLabel>\n                                <Input\n                                    value={user.Email}\n                                    type={\"email\"}\n                                    onChange={handleChange(\"Email\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    昵称\n                                </InputLabel>\n                                <Input\n                                    value={user.Nick}\n                                    onChange={handleChange(\"Nick\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    密码\n                                </InputLabel>\n                                <Input\n                                    type={\"password\"}\n                                    value={user.Password}\n                                    onChange={handleChange(\"Password\")}\n                                    required={user.ID === 0}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {user.ID !== 0 && \"留空表示不修改\"}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    用户组\n                                </InputLabel>\n                                <Select\n                                    value={user.GroupID}\n                                    onChange={handleChange(\"GroupID\")}\n                                    required\n                                >\n                                    {groups.map(v => {\n                                        if (v.ID === 3) {\n                                            return null;\n                                        }\n                                        return (\n                                            <MenuItem\n                                                key={v.ID}\n                                                value={v.ID.toString()}\n                                            >\n                                                {v.Name}\n                                            </MenuItem>\n                                        );\n                                    })}\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    用户所属用户组\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    状态\n                                </InputLabel>\n                                <Select\n                                    value={user.Status}\n                                    onChange={handleChange(\"Status\")}\n                                    required\n                                >\n                                    <MenuItem value={\"0\"}>正常</MenuItem>\n                                    <MenuItem value={\"1\"}>未激活</MenuItem>\n                                    <MenuItem value={\"2\"}>被封禁</MenuItem>\n                                    <MenuItem value={\"3\"}>\n                                        超额使用被封禁\n                                    </MenuItem>\n                                </Select>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        保存\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport API from \"../../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport UserForm from \"./UserForm\";\n\nexport default function EditUserPreload() {\n    const [user, setUser] = useState({});\n\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setUser({});\n        API.get(\"/admin/user/\" + id)\n            .then(response => {\n                // 整型转换\n                [\"Status\", \"GroupID\"].forEach(v => {\n                    response.data[v] = response.data[v].toString();\n                });\n                setUser(response.data);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, [id]);\n\n    return <div>{user.ID !== undefined && <UserForm user={user} />}</div>;\n}\n","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\n\nexport default function FileFilter({ setFilter, setSearch, open, onClose }) {\n    const [input, setInput] = useState({\n        policy_id: \"all\",\n        user_id: \"\"\n    });\n    const [policies, setPolicies] = useState([]);\n    const [keywords, setKeywords] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleChange = name => event => {\n        setInput({ ...input, [name]: event.target.value });\n    };\n\n    useEffect(() => {\n        API.post(\"/admin/policy/list\", {\n            page: 1,\n            page_size: 10000,\n            order_by: \"id asc\",\n            conditions: {}\n        })\n            .then(response => {\n                setPolicies(response.data.items);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    const submit = () => {\n        const res = {};\n        Object.keys(input).forEach(v => {\n            if (input[v] !== \"all\" && input[v] !== \"\") {\n                res[v] = input[v];\n            }\n        });\n        setFilter(res);\n        if (keywords !== \"\") {\n            setSearch({\n                name: keywords\n            });\n        } else {\n            setSearch({});\n        }\n        onClose();\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            fullWidth\n            maxWidth={\"xs\"}\n        >\n            <DialogTitle id=\"alert-dialog-title\">过滤条件</DialogTitle>\n            <DialogContent>\n                <FormControl fullWidth>\n                    <InputLabel id=\"demo-simple-select-label\">\n                        存储策略\n                    </InputLabel>\n                    <Select\n                        labelId=\"demo-simple-select-label\"\n                        id=\"demo-simple-select\"\n                        value={input.policy_id}\n                        onChange={handleChange(\"policy_id\")}\n                    >\n                        <MenuItem value={\"all\"}>全部</MenuItem>\n                        {policies.map(v => {\n                            if (v.ID === 3) {\n                                return null;\n                            }\n                            return (\n                                <MenuItem key={v.ID} value={v.ID.toString()}>\n                                    {v.Name}\n                                </MenuItem>\n                            );\n                        })}\n                    </Select>\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <TextField\n                        value={input.user_id}\n                        onChange={handleChange(\"user_id\")}\n                        id=\"standard-basic\"\n                        label=\"上传者ID\"\n                    />\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <TextField\n                        value={keywords}\n                        onChange={e => setKeywords(e.target.value)}\n                        id=\"standard-basic\"\n                        label=\"搜索 文件名\"\n                    />\n                </FormControl>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"default\">\n                    取消\n                </Button>\n                <Button onClick={submit} color=\"primary\">\n                    应用\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import { lighten } from \"@material-ui/core\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Delete, DeleteForever, FilterList } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport { sizeToString } from \"../../../utils\";\nimport FileFilter from \"../Dialogs/FileFilter\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    content: {\n        padding: theme.spacing(2)\n    },\n    container: {\n        overflowX: \"auto\"\n    },\n    tableContainer: {\n        marginTop: 16\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\"\n    },\n    headerRight: {},\n    highlight:\n        theme.palette.type === \"light\"\n            ? {\n                  color: theme.palette.secondary.main,\n                  backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n              }\n            : {\n                  color: theme.palette.text.primary,\n                  backgroundColor: theme.palette.secondary.dark\n              },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1\n    }\n}));\n\nexport default function File() {\n    const classes = useStyles();\n    const [files, setFiles] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [filter, setFilter] = useState({});\n    const [users, setUsers] = useState({});\n    const [search, setSearch] = useState({});\n    const [orderBy, setOrderBy] = useState([\"id\", \"desc\"]);\n    const [filterDialog, setFilterDialog] = useState(false);\n    const [selected, setSelected] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = () => {\n        API.post(\"/admin/file/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: orderBy.join(\" \"),\n            conditions: filter,\n            searches: search\n        })\n            .then(response => {\n                setFiles(response.data.items);\n                setTotal(response.data.total);\n                setSelected([]);\n                setUsers(response.data.users);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, orderBy, filter, search]);\n\n    const deletePolicy = id => {\n        setLoading(true);\n        API.post(\"/admin/file/delete\", { id: [id] })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"删除任务将在后台执行\",\n                    \"success\"\n                );\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const deleteBatch = force => () => {\n        setLoading(true);\n        API.post(\"/admin/file/delete\", { id: selected, force: force })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"删除任务将在后台执行\",\n                    \"success\"\n                );\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleSelectAllClick = event => {\n        if (event.target.checked) {\n            const newSelecteds = files.map(n => n.ID);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const handleClick = (event, name) => {\n        const selectedIndex = selected.indexOf(name);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, name);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            );\n        }\n\n        setSelected(newSelected);\n    };\n\n    const isSelected = id => selected.indexOf(id) !== -1;\n\n    return (\n        <div>\n            <FileFilter\n                filter={filter}\n                open={filterDialog}\n                onClose={() => setFilterDialog(false)}\n                setSearch={setSearch}\n                setFilter={setFilter}\n            />\n            <div className={classes.header}>\n                <Button\n                    color={\"primary\"}\n                    onClick={() => history.push(\"/admin/file/import\")}\n                    variant={\"contained\"}\n                    style={{\n                        alignSelf: \"center\"\n                    }}\n                >\n                    从外部导入\n                </Button>\n                <div className={classes.headerRight}>\n                    <Tooltip title=\"过滤\">\n                        <IconButton\n                            style={{ marginRight: 8 }}\n                            onClick={() => setFilterDialog(true)}\n                        >\n                            <Badge\n                                color=\"secondary\"\n                                variant=\"dot\"\n                                invisible={\n                                    Object.keys(search).length === 0 &&\n                                    Object.keys(filter).length === 0\n                                }\n                            >\n                                <FilterList />\n                            </Badge>\n                        </IconButton>\n                    </Tooltip>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        刷新\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                {selected.length > 0 && (\n                    <Toolbar className={classes.highlight}>\n                        <Typography\n                            style={{ flex: \"1 1 100%\" }}\n                            color=\"inherit\"\n                            variant=\"subtitle1\"\n                        >\n                            已选择 {selected.length} 个对象\n                        </Typography>\n                        <Tooltip title=\"删除\">\n                            <IconButton\n                                onClick={deleteBatch(false)}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <Delete />\n                            </IconButton>\n                        </Tooltip>\n                        <Tooltip title=\"强制删除\">\n                            <IconButton\n                                onClick={deleteBatch(true)}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <DeleteForever />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                )}\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                <TableCell padding=\"checkbox\">\n                                    <Checkbox\n                                        indeterminate={\n                                            selected.length > 0 &&\n                                            selected.length < files.length\n                                        }\n                                        checked={\n                                            files.length > 0 &&\n                                            selected.length === files.length\n                                        }\n                                        onChange={handleSelectAllClick}\n                                        inputProps={{\n                                            \"aria-label\": \"select all desserts\"\n                                        }}\n                                    />\n                                </TableCell>\n                                <TableCell style={{ minWidth: 59 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"id\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"id\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        #\n                                        {orderBy[0] === \"id\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 250 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"name\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"name\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        文件名\n                                        {orderBy[0] === \"name\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell\n                                    align={\"right\"}\n                                    style={{ minWidth: 70 }}\n                                >\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"size\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"size\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        大小\n                                        {orderBy[0] === \"size\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 120 }}>\n                                    上传者\n                                </TableCell>\n                                <TableCell style={{ minWidth: 150 }}>\n                                    上传于\n                                </TableCell>\n                                <TableCell style={{ minWidth: 100 }}>\n                                    操作\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {files.map(row => (\n                                <TableRow\n                                    hover\n                                    key={row.ID}\n                                    role=\"checkbox\"\n                                    selected={isSelected(row.ID)}\n                                >\n                                    <TableCell padding=\"checkbox\">\n                                        <Checkbox\n                                            onClick={event =>\n                                                handleClick(event, row.ID)\n                                            }\n                                            checked={isSelected(row.ID)}\n                                        />\n                                    </TableCell>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell>\n                                        <Link\n                                            target={\"_blank\"}\n                                            color=\"inherit\"\n                                            href={\n                                                \"/api/v3/admin/file/preview/\" +\n                                                row.ID\n                                            }\n                                        >\n                                            {row.Name}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {sizeToString(row.Size)}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Link\n                                            href={\n                                                \"/admin/user/edit/\" + row.UserID\n                                            }\n                                        >\n                                            {users[row.UserID]\n                                                ? users[row.UserID].Nick\n                                                : \"未知\"}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {new Date(\n                                            row.CreatedAt\n                                        ).toLocaleDateString() +\n                                            \" \" +\n                                            new Date(\n                                                row.CreatedAt\n                                            ).toLocaleTimeString()}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Tooltip title={\"删除\"}>\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 50, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={e => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport React, { useState } from \"react\";\n\nexport default function ShareFilter({ setFilter, setSearch, open, onClose }) {\n    const [input, setInput] = useState({\n        is_dir: \"all\",\n        user_id: \"\"\n    });\n    const [keywords, setKeywords] = useState(\"\");\n\n    const handleChange = name => event => {\n        setInput({ ...input, [name]: event.target.value });\n    };\n\n    const submit = () => {\n        const res = {};\n        Object.keys(input).forEach(v => {\n            if (input[v] !== \"all\" && input[v] !== \"\") {\n                res[v] = input[v];\n            }\n        });\n        setFilter(res);\n        if (keywords !== \"\") {\n            setSearch({\n                source_name: keywords\n            });\n        } else {\n            setSearch({});\n        }\n        onClose();\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            fullWidth\n            maxWidth={\"xs\"}\n        >\n            <DialogTitle id=\"alert-dialog-title\">过滤条件</DialogTitle>\n            <DialogContent>\n                <FormControl fullWidth>\n                    <InputLabel id=\"demo-simple-select-label\">\n                        源文件类型\n                    </InputLabel>\n                    <Select\n                        labelId=\"demo-simple-select-label\"\n                        id=\"demo-simple-select\"\n                        value={input.is_dir}\n                        onChange={handleChange(\"is_dir\")}\n                    >\n                        <MenuItem value={\"all\"}>全部</MenuItem>\n                        <MenuItem value={\"1\"}>目录</MenuItem>\n                        <MenuItem value={\"0\"}>文件</MenuItem>\n                    </Select>\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <TextField\n                        value={input.user_id}\n                        onChange={handleChange(\"user_id\")}\n                        id=\"standard-basic\"\n                        label=\"上传者ID\"\n                    />\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <TextField\n                        value={keywords}\n                        onChange={e => setKeywords(e.target.value)}\n                        id=\"standard-basic\"\n                        label=\"搜索 文件名\"\n                    />\n                </FormControl>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"default\">\n                    取消\n                </Button>\n                <Button onClick={submit} color=\"primary\">\n                    应用\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import { lighten } from \"@material-ui/core\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Delete, FilterList } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport ShareFilter from \"../Dialogs/ShareFilter\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    content: {\n        padding: theme.spacing(2)\n    },\n    container: {\n        overflowX: \"auto\"\n    },\n    tableContainer: {\n        marginTop: 16\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    },\n    headerRight: {},\n    highlight:\n        theme.palette.type === \"light\"\n            ? {\n                  color: theme.palette.secondary.main,\n                  backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n              }\n            : {\n                  color: theme.palette.text.primary,\n                  backgroundColor: theme.palette.secondary.dark\n              },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1\n    }\n}));\n\nexport default function Share() {\n    const classes = useStyles();\n    const [shares, setShares] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [filter, setFilter] = useState({});\n    const [users, setUsers] = useState({});\n    const [ids, setIds] = useState({});\n    const [search, setSearch] = useState({});\n    const [orderBy, setOrderBy] = useState([\"id\", \"desc\"]);\n    const [filterDialog, setFilterDialog] = useState(false);\n    const [selected, setSelected] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const loadList = () => {\n        API.post(\"/admin/share/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: orderBy.join(\" \"),\n            conditions: filter,\n            searches: search\n        })\n            .then(response => {\n                setUsers(response.data.users);\n                setIds(response.data.ids);\n                setShares(response.data.items);\n                setTotal(response.data.total);\n                setSelected([]);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, orderBy, filter, search]);\n\n    const deletePolicy = id => {\n        setLoading(true);\n        API.post(\"/admin/share/delete\", { id: [id] })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", \"分享已删除\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const deleteBatch = () => {\n        setLoading(true);\n        API.post(\"/admin/share/delete\", { id: selected })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", \"分享已删除\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleSelectAllClick = event => {\n        if (event.target.checked) {\n            const newSelecteds = shares.map(n => n.ID);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const handleClick = (event, name) => {\n        const selectedIndex = selected.indexOf(name);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, name);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            );\n        }\n\n        setSelected(newSelected);\n    };\n\n    const isSelected = id => selected.indexOf(id) !== -1;\n\n    return (\n        <div>\n            <ShareFilter\n                filter={filter}\n                open={filterDialog}\n                onClose={() => setFilterDialog(false)}\n                setSearch={setSearch}\n                setFilter={setFilter}\n            />\n            <div className={classes.header}>\n                <div className={classes.headerRight}>\n                    <Tooltip title=\"过滤\">\n                        <IconButton\n                            style={{ marginRight: 8 }}\n                            onClick={() => setFilterDialog(true)}\n                        >\n                            <Badge\n                                color=\"secondary\"\n                                variant=\"dot\"\n                                invisible={\n                                    Object.keys(search).length === 0 &&\n                                    Object.keys(filter).length === 0\n                                }\n                            >\n                                <FilterList />\n                            </Badge>\n                        </IconButton>\n                    </Tooltip>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        刷新\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                {selected.length > 0 && (\n                    <Toolbar className={classes.highlight}>\n                        <Typography\n                            style={{ flex: \"1 1 100%\" }}\n                            color=\"inherit\"\n                            variant=\"subtitle1\"\n                        >\n                            已选择 {selected.length} 个对象\n                        </Typography>\n                        <Tooltip title=\"删除\">\n                            <IconButton\n                                onClick={deleteBatch}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <Delete />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                )}\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                <TableCell padding=\"checkbox\">\n                                    <Checkbox\n                                        indeterminate={\n                                            selected.length > 0 &&\n                                            selected.length < shares.length\n                                        }\n                                        checked={\n                                            shares.length > 0 &&\n                                            selected.length === shares.length\n                                        }\n                                        onChange={handleSelectAllClick}\n                                        inputProps={{\n                                            \"aria-label\": \"select all desserts\"\n                                        }}\n                                    />\n                                </TableCell>\n                                <TableCell style={{ minWidth: 10 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"id\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"id\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        #\n                                        {orderBy[0] === \"id\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 200 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"source_name\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"source_name\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        对象名\n                                        {orderBy[0] === \"source_name\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 70 }}>\n                                    类型\n                                </TableCell>\n                                <TableCell\n                                    style={{ minWidth: 100 }}\n                                    align={\"right\"}\n                                >\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"views\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"views\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        浏览\n                                        {orderBy[0] === \"views\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell\n                                    style={{ minWidth: 100 }}\n                                    align={\"right\"}\n                                >\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"downloads\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"downloads\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        下载\n                                        {orderBy[0] === \"downloads\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 120 }}>\n                                    自动过期\n                                </TableCell>\n                                <TableCell style={{ minWidth: 120 }}>\n                                    分享者\n                                </TableCell>\n                                <TableCell style={{ minWidth: 150 }}>\n                                    分享于\n                                </TableCell>\n                                <TableCell style={{ minWidth: 100 }}>\n                                    操作\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {shares.map(row => (\n                                <TableRow\n                                    hover\n                                    key={row.ID}\n                                    role=\"checkbox\"\n                                    selected={isSelected(row.ID)}\n                                >\n                                    <TableCell padding=\"checkbox\">\n                                        <Checkbox\n                                            onClick={event =>\n                                                handleClick(event, row.ID)\n                                            }\n                                            checked={isSelected(row.ID)}\n                                        />\n                                    </TableCell>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell\n                                        style={{ wordBreak: \"break-all\" }}\n                                    >\n                                        <Link\n                                            target={\"_blank\"}\n                                            color=\"inherit\"\n                                            href={\n                                                \"/s/\" +\n                                                ids[row.ID] +\n                                                (row.Password === \"\"\n                                                    ? \"\"\n                                                    : \"?password=\" +\n                                                      row.Password)\n                                            }\n                                        >\n                                            {row.SourceName}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {row.Password === \"\" ? \"公开\" : \"私密\"}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {row.Views}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {row.Downloads}\n                                    </TableCell>\n                                    <TableCell>\n                                        {row.RemainDownloads > -1 &&\n                                            row.RemainDownloads + \" 次下载后\"}\n                                        {row.RemainDownloads === -1 && \"无\"}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Link\n                                            href={\n                                                \"/admin/user/edit/\" + row.UserID\n                                            }\n                                        >\n                                            {users[row.UserID]\n                                                ? users[row.UserID].Nick\n                                                : \"未知\"}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {new Date(\n                                            row.CreatedAt\n                                        ).toLocaleDateString() +\n                                            \" \" +\n                                            new Date(\n                                                row.CreatedAt\n                                            ).toLocaleTimeString()}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Tooltip title={\"删除\"}>\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 50, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={e => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import { lighten } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Delete } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport { sizeToString } from \"../../../utils\";\nimport ShareFilter from \"../Dialogs/ShareFilter\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    content: {\n        padding: theme.spacing(2)\n    },\n    container: {\n        overflowX: \"auto\"\n    },\n    tableContainer: {\n        marginTop: 16\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    },\n    headerRight: {},\n    highlight:\n        theme.palette.type === \"light\"\n            ? {\n                  color: theme.palette.secondary.main,\n                  backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n              }\n            : {\n                  color: theme.palette.text.primary,\n                  backgroundColor: theme.palette.secondary.dark\n              },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1\n    }\n}));\n\nexport default function Download() {\n    const classes = useStyles();\n    const [downloads, setDownloads] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [filter, setFilter] = useState({});\n    const [users, setUsers] = useState({});\n    const [search, setSearch] = useState({});\n    const [orderBy, setOrderBy] = useState([\"id\", \"desc\"]);\n    const [filterDialog, setFilterDialog] = useState(false);\n    const [selected, setSelected] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = () => {\n        API.post(\"/admin/download/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: orderBy.join(\" \"),\n            conditions: filter,\n            searches: search\n        })\n            .then(response => {\n                setUsers(response.data.users);\n                setDownloads(response.data.items);\n                setTotal(response.data.total);\n                setSelected([]);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, orderBy, filter, search]);\n\n    const deletePolicy = id => {\n        setLoading(true);\n        API.post(\"/admin/download/delete\", { id: [id] })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", \"任务已删除\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const deleteBatch = () => {\n        setLoading(true);\n        API.post(\"/admin/download/delete\", { id: selected })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", \"任务已删除\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleSelectAllClick = event => {\n        if (event.target.checked) {\n            const newSelecteds = downloads.map(n => n.ID);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const handleClick = (event, name) => {\n        const selectedIndex = selected.indexOf(name);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, name);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            );\n        }\n\n        setSelected(newSelected);\n    };\n\n    const isSelected = id => selected.indexOf(id) !== -1;\n\n    return (\n        <div>\n            <ShareFilter\n                filter={filter}\n                open={filterDialog}\n                onClose={() => setFilterDialog(false)}\n                setSearch={setSearch}\n                setFilter={setFilter}\n            />\n            <div className={classes.header}>\n                <div className={classes.headerRight}>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        刷新\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                {selected.length > 0 && (\n                    <Toolbar className={classes.highlight}>\n                        <Typography\n                            style={{ flex: \"1 1 100%\" }}\n                            color=\"inherit\"\n                            variant=\"subtitle1\"\n                        >\n                            已选择 {selected.length} 个对象\n                        </Typography>\n                        <Tooltip title=\"删除\">\n                            <IconButton\n                                onClick={deleteBatch}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <Delete />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                )}\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                <TableCell padding=\"checkbox\">\n                                    <Checkbox\n                                        indeterminate={\n                                            selected.length > 0 &&\n                                            selected.length < downloads.length\n                                        }\n                                        checked={\n                                            downloads.length > 0 &&\n                                            selected.length === downloads.length\n                                        }\n                                        onChange={handleSelectAllClick}\n                                        inputProps={{\n                                            \"aria-label\": \"select all desserts\"\n                                        }}\n                                    />\n                                </TableCell>\n                                <TableCell style={{ minWidth: 10 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"id\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"id\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        #\n                                        {orderBy[0] === \"id\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 130 }}>\n                                    源地址\n                                </TableCell>\n                                <TableCell style={{ minWidth: 90 }}>\n                                    状态\n                                </TableCell>\n                                <TableCell\n                                    style={{ minWidth: 150 }}\n                                    align={\"right\"}\n                                >\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"total_size\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"total_size\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        大小\n                                        {orderBy[0] === \"total_size\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 100 }}>\n                                    创建者\n                                </TableCell>\n                                <TableCell style={{ minWidth: 150 }}>\n                                    创建于\n                                </TableCell>\n                                <TableCell style={{ minWidth: 80 }}>\n                                    操作\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {downloads.map(row => (\n                                <TableRow\n                                    hover\n                                    key={row.ID}\n                                    role=\"checkbox\"\n                                    selected={isSelected(row.ID)}\n                                >\n                                    <TableCell padding=\"checkbox\">\n                                        <Checkbox\n                                            onClick={event =>\n                                                handleClick(event, row.ID)\n                                            }\n                                            checked={isSelected(row.ID)}\n                                        />\n                                    </TableCell>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell\n                                        style={{ wordBreak: \"break-all\" }}\n                                    >\n                                        {row.Source}\n                                    </TableCell>\n                                    <TableCell>\n                                        {row.Status === 0 && \"就绪\"}\n                                        {row.Status === 1 && \"下载中\"}\n                                        {row.Status === 2 && \"暂停中\"}\n                                        {row.Status === 3 && \"出错\"}\n                                        {row.Status === 4 && \"完成\"}\n                                        {row.Status === 5 && \"取消/停止\"}\n                                        {row.Status === 6 && \"未知\"}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {sizeToString(row.TotalSize)}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Link\n                                            href={\n                                                \"/admin/user/edit/\" + row.UserID\n                                            }\n                                        >\n                                            {users[row.UserID]\n                                                ? users[row.UserID].Nick\n                                                : \"未知\"}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {new Date(\n                                            row.CreatedAt\n                                        ).toLocaleDateString() +\n                                            \" \" +\n                                            new Date(\n                                                row.CreatedAt\n                                            ).toLocaleTimeString()}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Tooltip title={\"删除\"}>\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 50, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={e => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import { lighten } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Delete } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport { getTaskProgress, getTaskStatus, getTaskType } from \"../../../config\";\nimport API from \"../../../middleware/Api\";\nimport ShareFilter from \"../Dialogs/ShareFilter\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    content: {\n        padding: theme.spacing(2)\n    },\n    container: {\n        overflowX: \"auto\"\n    },\n    tableContainer: {\n        marginTop: 16\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    },\n    headerRight: {},\n    highlight:\n        theme.palette.type === \"light\"\n            ? {\n                  color: theme.palette.secondary.main,\n                  backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n              }\n            : {\n                  color: theme.palette.text.primary,\n                  backgroundColor: theme.palette.secondary.dark\n              },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1\n    }\n}));\n\nexport default function Task() {\n    const classes = useStyles();\n    const [tasks, setTasks] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [filter, setFilter] = useState({});\n    const [users, setUsers] = useState({});\n    const [search, setSearch] = useState({});\n    const [orderBy, setOrderBy] = useState([\"id\", \"desc\"]);\n    const [filterDialog, setFilterDialog] = useState(false);\n    const [selected, setSelected] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = () => {\n        API.post(\"/admin/task/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: orderBy.join(\" \"),\n            conditions: filter,\n            searches: search\n        })\n            .then(response => {\n                setUsers(response.data.users);\n                setTasks(response.data.items);\n                setTotal(response.data.total);\n                setSelected([]);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, orderBy, filter, search]);\n\n    const deletePolicy = id => {\n        setLoading(true);\n        API.post(\"/admin/task/delete\", { id: [id] })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", \"任务已删除\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const deleteBatch = () => {\n        setLoading(true);\n        API.post(\"/admin/task/delete\", { id: selected })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", \"任务已删除\", \"success\");\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleSelectAllClick = event => {\n        if (event.target.checked) {\n            const newSelecteds = tasks.map(n => n.ID);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const handleClick = (event, name) => {\n        const selectedIndex = selected.indexOf(name);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, name);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            );\n        }\n\n        setSelected(newSelected);\n    };\n\n    const getError = error => {\n        if (error === \"\") {\n            return \"-\";\n        }\n        try {\n            const res = JSON.parse(error);\n            return res.msg;\n        } catch (e) {\n            return \"未知\";\n        }\n    };\n\n    const isSelected = id => selected.indexOf(id) !== -1;\n\n    return (\n        <div>\n            <ShareFilter\n                filter={filter}\n                open={filterDialog}\n                onClose={() => setFilterDialog(false)}\n                setSearch={setSearch}\n                setFilter={setFilter}\n            />\n            <div className={classes.header}>\n                <div className={classes.headerRight}>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        刷新\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                {selected.length > 0 && (\n                    <Toolbar className={classes.highlight}>\n                        <Typography\n                            style={{ flex: \"1 1 100%\" }}\n                            color=\"inherit\"\n                            variant=\"subtitle1\"\n                        >\n                            已选择 {selected.length} 个对象\n                        </Typography>\n                        <Tooltip title=\"删除\">\n                            <IconButton\n                                onClick={deleteBatch}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <Delete />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                )}\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                <TableCell padding=\"checkbox\">\n                                    <Checkbox\n                                        indeterminate={\n                                            selected.length > 0 &&\n                                            selected.length < tasks.length\n                                        }\n                                        checked={\n                                            tasks.length > 0 &&\n                                            selected.length === tasks.length\n                                        }\n                                        onChange={handleSelectAllClick}\n                                        inputProps={{\n                                            \"aria-label\": \"select all desserts\"\n                                        }}\n                                    />\n                                </TableCell>\n                                <TableCell style={{ minWidth: 10 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"id\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"id\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\"\n                                            ])\n                                        }\n                                    >\n                                        #\n                                        {orderBy[0] === \"id\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 130 }}>\n                                    类型\n                                </TableCell>\n                                <TableCell style={{ minWidth: 90 }}>\n                                    状态\n                                </TableCell>\n                                <TableCell style={{ minWidth: 90 }}>\n                                    最后进度\n                                </TableCell>\n                                <TableCell style={{ minWidth: 150 }}>\n                                    错误信息\n                                </TableCell>\n                                <TableCell style={{ minWidth: 100 }}>\n                                    创建者\n                                </TableCell>\n                                <TableCell style={{ minWidth: 150 }}>\n                                    创建于\n                                </TableCell>\n                                <TableCell style={{ minWidth: 80 }}>\n                                    操作\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {tasks.map(row => (\n                                <TableRow\n                                    hover\n                                    key={row.ID}\n                                    role=\"checkbox\"\n                                    selected={isSelected(row.ID)}\n                                >\n                                    <TableCell padding=\"checkbox\">\n                                        <Checkbox\n                                            onClick={event =>\n                                                handleClick(event, row.ID)\n                                            }\n                                            checked={isSelected(row.ID)}\n                                        />\n                                    </TableCell>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell\n                                        style={{ wordBreak: \"break-all\" }}\n                                    >\n                                        {getTaskType(row.Type)}\n                                    </TableCell>\n                                    <TableCell>\n                                        {getTaskStatus(row.Status)}\n                                    </TableCell>\n                                    <TableCell>\n                                        {getTaskProgress(\n                                            row.Type,\n                                            row.Progress\n                                        )}\n                                    </TableCell>\n                                    <TableCell className={classes.noWrap}>\n                                        {getError(row.Error)}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Link\n                                            href={\n                                                \"/admin/user/edit/\" + row.UserID\n                                            }\n                                        >\n                                            {users[row.UserID]\n                                                ? users[row.UserID].Nick\n                                                : \"未知\"}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {new Date(\n                                            row.CreatedAt\n                                        ).toLocaleDateString() +\n                                            \" \" +\n                                            new Date(\n                                                row.CreatedAt\n                                            ).toLocaleTimeString()}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Tooltip title={\"删除\"}>\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 50, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={e => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import { Dialog } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Chip from \"@material-ui/core/Chip\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Fade from \"@material-ui/core/Fade\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../actions\";\nimport API from \"../../../middleware/Api\";\nimport PathSelector from \"../../FileManager/PathSelector\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100\n        },\n        marginBottom: 40\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\"\n        }\n    },\n    userSelect: {\n        width: 400,\n        borderRadius: 0\n    }\n}));\n\nfunction useDebounce(value, delay) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n\n    useEffect(() => {\n        const handler = setTimeout(() => {\n            setDebouncedValue(value);\n        }, delay);\n        return () => {\n            clearTimeout(handler);\n        };\n    }, [value]);\n\n    return debouncedValue;\n}\n\nexport default function Import() {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        policy: 1,\n        userInput: \"\",\n        src: \"\",\n        dst: \"\",\n        recursive: true\n    });\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [policies, setPolicies] = useState({});\n    const [users, setUsers] = useState([]);\n    const [user, setUser] = useState(null);\n    const [selectRemote, setSelectRemote] = useState(false);\n    const [selectLocal, setSelectLocal] = useState(false);\n\n    const handleChange = name => event => {\n        setOptions({\n            ...options,\n            [name]: event.target.value\n        });\n    };\n\n    const handleCheckChange = name => event => {\n        setOptions({\n            ...options,\n            [name]: event.target.checked\n        });\n    };\n\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submit = e => {\n        e.preventDefault();\n        if (user === null) {\n            ToggleSnackbar(\"top\", \"right\", \"请先选择目标用户\", \"warning\");\n            return;\n        }\n        setLoading(true);\n        API.post(\"/admin/task/import\", {\n            uid: user.ID,\n            policy_id: parseInt(options.policy),\n            src: options.src,\n            dst: options.dst,\n            recursive: options.recursive\n        })\n            .then(() => {\n                setLoading(false);\n                history.push(\"/admin/file\");\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"导入任务已创建，您可以在“持久任务”中查看执行情况\",\n                    \"success\"\n                );\n            })\n            .catch(error => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const debouncedSearchTerm = useDebounce(options.userInput, 500);\n\n    useEffect(() => {\n        if (debouncedSearchTerm !== \"\") {\n            API.post(\"/admin/user/list\", {\n                page: 1,\n                page_size: 10000,\n                order_by: \"id asc\",\n                searches: {\n                    nick: debouncedSearchTerm,\n                    email: debouncedSearchTerm\n                }\n            })\n                .then(response => {\n                    setUsers(response.data.items);\n                })\n                .catch(error => {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                });\n        }\n    }, [debouncedSearchTerm]);\n\n    useEffect(() => {\n        API.post(\"/admin/policy/list\", {\n            page: 1,\n            page_size: 10000,\n            order_by: \"id asc\",\n            conditions: {}\n        })\n            .then(response => {\n                const res = {};\n                response.data.items.forEach(v => {\n                    res[v.ID] = v;\n                });\n                setPolicies(res);\n            })\n            .catch(error => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const selectUser = u => {\n        setOptions({\n            ...options,\n            userInput: \"\"\n        });\n        setUser(u);\n    };\n\n    const setMoveTarget = setter => folder => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setter(path === \"//\" ? \"/\" : path);\n    };\n\n    const openPathSelector = isSrcSelect => {\n        if (isSrcSelect) {\n            if (\n                !policies[options.policy] ||\n                policies[options.policy].Type === \"local\" ||\n                policies[options.policy].Type === \"remote\"\n            ) {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    \"选择的存储策略只支持手动输入路径\",\n                    \"warning\"\n                );\n                return;\n            }\n            setSelectRemote(true);\n        } else {\n            if (user === null) {\n                ToggleSnackbar(\"top\", \"right\", \"请先选择目标用户\", \"warning\");\n                return;\n            }\n            setSelectLocal(true);\n        }\n    };\n\n    return (\n        <div>\n            <Dialog\n                open={selectRemote}\n                onClose={() => setSelectRemote(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">选择目录</DialogTitle>\n                <PathSelector\n                    presentPath=\"/\"\n                    api={\"/admin/file/folders/policy/\" + options.policy}\n                    selected={[]}\n                    onSelect={setMoveTarget(p =>\n                        setOptions({\n                            ...options,\n                            src: p\n                        })\n                    )}\n                />\n\n                <DialogActions>\n                    <Button\n                        onClick={() => setSelectRemote(false)}\n                        color=\"primary\"\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Dialog\n                open={selectLocal}\n                onClose={() => setSelectLocal(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">选择目录</DialogTitle>\n                <PathSelector\n                    presentPath=\"/\"\n                    api={\n                        \"/admin/file/folders/user/\" +\n                        (user === null ? 0 : user.ID)\n                    }\n                    selected={[]}\n                    onSelect={setMoveTarget(p =>\n                        setOptions({\n                            ...options,\n                            dst: p\n                        })\n                    )}\n                />\n\n                <DialogActions>\n                    <Button\n                        onClick={() => setSelectLocal(false)}\n                        color=\"primary\"\n                    >\n                        确定\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        导入外部目录\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <Alert severity=\"info\">\n                                您可以将存储策略中已有文件、目录结构导入到\n                                Cloudreve\n                                中，导入操作不会额外占用物理存储空间，但仍会正常扣除用户已用容量空间，空间不足时将停止导入。\n                            </Alert>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    存储策略\n                                </InputLabel>\n                                <Select\n                                    labelId=\"demo-mutiple-chip-label\"\n                                    id=\"demo-mutiple-chip\"\n                                    value={options.policy}\n                                    onChange={handleChange(\"policy\")}\n                                    input={<Input id=\"select-multiple-chip\" />}\n                                >\n                                    {Object.keys(policies).map(pid => (\n                                        <MenuItem key={pid} value={pid}>\n                                            {policies[pid].Name}\n                                        </MenuItem>\n                                    ))}\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    选择要导入文件目前存储所在的存储策略\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    目标用户\n                                </InputLabel>\n                                <Input\n                                    value={options.userInput}\n                                    onChange={e => {\n                                        handleChange(\"userInput\")(e);\n                                        setAnchorEl(e.currentTarget);\n                                    }}\n                                    startAdornment={\n                                        user !== null && (\n                                            <InputAdornment position=\"start\">\n                                                <Chip\n                                                    size=\"small\"\n                                                    onDelete={() => {\n                                                        setUser(null);\n                                                    }}\n                                                    label={user.Nick}\n                                                />\n                                            </InputAdornment>\n                                        )\n                                    }\n                                    disabled={user !== null}\n                                />\n                                <Popper\n                                    open={\n                                        options.userInput !== \"\" &&\n                                        users.length > 0\n                                    }\n                                    anchorEl={anchorEl}\n                                    placement={\"bottom\"}\n                                    transition\n                                >\n                                    {({ TransitionProps }) => (\n                                        <Fade\n                                            {...TransitionProps}\n                                            timeout={350}\n                                        >\n                                            <Paper\n                                                className={classes.userSelect}\n                                            >\n                                                {users.map(u => (\n                                                    <MenuItem\n                                                        key={u.Email}\n                                                        onClick={() =>\n                                                            selectUser(u)\n                                                        }\n                                                    >\n                                                        {u.Nick}{\" \"}\n                                                        {\"<\" + u.Email + \">\"}\n                                                    </MenuItem>\n                                                ))}\n                                            </Paper>\n                                        </Fade>\n                                    )}\n                                </Popper>\n                                <FormHelperText id=\"component-helper-text\">\n                                    选择要将文件导入到哪个用户的文件系统中，可通过昵称、邮箱搜索用户\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    原始目录路径\n                                </InputLabel>\n\n                                <Input\n                                    value={options.src}\n                                    onChange={e => {\n                                        handleChange(\"src\")(e);\n                                        setAnchorEl(e.currentTarget);\n                                    }}\n                                    required\n                                    endAdornment={\n                                        <Button\n                                            onClick={() =>\n                                                openPathSelector(true)\n                                            }\n                                        >\n                                            选择\n                                        </Button>\n                                    }\n                                />\n\n                                <FormHelperText id=\"component-helper-text\">\n                                    要导入的目录在存储端的路径\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    目的目录路径\n                                </InputLabel>\n\n                                <Input\n                                    value={options.dst}\n                                    onChange={e => {\n                                        handleChange(\"dst\")(e);\n                                        setAnchorEl(e.currentTarget);\n                                    }}\n                                    required\n                                    endAdornment={\n                                        <Button\n                                            onClick={() =>\n                                                openPathSelector(false)\n                                            }\n                                        >\n                                            选择\n                                        </Button>\n                                    }\n                                />\n\n                                <FormHelperText id=\"component-helper-text\">\n                                    要将目录导入到用户文件系统中的路径\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={options.recursive}\n                                            onChange={handleCheckChange(\n                                                \"recursive\"\n                                            )}\n                                        />\n                                    }\n                                    label=\"递归导入子目录\"\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    是否将目录下的所有子目录递归导入\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        创建导入任务\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { CssBaseline, makeStyles } from \"@material-ui/core\";\nimport AlertBar from \"./component/Common/Snackbar\";\nimport Dashboard from \"./component/Admin/Dashboard\";\nimport { useHistory } from \"react-router\";\nimport Auth from \"./middleware/Auth\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\nimport { zhCN } from \"@material-ui/core/locale\";\n\nimport Index from \"./component/Admin/Index\";\nimport SiteInformation from \"./component/Admin/Setting/SiteInformation\";\nimport Access from \"./component/Admin/Setting/Access\";\nimport Mail from \"./component/Admin/Setting/Mail\";\nimport UploadDownload from \"./component/Admin/Setting/UploadDownload\";\nimport Theme from \"./component/Admin/Setting/Theme\";\nimport Aria2 from \"./component/Admin/Setting/Aria2\";\nimport ImageSetting from \"./component/Admin/Setting/Image\";\nimport Policy from \"./component/Admin/Policy/Policy\";\nimport AddPolicy from \"./component/Admin/Policy/AddPolicy\";\nimport EditPolicyPreload from \"./component/Admin/Policy/EditPolicy\";\nimport Group from \"./component/Admin/Group/Group\";\nimport GroupForm from \"./component/Admin/Group/GroupForm\";\nimport EditGroupPreload from \"./component/Admin/Group/EditGroup\";\nimport User from \"./component/Admin/User/User\";\nimport UserForm from \"./component/Admin/User/UserForm\";\nimport EditUserPreload from \"./component/Admin/User/EditUser\";\nimport File from \"./component/Admin/File/File\";\nimport Share from \"./component/Admin/Share/Share\";\nimport Download from \"./component/Admin/Task/Download\";\nimport Task from \"./component/Admin/Task/Task\";\nimport Import from \"./component/Admin/File/Import\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\"\n    },\n    content: {\n        flexGrow: 1,\n        padding: 0,\n        minWidth: 0\n    },\n    toolbar: theme.mixins.toolbar\n}));\n\nconst theme = createMuiTheme(\n    {\n        palette: {\n            background: {}\n        }\n    },\n    zhCN\n);\n\nexport default function Admin() {\n    const classes = useStyles();\n    const history = useHistory();\n    const [show, setShow] = useState(false);\n\n    useEffect(() => {\n        const user = Auth.GetUser();\n        if (user && user.group) {\n            if (user.group.id !== 1) {\n                history.push(\"/home\");\n                return;\n            }\n            setShow(true);\n            return;\n        }\n        history.push(\"/login\");\n        // eslint-disable-next-line\n    }, []);\n\n    return (\n        <React.Fragment>\n            <ThemeProvider theme={theme}>\n                <div className={classes.root}>\n                    <CssBaseline />\n                    <AlertBar />\n                    {show && (\n                        <Dashboard\n                            content={path => (\n                                <Switch>\n                                    <Route path={`${path}/home`} exact>\n                                        <Index />\n                                    </Route>\n\n                                    <Route path={`${path}/basic`}>\n                                        <SiteInformation />\n                                    </Route>\n\n                                    <Route path={`${path}/access`}>\n                                        <Access />\n                                    </Route>\n\n                                    <Route path={`${path}/mail`}>\n                                        <Mail />\n                                    </Route>\n\n                                    <Route path={`${path}/upload`}>\n                                        <UploadDownload />\n                                    </Route>\n\n                                    <Route path={`${path}/theme`}>\n                                        <Theme />\n                                    </Route>\n\n                                    <Route path={`${path}/aria2`}>\n                                        <Aria2 />\n                                    </Route>\n\n                                    <Route path={`${path}/image`}>\n                                        <ImageSetting />\n                                    </Route>\n\n                                    <Route path={`${path}/policy`} exact>\n                                        <Policy />\n                                    </Route>\n\n                                    <Route\n                                        path={`${path}/policy/add/:type`}\n                                        exact\n                                    >\n                                        <AddPolicy />\n                                    </Route>\n\n                                    <Route\n                                        path={`${path}/policy/edit/:mode/:id`}\n                                        exact\n                                    >\n                                        <EditPolicyPreload />\n                                    </Route>\n\n                                    <Route path={`${path}/group`} exact>\n                                        <Group />\n                                    </Route>\n\n                                    <Route path={`${path}/group/add`} exact>\n                                        <GroupForm />\n                                    </Route>\n\n                                    <Route\n                                        path={`${path}/group/edit/:id`}\n                                        exact\n                                    >\n                                        <EditGroupPreload />\n                                    </Route>\n\n                                    <Route path={`${path}/user`} exact>\n                                        <User />\n                                    </Route>\n\n                                    <Route path={`${path}/user/add`} exact>\n                                        <UserForm />\n                                    </Route>\n\n                                    <Route path={`${path}/user/edit/:id`} exact>\n                                        <EditUserPreload />\n                                    </Route>\n\n                                    <Route path={`${path}/file`} exact>\n                                        <File />\n                                    </Route>\n\n                                    <Route path={`${path}/file/import`} exact>\n                                        <Import />\n                                    </Route>\n\n                                    <Route path={`${path}/share`} exact>\n                                        <Share />\n                                    </Route>\n\n                                    <Route path={`${path}/download`} exact>\n                                        <Download />\n                                    </Route>\n\n                                    <Route path={`${path}/task`} exact>\n                                        <Task />\n                                    </Route>\n                                </Switch>\n                            )}\n                        />\n                    )}\n                </div>\n            </ThemeProvider>\n        </React.Fragment>\n    );\n}\n"],"sourceRoot":""}